<!DOCTYPE html>
<!-- saved from url=(0045)http://www.cnblogs.com/xishuai/p/3670292.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script src="./Unity依赖注入使用详解_files/shares.php" charset="utf-8"></script>

<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Unity依赖注入使用详解 - 田园里的蟋蟀 - 博客园</title>
<link type="text/css" rel="stylesheet" href="./Unity依赖注入使用详解_files/blog-common.css">
<link id="MainCss" type="text/css" rel="stylesheet" href="./Unity依赖注入使用详解_files/bundle-BlackLowKey.css">
<link type="text/css" rel="stylesheet" href="./Unity依赖注入使用详解_files/124657.css">
<link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="./Unity依赖注入使用详解_files/bundle-BlackLowKey-mobile.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/xishuai/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/xishuai/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/xishuai/wlwmanifest.xml">
<script async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" src="./Unity依赖注入使用详解_files/encoder.js.下载"></script><script async="" src="http://www.google-analytics.com/analytics.js"></script><script src="./Unity依赖注入使用详解_files/jquery.js.下载" type="text/javascript"></script><style type="text/css">:root .sidebar-image,
:root .my_money,
:root .h_ads,
:root .focus-gg,
:root .ad_right,
:root .adPopup
{display:none !important;}</style>  
<script type="text/javascript">var currentBlogApp = 'xishuai', cb_enable_mathjax=false;var isLogined=true;</script>
<script src="./Unity依赖注入使用详解_files/blog-common.js.下载" type="text/javascript"></script>
<style type="text/css">:root #header + #content > #left > #rlblock_left
{display:none !important;}</style></head>
<body><link href="./Unity依赖注入使用详解_files/jiathis_counter.css" rel="stylesheet" type="text/css"><link href="./Unity依赖注入使用详解_files/jiathis_share.css" rel="stylesheet" type="text/css"><iframe frameborder="0" style="position: absolute; display: none; opacity: 0;" src="./Unity依赖注入使用详解_files/saved_resource.html"></iframe><div class="jiathis_style" style="position: absolute; z-index: 1000000000; display: none; top: 50%; left: 50%; overflow: auto;"></div><div class="jiathis_style" style="position: absolute; z-index: 1000000000; display: none; overflow: auto;"></div><iframe frameborder="0" src="./Unity依赖注入使用详解_files/jiathis_utility.html" style="display: none;"></iframe>
<a name="top"></a>
<!--PageBeginHtml Block Begin-->
<!--github彩条-->
<a href="https://github.com/yuezhongxin" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="./Unity依赖注入使用详解_files/131337049339339.png" alt="Fork me on GitHub" data-canonical-src="http://images.cnitblog.com/blog2015/435188/201503/131337049339339.png"></a>
<!--PageBeginHtml Block End-->

<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a id="lnkBlogLogo" href="http://www.cnblogs.com/xishuai/"><img id="blogLogo" src="./Unity依赖注入使用详解_files/logo.gif" alt="返回主页"></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cnblogs.com/xishuai/">田园里的蟋蟀</a></h1>
<h2>写代码，写博客，学英语。</h2>



		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="http://www.cnblogs.com/">博客园</a></li>
<li><a id="blog_nav_myhome" class="menu" href="http://www.cnblogs.com/xishuai/">首页</a></li>
<li><a id="blog_nav_newpost" class="menu" rel="nofollow" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">新随笔</a></li>
<li><a id="blog_nav_contact" class="menu" rel="nofollow" href="https://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80">联系</a></li>
<li><a id="blog_nav_rss" class="menu" href="http://www.cnblogs.com/xishuai/rss">订阅</a>
<!--<a id="blog_nav_rss_image" class="aHeaderXML" href="http://www.cnblogs.com/xishuai/rss"><img src="//www.cnblogs.com/images/xml.gif" alt="订阅" /></a>--></li>
<li><a id="blog_nav_admin" class="menu" rel="nofollow" href="https://i.cnblogs.com/">管理</a></li>
</ul>
		<div class="blogStats">
			
			<div id="blog_stats">
<span id="stats_post_count">随笔 - 340&nbsp; </span>
<span id="stats_article_count">文章 - 0&nbsp; </span>
<span id="stats-comment_count">评论 - 4601</span>
</div>
			
		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
<div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/xishuai/p/3670292.html">Unity依赖注入使用详解</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body"><h2>写在前面</h2>
<ul>
<li><a href="http://www.cnblogs.com/xishuai/p/3670292.html#xishuai_h1"><span style="font-size: 15px;">构造器注入</span></a></li>
<li><a href="http://www.cnblogs.com/xishuai/p/3670292.html#xishuai_h2"><span style="font-size: 15px;">Dependency属性注入</span></a></li>
<li><a href="http://www.cnblogs.com/xishuai/p/3670292.html#xishuai_h3"><span style="font-size: 15px;">InjectionMethod方法注入</span></a></li>
<li><a href="http://www.cnblogs.com/xishuai/p/3670292.html#xishuai_h4"><span style="font-size: 15px;">非泛型注入</span></a></li>
<li><a href="http://www.cnblogs.com/xishuai/p/3670292.html#xishuai_h5"><span style="font-size: 15px;">标识键</span></a></li>
<li><a href="http://www.cnblogs.com/xishuai/p/3670292.html#xishuai_h6"><span style="font-size: 15px;">ContainerControlledLifetimeManager单例</span></a></li>
<li><a href="http://www.cnblogs.com/xishuai/p/3670292.html#xishuai_h7"><span style="font-size: 15px;">Unity注册配置问题</span></a></li>
<li><a href="http://www.cnblogs.com/xishuai/p/3670292.html#xishuai_h8"><span style="font-size: 15px;">Unity的app.config节点配置</span></a></li>
<li><a href="http://www.cnblogs.com/xishuai/p/3670292.html#xishuai_h9"><span style="font-size: 15px;">后记</span></a></li>
</ul>
<p><span style="font-size: 15px;">　　关于<span style="font-size: 15px;"><strong>控制反转</strong>（Inversion of Control）和</span><span style="font-size: 15px;"><strong>依赖注入</strong>（Dependency Injection）大家网上可以找下相关概念，在<span style="font-size: 15px;"><span style="font-size: 15px;"><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/xishuai/p/3666276.html" target="_blank"><span style="font-size: 15px;"><span style="font-size: 15px;">《</span></span></a></span></span><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/xishuai/p/3666276.html" target="_blank">小菜学习设计模式（五）—控制反转（Ioc）》</a>这篇文章中本人也有详细的解释，这边再说明下，有很多人把控制反转和依赖注入混为一谈，虽然在某种意义上来看他们是一体的，但好像又有些不同，就比如在上篇文章中所提到的示例。控制反转（Ioc）可以看成自来水厂，那自来水厂的运行就可以看作依赖注入（DI），Ioc是一个控制容器，DI就是这个容器的运行机制，有点像国家主席和总理的意思。</span></span></p>
<p><span style="font-size: 15px;"><span style="font-size: 15px;">　　关于Ioc的框架有很多，比如astle Windsor、Unity、Spring.NET、StructureMap，我们这边使用微软提供的Unity做示例，你可以使用<span style="font-size: 15px;">Nuget</span>添加<span style="font-size: 15px;"><span style="font-size: 15px;">Unity</span></span>，也可以引用Microsoft.Practices.Unity.dll和Microsoft.Practices.Unity.Configuration.dll，下面我们就一步一步的学习下<span style="font-size: 15px;"><span style="font-size: 15px;">Unity依赖注入</span></span>的详细使用。</span></span></p>
<p><span style="font-size: 15px;"><span style="font-size: 15px;">　　<span style="font-size: 15px;">内容有点多，请坚持往下看哦！</span></span></span></p>
<h2 id="xishuai_h1">构造器注入</h2>
<p class="note"><span style="font-size: 15px;">构造器注入（Constructor Injection）：IoC容器会智能地选择选择和调用适合的构造函数以创建依赖的对象。如果被选择的构造函数具有相应的参数，IoC容器在调用构造函数之前解析注册的依赖关系并自行获得相应参数对象。</span></p>
<p><span style="font-size: 15px;">　　通过上面的定义看以看出，使用构造器注入需要在在构造函数中传递一个抽象参数，Ioc会自动解析具象所依赖的抽象并注册给具象，我们还是用上篇喝水作为示例：</span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;cfdcb7de-11f7-4ade-a03b-94bf310e9466&#39;)"><img id="code_img_closed_cfdcb7de-11f7-4ade-a03b-94bf310e9466" class="code_img_closed" src="./Unity依赖注入使用详解_files/ContractedBlock.gif" alt=""><img id="code_img_opened_cfdcb7de-11f7-4ade-a03b-94bf310e9466" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide(&#39;cfdcb7de-11f7-4ade-a03b-94bf310e9466&#39;,event)" src="./Unity依赖注入使用详解_files/ExpandedBlockStart.gif" alt="">
<div id="cnblogs_code_open_cfdcb7de-11f7-4ade-a03b-94bf310e9466" class="cnblogs_code_hide">
<pre><span style="color: #008080;"> 1</span> <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
<span style="color: #008080;"> 2</span>         <span style="color: #808080;">///</span><span style="color: #008000;"> 人接口
</span><span style="color: #008080;"> 3</span>         <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
<span style="color: #008080;"> 4</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">interface</span><span style="color: #000000;"> IPeople
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">        {
</span><span style="color: #008080;"> 6</span>             <span style="color: #0000ff;">void</span><span style="color: #000000;"> DrinkWater();
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 8</span>         <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
<span style="color: #008080;"> 9</span>         <span style="color: #808080;">///</span><span style="color: #008000;"> 村民
</span><span style="color: #008080;">10</span>         <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
<span style="color: #008080;">11</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> VillagePeople : IPeople
</span><span style="color: #008080;">12</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">13</span> <span style="color: #000000;">            IWaterTool _pw;
</span><span style="color: #008080;">14</span>             <span style="color: #0000ff;">public</span><span style="color: #000000;"> VillagePeople(IWaterTool pw)
</span><span style="color: #008080;">15</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">16</span>                 _pw =<span style="color: #000000;"> pw;
</span><span style="color: #008080;">17</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">18</span>             <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> DrinkWater()
</span><span style="color: #008080;">19</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">20</span> <span style="color: #000000;">                Console.WriteLine(_pw.returnWater());
</span><span style="color: #008080;">21</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">22</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">23</span>         <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
<span style="color: #008080;">24</span>         <span style="color: #808080;">///</span><span style="color: #008000;"> 压水井
</span><span style="color: #008080;">25</span>         <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
<span style="color: #008080;">26</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> PressWater : IWaterTool
</span><span style="color: #008080;">27</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">28</span>             <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">string</span><span style="color: #000000;"> returnWater()
</span><span style="color: #008080;">29</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">30</span>                 <span style="color: #0000ff;">return</span> <span style="color: #800000;">"</span><span style="color: #800000;">地下水好甜啊！！！</span><span style="color: #800000;">"</span><span style="color: #000000;">;
</span><span style="color: #008080;">31</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">32</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">33</span>         <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
<span style="color: #008080;">34</span>         <span style="color: #808080;">///</span><span style="color: #008000;"> 获取水方式接口
</span><span style="color: #008080;">35</span>         <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
<span style="color: #008080;">36</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">interface</span><span style="color: #000000;"> IWaterTool
</span><span style="color: #008080;">37</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">38</span>             <span style="color: #0000ff;">string</span><span style="color: #000000;"> returnWater();
</span><span style="color: #008080;">39</span>         }</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p><span style="font-size: 15px;">　　代码很简单，<span style="color: #000000;">PressWater依赖于<span style="color: #000000;">IWaterTool</span>，</span>在<span style="color: #000000;">VillagePeople构造函数中传递一个<span style="color: #000000;">IWaterTool</span>的抽象，我们看下调用代码：</span></span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">1</span>         <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> Main(<span style="color: #0000ff;">string</span><span style="color: #000000;">[] args)
</span><span style="color: #008080;">2</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">3</span>             UnityContainer container = <span style="color: #0000ff;">new</span> UnityContainer();<span style="color: #008000;">//</span><span style="color: #008000;">创建容器</span>
<span style="color: #008080;">4</span>             container.RegisterType&lt;Test01.IWaterTool, Test01.PressWater&gt;();<span style="color: #008000;">//</span><span style="color: #008000;">注册依赖对象</span>
<span style="color: #008080;">5</span>             Test01.IPeople people = container.Resolve&lt;Test01.VillagePeople&gt;();<span style="color: #008000;">//</span><span style="color: #008000;">返回调用者</span>
<span style="color: #008080;">6</span>             people.DrinkWater();<span style="color: #008000;">//</span><span style="color: #008000;">喝水</span>
<span style="color: #008080;">7</span>         }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="font-size: 15px;">　　运行结果：</span></p>
<p><span style="font-size: 15px;"><img src="./Unity依赖注入使用详解_files/171204554942550.jpg" alt=""></span></p>
<p><span style="font-size: 15px;">　　上面主要用到Unity的RegisterType和Resolve的泛型方法，我们看下<span style="font-size: 15px;">RegisterType<span style="font-size: 15px;"><span style="font-size: 15px;">的</span></span>方法签名：</span></span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;9158b59c-8e9a-423d-ac12-99c1636a30f9&#39;)"><img id="code_img_closed_9158b59c-8e9a-423d-ac12-99c1636a30f9" class="code_img_closed" src="./Unity依赖注入使用详解_files/ContractedBlock.gif" alt="" style="display: none;"><img id="code_img_opened_9158b59c-8e9a-423d-ac12-99c1636a30f9" class="code_img_opened" style="" onclick="cnblogs_code_hide(&#39;9158b59c-8e9a-423d-ac12-99c1636a30f9&#39;,event)" src="./Unity依赖注入使用详解_files/ExpandedBlockStart.gif" alt="">
<div id="cnblogs_code_open_9158b59c-8e9a-423d-ac12-99c1636a30f9" class="cnblogs_code_hide" style="display: block;"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;"> 1</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;"> 2</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 摘要:
</span><span style="color: #008080;"> 3</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     Register a type mapping with the container.
</span><span style="color: #008080;"> 4</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;"> 5</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 参数:
</span><span style="color: #008080;"> 6</span>         <span style="color: #008000;">//</span><span style="color: #008000;">   container:
</span><span style="color: #008080;"> 7</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     Container to configure.
</span><span style="color: #008080;"> 8</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;"> 9</span>         <span style="color: #008000;">//</span><span style="color: #008000;">   injectionMembers:
</span><span style="color: #008080;">10</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     Injection configuration objects.
</span><span style="color: #008080;">11</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;">12</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 类型参数:
</span><span style="color: #008080;">13</span>         <span style="color: #008000;">//</span><span style="color: #008000;">   TFrom:
</span><span style="color: #008080;">14</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     System.Type that will be requested.
</span><span style="color: #008080;">15</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;">16</span>         <span style="color: #008000;">//</span><span style="color: #008000;">   TTo:
</span><span style="color: #008080;">17</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     System.Type that will actually be returned.
</span><span style="color: #008080;">18</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;">19</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 返回结果:
</span><span style="color: #008080;">20</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     The Microsoft.Practices.Unity.UnityContainer object that this method was
</span><span style="color: #008080;">21</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     called on (this in C#, Me in Visual Basic).
</span><span style="color: #008080;">22</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;">23</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 备注:
</span><span style="color: #008080;">24</span>         <span style="color: #008000;">//</span><span style="color: #008000;">      This method is used to tell the container that when asked for type TFrom,
</span><span style="color: #008080;">25</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     actually return an instance of type TTo. This is very useful for getting
</span><span style="color: #008080;">26</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     instances of interfaces.
</span><span style="color: #008080;">27</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     This overload registers a default mapping and transient lifetime.</span>
<span style="color: #008080;">28</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> IUnityContainer RegisterType&lt;TFrom, TTo&gt;(<span style="color: #0000ff;">this</span> IUnityContainer container, <span style="color: #0000ff;">params</span> InjectionMember[] injectionMembers) <span style="color: #0000ff;">where</span> TTo : TFrom;</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<span class="cnblogs_code_collapse" style="display: none;">View Code</span></div>
<p><span style="font-size: 15px;">　　我们可以看到RegisterType的第一个参数是<strong>this IUnityContainer container</strong>，我们上面调用的时候并没有传递一个IUnityContainer 类型的参数，为什么这里会有一个this关键字，做什么用？其实这就是<strong>扩展方法</strong>。这个扩展方法在静态类中声明，定义一个静态方法（UnityContainerExtensions类和RegisterType都是静态的），其中第一个参数定义可它的扩展类型。RegisterType方法扩展了UnityContainerExtensions类，因为它的第一个参数定义了IUnityContainer（UnityContainerExtensions的抽象接口）类型，为了区分扩展方法和一般的静态方法，扩展方法还需要给第一个参数使用this关键字。</span></p>
<p><span style="font-size: 15px;">　　还有就是RegisterType的泛型约束 where TTo : TFrom;&nbsp;TTo必须是TFrom的派生类，就是说<strong>TTo依赖于TFrom</strong>。</span></p>
<p><span style="font-size: 15px;">　　我们再来看下Resolve泛型方法的签名：</span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;d7091619-e0ca-449a-9a86-4d0b870645f2&#39;)"><img id="code_img_closed_d7091619-e0ca-449a-9a86-4d0b870645f2" class="code_img_closed" src="./Unity依赖注入使用详解_files/ContractedBlock.gif" alt=""><img id="code_img_opened_d7091619-e0ca-449a-9a86-4d0b870645f2" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide(&#39;d7091619-e0ca-449a-9a86-4d0b870645f2&#39;,event)" src="./Unity依赖注入使用详解_files/ExpandedBlockStart.gif" alt="">
<div id="cnblogs_code_open_d7091619-e0ca-449a-9a86-4d0b870645f2" class="cnblogs_code_hide">
<pre><span style="color: #008080;"> 1</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;"> 2</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 摘要:
</span><span style="color: #008080;"> 3</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     Resolve an instance of the default requested type from the container.
</span><span style="color: #008080;"> 4</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;"> 5</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 参数:
</span><span style="color: #008080;"> 6</span>         <span style="color: #008000;">//</span><span style="color: #008000;">   container:
</span><span style="color: #008080;"> 7</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     Container to resolve from.
</span><span style="color: #008080;"> 8</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;"> 9</span>         <span style="color: #008000;">//</span><span style="color: #008000;">   overrides:
</span><span style="color: #008080;">10</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     Any overrides for the resolve call.
</span><span style="color: #008080;">11</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;">12</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 类型参数:
</span><span style="color: #008080;">13</span>         <span style="color: #008000;">//</span><span style="color: #008000;">   T:
</span><span style="color: #008080;">14</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     System.Type of object to get from the container.
</span><span style="color: #008080;">15</span>         <span style="color: #008000;">//</span>
<span style="color: #008080;">16</span>         <span style="color: #008000;">//</span><span style="color: #008000;"> 返回结果:
</span><span style="color: #008080;">17</span>         <span style="color: #008000;">//</span><span style="color: #008000;">     The retrieved object.</span>
<span style="color: #008080;">18</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> T Resolve&lt;T&gt;(<span style="color: #0000ff;">this</span> IUnityContainer container, <span style="color: #0000ff;">params</span> ResolverOverride[] overrides);</pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p><span style="font-size: 15px;">　　“Resolve an instance of the default requested type from the container”，这句话可以翻译为：解决从容器的默认请求的类型的实例，就是获取调用者的对象。</span></p>
<p><span style="font-size: 15px;">　　关于RegisterType和Resolve我们可以用自来水厂的例子来说明，请看下面：</span></p>
<ul>
<li><span style="font-size: 15px;">RegisterType：可以看做是自来水厂决定用什么作为水源，可以是水库或是地下水，我只要“注册”开关一下就行了。</span></li>
<li><span style="font-size: 15px;">Resolve：可以看做是自来水厂要输送水的对象，可以是农村或是城市，我只要“控制”输出就行了。</span></li>
</ul>
<h2 id="xishuai_h2">Dependency属性注入</h2>
<p class="note"><span style="font-size: 15px;">属性注入（Property Injection）：如果需要使用到被依赖对象的某个属性，在被依赖对象被创建之后，IoC容器会自动初始化该属性。</span></p>
<p><span style="font-size: 15px;">　　<span style="font-size: 15px;">属性注入</span>只需要在属性字段前面加[Dependency]标记就行了，如下：</span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;"> 1</span>         <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
<span style="color: #008080;"> 2</span>         <span style="color: #808080;">///</span><span style="color: #008000;"> 村民
</span><span style="color: #008080;"> 3</span>         <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
<span style="color: #008080;"> 4</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> VillagePeople : IPeople
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">        {
</span><span style="color: #008080;"> 6</span> <span style="color: #000000;">            [Dependency]
</span><span style="color: #008080;"> 7</span>             <span style="color: #0000ff;">public</span> IWaterTool _pw { <span style="color: #0000ff;">get</span>; <span style="color: #0000ff;">set</span><span style="color: #000000;">; }
</span><span style="color: #008080;"> 8</span>             <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> DrinkWater()
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">            {
</span><span style="color: #008080;">10</span> <span style="color: #000000;">                Console.WriteLine(_pw.returnWater());
</span><span style="color: #008080;">11</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">12</span>         }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="font-size: 15px;">　　调用方式和构造器注入一样，通过RegisterType&lt;Test02.IWaterTool, Test02.PressWater&gt;();注入就可以了，除了使用<span style="font-size: 15px;">RegisterType</span>方法注册，我们还可以在配置文件中注册，<span style="color: #000000;">[Dependency]和<span style="font-size: 15px;"><span style="font-size: 15px;">RegisterType</span></span>方式其实都会产生耦合度，我们要添加一个属性或是修改一中注册都会去修改代码，我们要做的就是代码不去修改，只要修改配置文件了，这个在下面有讲解，这边就不多说，我们先看下使用UnityConfigurationSection的Configure方法加载配置文件注册：</span></span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">1</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">unity</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">2</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">containers</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">3</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">container </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="defaultContainer"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">4</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">register </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="UnityContainerDemo.IWaterTool,UnityContainerDemo"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="UnityContainerDemo.PressWater,UnityContainerDemo"</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">5</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">register </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="UnityContainerDemo.IPeople,UnityContainerDemo"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="UnityContainerDemo.VillagePeople02,UnityContainerDemo"</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">6</span>       <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">container</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">7</span>     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">containers</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">8</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">unity</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="font-size: 15px;">　　调用代码：</span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">1</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> FuTest02()
</span><span style="color: #008080;">2</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">3</span>             UnityContainer container = <span style="color: #0000ff;">new</span> UnityContainer();<span style="color: #008000;">//</span><span style="color: #008000;">创建容器</span>
<span style="color: #008080;">4</span>             UnityConfigurationSection configuration =<span style="color: #000000;"> (UnityConfigurationSection)ConfigurationManager.GetSection(UnityConfigurationSection.SectionName);
</span><span style="color: #008080;">5</span>             configuration.Configure(container, <span style="color: #800000;">"</span><span style="color: #800000;">defaultContainer</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">6</span>             IPeople people = container.Resolve&lt;IPeople&gt;();<span style="color: #008000;">//</span><span style="color: #008000;">返回调用者</span>
<span style="color: #008080;">7</span>             people.DrinkWater();<span style="color: #008000;">//</span><span style="color: #008000;">喝水</span>
<span style="color: #008080;">8</span>         }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="font-size: 15px;">　　运行结果：</span></p>
<p><span style="font-size: 15px;"><img src="./Unity依赖注入使用详解_files/181037516975762.jpg" alt=""></span></p>
<h2 id="xishuai_h3">InjectionMethod方法注入</h2>
<p class="note"><span style="font-size: 15px;">方法注入（Method Injection）：如果被依赖对象需要调用某个方法进行相应的初始化，在该对象创建之后，IoC容器会自动调用该方法。</span></p>
<p><span style="font-size: 15px;">　　方法注入和属性方式使用一样，<span style="font-size: 15px;">方法注入</span>只需要在方法前加[InjectionMethod]标记就行了，从方法注入的定义上看，只是模糊的说对某个方法注入，并没有说明这个方法所依赖的对象注入，所依赖的对象无非就三种：参数、返回值和方法内部对象引用，我们做一个示例试下：</span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;"> 1</span>     <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;summary&gt;</span>
<span style="color: #008080;"> 2</span>     <span style="color: #808080;">///</span><span style="color: #008000;"> 村民
</span><span style="color: #008080;"> 3</span>     <span style="color: #808080;">///</span> <span style="color: #808080;">&lt;/summary&gt;</span>
<span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> VillagePeople03 : IPeople
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">    {
</span><span style="color: #008080;"> 6</span>         <span style="color: #0000ff;">public</span> IWaterTool tool;<span style="color: #008000;">//</span><span style="color: #008000;">我是对象引用</span>
<span style="color: #008080;"> 7</span>         <span style="color: #0000ff;">public</span> IWaterTool tool2;<span style="color: #008000;">//</span><span style="color: #008000;">我是参数</span>
<span style="color: #008080;"> 8</span>         <span style="color: #0000ff;">public</span> IWaterTool tool3;<span style="color: #008000;">//</span><span style="color: #008000;">我是返回值</span>
<span style="color: #008080;"> 9</span> <span style="color: #000000;">        [InjectionMethod]
</span><span style="color: #008080;">10</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> DrinkWater()
</span><span style="color: #008080;">11</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">12</span>             <span style="color: #0000ff;">if</span> (tool == <span style="color: #0000ff;">null</span><span style="color: #000000;">)
</span><span style="color: #008080;">13</span> <span style="color: #000000;">            { }
</span><span style="color: #008080;">14</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">15</span> <span style="color: #000000;">        [InjectionMethod]
</span><span style="color: #008080;">16</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> DrinkWater2(IWaterTool tool2)
</span><span style="color: #008080;">17</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">18</span>             <span style="color: #0000ff;">this</span>.tool2 =<span style="color: #000000;"> tool2;
</span><span style="color: #008080;">19</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">20</span> <span style="color: #000000;">        [InjectionMethod]
</span><span style="color: #008080;">21</span>         <span style="color: #0000ff;">public</span><span style="color: #000000;"> IWaterTool DrinkWater3()
</span><span style="color: #008080;">22</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">23</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;"> tool3;
</span><span style="color: #008080;">24</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">25</span>     }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="font-size: 15px;">　　调用代码：</span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;"> 1</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> FuTest03()
</span><span style="color: #008080;"> 2</span> <span style="color: #000000;">        {
</span><span style="color: #008080;"> 3</span>             UnityContainer container = <span style="color: #0000ff;">new</span> UnityContainer();<span style="color: #008000;">//</span><span style="color: #008000;">创建容器</span>
<span style="color: #008080;"> 4</span>             UnityConfigurationSection configuration =<span style="color: #000000;"> (UnityConfigurationSection)ConfigurationManager.GetSection(UnityConfigurationSection.SectionName);
</span><span style="color: #008080;"> 5</span>             configuration.Configure(container, <span style="color: #800000;">"</span><span style="color: #800000;">defaultContainer</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 6</span>             VillagePeople03 people = container.Resolve&lt;IPeople&gt;() <span style="color: #0000ff;">as</span> VillagePeople03;<span style="color: #008000;">//</span><span style="color: #008000;">返回调用者</span>
<span style="color: #008080;"> 7</span>             Console.WriteLine(<span style="color: #800000;">"</span><span style="color: #800000;">people.tool == null（引用） ? {0}</span><span style="color: #800000;">"</span>, people.tool == <span style="color: #0000ff;">null</span> ? <span style="color: #800000;">"</span><span style="color: #800000;">Yes</span><span style="color: #800000;">"</span> : <span style="color: #800000;">"</span><span style="color: #800000;">No</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 8</span>             Console.WriteLine(<span style="color: #800000;">"</span><span style="color: #800000;">people.tool2 == null（参数） ? {0}</span><span style="color: #800000;">"</span>, people.tool2 == <span style="color: #0000ff;">null</span> ? <span style="color: #800000;">"</span><span style="color: #800000;">Yes</span><span style="color: #800000;">"</span> : <span style="color: #800000;">"</span><span style="color: #800000;">No</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;"> 9</span>             Console.WriteLine(<span style="color: #800000;">"</span><span style="color: #800000;">people.tool3 == null（返回值） ? {0}</span><span style="color: #800000;">"</span>, people.tool3 == <span style="color: #0000ff;">null</span> ? <span style="color: #800000;">"</span><span style="color: #800000;">Yes</span><span style="color: #800000;">"</span> : <span style="color: #800000;">"</span><span style="color: #800000;">No</span><span style="color: #800000;">"</span><span style="color: #000000;">);
</span><span style="color: #008080;">10</span>         }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="font-size: 15px;">　　container.Resolve&lt;IPeople&gt;() <span style="color: #0000ff;">as</span> VillagePeople03;其实多此一举，因为已经在配置文件注册过了，不需要再进行转化，这边只是转化只是方便访问VillagePeople03对象的几个属性值，我们看下运行效果：</span></p>
<p><img src="./Unity依赖注入使用详解_files/181144351661714.jpg" alt=""></p>
<p><span style="font-size: 15px;">　　结果不言而喻，其实我们理解的方法注入就是对参数对象的注入，从typeConfig节点-method节点-param节点就可以看出来只有参数的配置，而并没有其他的配置，关于<span style="font-size: 15px;">typeConfig</span>下面会讲到。</span></p>
<h2 id="xishuai_h4">非泛型注入</h2>
<p><span style="font-size: 15px;">　　除了我们上面使用RegisterType和Resolve泛型方法，我们也可以使用非泛型注入，代码如下：</span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">1</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> FuTest04()
</span><span style="color: #008080;">2</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">3</span>             UnityContainer container = <span style="color: #0000ff;">new</span> UnityContainer();<span style="color: #008000;">//</span><span style="color: #008000;">创建容器</span>
<span style="color: #008080;">4</span>             container.RegisterType(<span style="color: #0000ff;">typeof</span>(IWaterTool), <span style="color: #0000ff;">typeof</span>(PressWater));<span style="color: #008000;">//</span><span style="color: #008000;">注册依赖对象</span>
<span style="color: #008080;">5</span>             IPeople people = (IPeople)container.Resolve(<span style="color: #0000ff;">typeof</span>(VillagePeople01));<span style="color: #008000;">//</span><span style="color: #008000;">返回调用者</span>
<span style="color: #008080;">6</span>             people.DrinkWater();<span style="color: #008000;">//</span><span style="color: #008000;">喝水</span>
<span style="color: #008080;">7</span>         }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="font-size: 15px;">　　运行效果：</span></p>
<p><span style="font-size: 15px;"><img src="./Unity依赖注入使用详解_files/181340470257371.jpg" alt=""></span></p>
<h2 id="xishuai_h5">标识键</h2>
<p><span style="font-size: 15px;">　　我们知道，Unity提供了对象的容器，那么这个容器是如何进行索引的呢？也就是说，容器内的单元是如何标识的呢？在Unity中，标识主要有两种方式， 一种是直接使用接口（或者基类）作为标识键，另一种是使用接口（或者基类）与名称的组合作为标识键，键对应的值就是具体类。</span></p>
<p><span style="font-size: 15px;">　　第一种使用接口（或者基类）作为标识键：</span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080;">1</span> container.RegisterType&lt;IWaterTool, PressWater&gt;();</pre>
</div>
<p><span style="font-size: 15px;">　　代码中的IWaterTool就是作为标识键，你可以可以使用基类或是抽象类作为标示，获取注册对象：container.Resolve&lt;IWaterTool&gt;()，如果一个Ioc容器容器里面注册了多个接口或是基类标示，我们再这样获取就不知道注册的是哪一个？怎么解决，就是用接口或是基类与名称作为标识键，示例代码如下：</span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">1</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> FuTest05()
</span><span style="color: #008080;">2</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">3</span>             UnityContainer container = <span style="color: #0000ff;">new</span> UnityContainer();<span style="color: #008000;">//</span><span style="color: #008000;">创建容器</span>
<span style="color: #008080;">4</span>             container.RegisterType&lt;IWaterTool, PressWater&gt;(<span style="color: #800000;">"</span><span style="color: #800000;">WaterTool1</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">注册依赖对象WaterTool1</span>
<span style="color: #008080;">5</span>             container.RegisterType&lt;IWaterTool, PressWater&gt;(<span style="color: #800000;">"</span><span style="color: #800000;">WaterTool2</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">注册依赖对象WaterTool2</span>
<span style="color: #008080;">6</span>             IWaterTool wt = container.Resolve&lt;IWaterTool&gt;(<span style="color: #800000;">"</span><span style="color: #800000;">WaterTool1</span><span style="color: #800000;">"</span>);<span style="color: #008000;">//</span><span style="color: #008000;">返回依赖对象WaterTool1</span>
<span style="color: #008080;">7</span>             <span style="color: #0000ff;">var</span> list = container.ResolveAll&lt;IWaterTool&gt;();<span style="color: #008000;">//</span><span style="color: #008000;">返回所有注册类型为IWaterTool的对象</span>
<span style="color: #008080;">8</span>         }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="font-size: 15px;">　　我们只需要在泛型方法RegisterType传入一个名称就可以来区分了（和注册接口或基类），获取的话也只要传入注册时候的名称即可，我们看下list中的集合对象：</span></p>
<p><span style="font-size: 15px;"><img src="./Unity依赖注入使用详解_files/181423367752431.jpg" alt=""></span></p>
<h2 id="xishuai_h6">ContainerControlledLifetimeManager单例</h2>
<p><span style="font-size: 15px;">　　关于单例概念可以参考<a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/xishuai/p/3509346.html" target="_blank">《</a><a id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/xishuai/p/3509346.html" target="_blank">小菜学习设计模式（二）—单例（Singleton）模式》</a><span class="postTitle2">这篇文章</span><span class="postTitle2">，</span>为了实现单例模式，我们通常的做法是，在类中定义一个方法如GetInstance，判断如果实例为null则新建一个实例，否则就返回已有实例。但是我觉得这种做法将对象的生命周期管理与类本身耦合在了一起。所以我觉得遇到需要使用单例的地方，应该将生命周期管理的职责转移到对象容器Ioc上，而我们的类依然是一个干净的类，使用Unity创建单例代码：</span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">1</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> FuTest07()
</span><span style="color: #008080;">2</span> <span style="color: #000000;">        {
</span><span style="color: #008080;">3</span>             UnityContainer container = <span style="color: #0000ff;">new</span> UnityContainer();<span style="color: #008000;">//</span><span style="color: #008000;">创建容器</span>
<span style="color: #008080;">4</span>             container.RegisterType&lt;IWaterTool, PressWater&gt;(<span style="color: #0000ff;">new</span> ContainerControlledLifetimeManager());<span style="color: #008000;">//</span><span style="color: #008000;">注册依赖对象</span>
<span style="color: #008080;">5</span>             IPeople people = container.Resolve&lt;VillagePeople01&gt;();<span style="color: #008000;">//</span><span style="color: #008000;">返回调用者</span>
<span style="color: #008080;">6</span>             people.DrinkWater();<span style="color: #008000;">//</span><span style="color: #008000;">喝水</span>
<span style="color: #008080;">7</span>         }</pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="font-size: 15px;">　　上面演示了将IWaterTool注册为PressWater，并声明为单例，ContainerControlledLifetimeManager字面意思上就是Ioc容器管理声明周期，我们也可以不使用类型映射，将某个类注册为单例：</span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080;">1</span> container.RegisterType&lt;PressWater&gt;(<span style="color: #0000ff;">new</span> ContainerControlledLifetimeManager());</pre>
</div>
<p><span style="font-size: 15px;">　　除了将类型注册为单例，我们也可以将已有对象注册为单例，使用RegisterInstance方法，示例代码：</span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080;">1</span> PressWater pw = <span style="color: #0000ff;">new</span><span style="color: #000000;"> PressWater();
</span><span style="color: #008080;">2</span> container.RegisterInstance&lt;IWaterTool&gt;(pw);</pre>
</div>
<p><span style="font-size: 15px;">　　上面的代码就表示将PressWater的pw对象注册到Ioc容器中，并声明为单例。</span></p>
<p><span style="font-size: 15px;">　　如果我们在注册类型的时候没有指定ContainerControlledLifetimeManager对象，Resolve获取的对象的生命周期是短暂的，Ioc容器并不会保存获取对象的引用，就是说我们再次<span style="font-size: 15px;">Resolve获取对象的时候，获取的是一个全新的对象，如果我们指定<span style="font-size: 15px;">ContainerControlledLifetimeManager</span>，类型注册后，我们再次<span style="font-size: 15px;"><span style="font-size: 15px;">Resolve</span></span>获取的对象就是上次创建的对象，而不是再重新创建对象，这也就是单例的意思。</span></span></p>
<h2 id="xishuai_h7">Unity注册配置问题</h2>
<p><span style="font-size: 15px;">　　一开始我做的这示例是类类注册，就是说类包含类，所有的接口和对象都是放在TestXX类文件中，在配置register注册节点的时候，总是报下面错误：</span></p>
<p><span style="font-size: 15px;"><img src="./Unity依赖注入使用详解_files/181047253693736.jpg" alt=""></span></p>
<p><span style="font-size: 15px;">或者</span></p>
<p><span style="font-size: 15px;"><img src="./Unity依赖注入使用详解_files/181034189787648.jpg" alt=""></span></p>
<p><span style="font-size: 15px;">　　Unity配置文件：</span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">1</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">unity</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">2</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">containers</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">3</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">container </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="defaultContainer"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">4</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">register </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="UnityContainerDemo.Test02.IWaterTool,UnityContainerDemo"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="UnityContainerDemo.Test02.PressWater,UnityContainerDemo"</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">5</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">register </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="UnityContainerDemo.Test02.IPeople,UnityContainerDemo"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="UnityContainerDemo.Test02.VillagePeople,UnityContainerDemo"</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">6</span>       <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">container</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">7</span>     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">containers</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">8</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">unity</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="font-size: 15px;">　　第一个错误是“UnityContainerDemo.Test02.IWaterTool,UnityContainerDemo”未被识别，第二个错误是“UnityContainerDemo”程序集无效，这种是使用UnityConfigurationSection方式注册的，使用RegisterType方法注册就没什么问题，不知道是我节点配置有问题，还是代码写的有问题，如果有知道的朋友，还请赐教，为了这个问题，调试了好久，最终没办法把代码都单独放开。</span></p>
<h2 id="xishuai_h8">Unity的app.config节点配置</h2>
<p><span style="font-size: 15px;">　　上面所说的三种注入方式，包括单例创建都是在代码中去配置的，当然只是演示用，这种配置都会产生耦合度，比如添加一个属性注入或是方法注入都要去属性或是方法前加[Dependency]和[InjectionMethod]标记，我们想要的依赖注入应该是去配置文件中配置，当系统发生变化，我们不应去修改代码，而是在配置文件中修改，这才是真正使用依赖注入解决耦合度所达到的效果，先看下Unity完整的配置节点：</span></p>
<p><span style="font-size: 15px;"><img src="./Unity依赖注入使用详解_files/181548220884607.gif" alt=""></span></p>
<p><span style="font-size: 15px;">　　上面的图大家可能都见过，我再贴一下Unity示例节点配置，原文地址：<a href="http://www.cnblogs.com/msdn.microsoft.com/en-us/library/ff647848.aspx" target="_blank">msdn.microsoft.com/en-us/library/ff647848.aspx</a>，稍微翻译了下。</span></p>
<div class="cnblogs_code" onclick="cnblogs_code_show(&#39;8c60b32d-9fff-427b-b9dd-6f7d161efded&#39;)"><img id="code_img_closed_8c60b32d-9fff-427b-b9dd-6f7d161efded" class="code_img_closed" src="./Unity依赖注入使用详解_files/ContractedBlock.gif" alt=""><img id="code_img_opened_8c60b32d-9fff-427b-b9dd-6f7d161efded" class="code_img_opened" style="display: none;" onclick="cnblogs_code_hide(&#39;8c60b32d-9fff-427b-b9dd-6f7d161efded&#39;,event)" src="./Unity依赖注入使用详解_files/ExpandedBlockStart.gif" alt="">
<div id="cnblogs_code_open_8c60b32d-9fff-427b-b9dd-6f7d161efded" class="cnblogs_code_hide">
<pre><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">&lt;?</span><span style="color: #ff00ff;">xml version="1.0"</span><span style="color: #0000ff;">?&gt;</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">configuration</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 3</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">configSections</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">section </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="unity"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="Microsoft.Practices.Unity.Configuration.UnityConfigurationSection,
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">             Microsoft.Practices.Unity.Configuration"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;"> 6</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">configSections</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 7</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">typeAliases</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;"> 8</span>     <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">寿命管理器类型</span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;"> 9</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">typeAlias </span><span style="color: #ff0000;">alias</span><span style="color: #0000ff;">="singleton"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="Microsoft.Practices.Unity.ContainerControlledLifetimeManager,Microsoft.Practices.Unity"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">10</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">typeAlias </span><span style="color: #ff0000;">alias</span><span style="color: #0000ff;">="external"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="Microsoft.Practices.Unity.ExternallyControlledLifetimeManager, Microsoft.Practices.Unity"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">11</span>     <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">用户定义的类型别名</span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">12</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">typeAlias </span><span style="color: #ff0000;">alias</span><span style="color: #0000ff;">="IMyInterface"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="MyApplication.MyTypes.MyInterface, MyApplication.MyTypes"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">13</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">typeAlias </span><span style="color: #ff0000;">alias</span><span style="color: #0000ff;">="MyRealObject"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="MyApplication.MyTypes.MyRealObject, MyApplication.MyTypes"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">14</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">typeAlias </span><span style="color: #ff0000;">alias</span><span style="color: #0000ff;">="IMyService"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="MyApplication.MyTypes.MyService, MyApplication.MyTypes"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">15</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">typeAlias </span><span style="color: #ff0000;">alias</span><span style="color: #0000ff;">="MyDataService"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="MyApplication.MyTypes.MyDataService, MyApplication.MyTypes"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">16</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">typeAlias </span><span style="color: #ff0000;">alias</span><span style="color: #0000ff;">="MyCustomLifetime"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="MyApplication.MyLifetimeManager, MyApplication.MyTypes"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">17</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">typeAliases</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">18</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">unity</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">19</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">containers</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">20</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">container </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="containerOne"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">21</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">types</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">22</span>         <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">类型映射无一生-默认为“瞬时”</span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">23</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">type </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="Custom.MyBaseClass"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="Custom.MyConcreteClass"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">24</span>         <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">使用上面定义的别名类型的映射</span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">25</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">type </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="IMyInterface"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="MyRealObject"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="MyMapping"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">26</span>         <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">使用类型别名指定的终身</span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">27</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">type </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="Custom.MyBaseClass"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="Custom.MyConcreteClass"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">28</span>           <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">lifetime </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="singleton"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">29</span>         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">type</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">30</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">type </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="IMyInterface"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="MyRealObject"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="RealObject"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">31</span>           <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">lifetime </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="external"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">32</span>         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">type</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">33</span>         <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">使用完整的类型名指定终身经理</span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">34</span>         <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">的一生经理指定的任何初始化数据</span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">35</span>         <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">将要使用的默认类型转换器转换</span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">36</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">type </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="Custom.MyBaseClass"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="Custom.MyConcreteClass"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">37</span>           <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">lifetime </span><span style="color: #ff0000;">value</span><span style="color: #0000ff;">="sessionKey"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="MyApplication.MyTypes.MyLifetimeManager,MyApplication.MyTypes"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">38</span>         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">type</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">39</span>         <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">使用一个自定义TypeConverter的终身管理器初始化</span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">40</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">type </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="IMyInterface"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="MyRealObject"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="CustomSession"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">41</span>           <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">lifetime </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="MyCustomLifetime"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="ReverseKey"</span><span style="color: #ff0000;"> typeConverter</span><span style="color: #0000ff;">="MyApplication.MyTypes.MyTypeConverter,MyApplication.MyTypes"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">42</span>         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">type</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">43</span>         <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">对象在配置中定义的注入参数</span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">44</span>         <span style="color: #008000;">&lt;!--</span><span style="color: #008000;">使用上面定义的别名类型的映射</span><span style="color: #008000;">--&gt;</span>
<span style="color: #008080;">45</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">type </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="IMyService"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="MyDataService"</span><span style="color: #ff0000;"> name</span><span style="color: #0000ff;">="DataService"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">46</span>           <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">typeConfig </span><span style="color: #ff0000;">extensionType</span><span style="color: #0000ff;">="Microsoft.Practices.Unity.Configuration.TypeInjectionElement, Microsoft.Practices.Unity.Configuration"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">47</span>             <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">constructor</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">48</span>               <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">param </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="connectionString"</span><span style="color: #ff0000;"> parameterType</span><span style="color: #0000ff;">="string"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">49</span>                 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">value </span><span style="color: #ff0000;">value</span><span style="color: #0000ff;">="AdventureWorks"</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">50</span>               <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">param</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">51</span>               <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">param </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="logger"</span><span style="color: #ff0000;"> parameterType</span><span style="color: #0000ff;">="ILogger"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">52</span>                 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dependency </span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">53</span>               <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">param</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">54</span>             <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">constructor</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">55</span>             <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">property </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="Logger"</span><span style="color: #ff0000;"> propertyType</span><span style="color: #0000ff;">="ILogger"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">56</span>             <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">method </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="Initialize"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">57</span>               <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">param </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="connectionString"</span><span style="color: #ff0000;"> parameterType</span><span style="color: #0000ff;">="string"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">58</span>                 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">value </span><span style="color: #ff0000;">value</span><span style="color: #0000ff;">="contoso"</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">59</span>               <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">param</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">60</span>               <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">param </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="dataService"</span><span style="color: #ff0000;"> parameterType</span><span style="color: #0000ff;">="IMyService"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">61</span>                 <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dependency </span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">62</span>               <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">param</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">63</span>             <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">method</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">64</span>           <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">typeConfig</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">65</span>         <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">type</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">66</span>       <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">types</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">67</span> 
<span style="color: #008080;">68</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">instances</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">69</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">add </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="MyInstance1"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="System.String"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="Some value"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">70</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">add </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="MyInstance2"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="System.DateTime"</span><span style="color: #ff0000;"> value</span><span style="color: #0000ff;">="2008-02-05T17:50:00"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">71</span>       <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">instances</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">72</span> 
<span style="color: #008080;">73</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">extensions</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">74</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">add </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="MyApp.MyExtensions.SpecialOne"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">75</span>       <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">extensions</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">76</span> 
<span style="color: #008080;">77</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">extensionConfig</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">78</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">add </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="MyExtensionConfigHandler"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="MyApp.MyExtensions.SpecialOne.ConfigHandler"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">79</span>       <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">extensionConfig</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">80</span>     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">container</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">81</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">containers</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">82</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">unity</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">83</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">startup</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">84</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">supportedRuntime </span><span style="color: #ff0000;">version</span><span style="color: #0000ff;">="v4.0"</span><span style="color: #ff0000;"> sku</span><span style="color: #0000ff;">=".NETFramework,Version=v4.5"</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">85</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">startup</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">86</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">configuration</span><span style="color: #0000ff;">&gt;</span></pre>
</div>
<span class="cnblogs_code_collapse">View Code</span></div>
<p><span style="font-size: 15px;">　　配置过unity的朋友看一下可能就清楚，这边我们再简单说下：</span></p>
<ul>
<li><span style="font-size: 15px;">Unity的配置节的名称为”Unity"，节处理程序的类型为 Microsoft.Practices.Unity.Configuration.UnityConfigurationSection，它包含在程序集</span><span style="font-size: 15px;">Microsoft.Practices.Unity.Configuration 中，当前程序添加该程序集的引用。</span></li>
<li><span style="font-size: 15px;">typeAliases管理生命周期类型，以及一些类型别名的设置，方便我们映射对象的编写，比如同一个类型注册多次，我们只要在typeAlias添加一个类型别名，这样我们再添加这个类型映射的时候只要写个别名就可以了。</span></li>
<li><span style="font-size: 15px;">containers是容器<span>container</span>集合，我们可以配置多个容器类型，通过Name属性就可以访问，比如访问defaultContainer容器代码：configuration.Configure(container, "defaultContainer");</span></li>
<li><span style="font-size: 15px;">container为容器管理，下面包含多个类型映射，我们平常使用的构造器注册、属性注册和方法注册，就可以在constructor、property、method节点进行配置。</span></li>
</ul>
<p><span style="font-size: 15px;">　　根据上面的配置，我做了一个简单的方法注入示例，配置注册信息都是在文件中，并不是使用RegisterType方法进行注册，但是报下面错误：</span></p>
<p><span style="font-size: 15px;"><img src="./Unity依赖注入使用详解_files/192339230572403.jpg" alt=""></span></p>
<p><span style="font-size: 15px;">　　无法识别的元素“typeConfig”。示例是完全按照unity配置说明进行配置的，Google或是百度都找不到问题所在，也试了很多种方式，最后Google英文“Unrecognized element 'typeConfig'”，终于找到问题：<a href="http://unity.codeplex.com/discussions/209002" target="_blank">http://unity.codeplex.com/discussions/209002</a>，英文我大概看得不是很懂，好像是<span>unity版本问题，<span>unity2.0配置文件中并没有typeConfig节点，而我们使用的<span>unity程序集是最新的，而并没有识别<span>typeConfig节点，这个问题很严重，也花了我两天时间，就像那位提问者最后所说：“<span>I can not tell you how grateful I am, I've spent the last 2 days trying to figure this one out.</span>”，虽然问题原因找到了，但是是通过英文搜索找到了，就是说国外遇到过类似问题，难道我们国内没有遇到过，郁闷。</span></span></span></span><br></span></p>
<p><span style="font-size: 15px;"><span><span><span><span>　　大家可能有些纳闷，为什么你上面几个示例使用的<span>unity配置没有报错，我当时在写示例的时候只是使用简单的类型映射，并不是使用完整的<span>unity配置文件，然后就网上找了下，就找到了<a href="http://www.cnblogs.com/msdn.microsoft.com/en-us/library/ff647848.aspx" target="_blank">msdn.microsoft.com/en-us/library/ff647848.aspx</a>，当时没有注意版本问题，所以就出现了上面的问题，我们上面示例<span>unity配置文件中</span></span></span><span>Register节点就是<span>unity2.0的配置，这也是为什么上面示例可以运行的原因。</span></span></span></span></span></span></span></p>
<p><span style="font-size: 15px;"><span><span><span><span><span><span>　　<span>unity2.0的配置文件配置说明找了好久，终于在MSDN找到了：<a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_constructor" target="_blank">http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_constructor</a>，没有中文版本，英文不好的朋友可以使用Google简单翻译下，注意这段话“Unity 2.0 uses a new streamlined configuration schema for configuring Unity.”，这才是我们要使用的<span>unity2.0的配置文件，其实和1.2版本差不多，只不过是简化了一些东西，配置起来也更加方便，这边就不多说了，列一下配置目录：</span></span></span></span></span></span></span></span></span></p>
<ul>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_unity_section" target="_blank">The &lt;unity&gt; Configuration Section</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_container" target="_blank">The &lt;container&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_registerelement" target="_blank">The &lt;register&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_lifetime_element" target="_blank">The &lt;lifetime&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_constructor" target="_blank">The &lt;constructor&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_property" target="_blank">The &lt;property&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_method" target="_blank">The &lt;method&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_paramvalue" target="_blank">The &lt;param&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_dependency" target="_blank">The &lt;dependency&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_value" target="_blank">The &lt;value&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_dependency_optional" target="_blank">The &lt;optional&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_arrayelement" target="_blank">The &lt;array&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_extensions" target="_blank">The &lt;extension&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_instances" target="_blank">The &lt;instance&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_namespace" target="_blank">The &lt;namespace &gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_aliases" target="_blank">The &lt;alias&gt; Element</a></span></li>
<li><span style="font-size: 15px;"><a href="http://msdn.microsoft.com/en-us/library/ff660914%28v%3Dpandp.20%29.aspx#config_section_extensions" target="_blank">The &lt;sectionExtension&gt; Element</a></span></li>




</ul>
<p><span style="font-size: 15px;"><span><span><span><span><span><span><span><span>　　在<span>unity1.2中我们使用构造器注入、属性注入和方法注入会有parameterType节点，就是说在constructor、property和method这些节点可以配置这些方式注入所依赖的类型，但是在<span>unity2.0并不存在<span>parameterType节点了，所有类型注册都是通过register节点进行配置的，相当于<span>unity1.2中的type节点</span>，虽然<span>unity2.0存在</span><span>constructor、property和method节点，但我感觉只是针对<span>构造器、属性和方法本身进行注入。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span style="font-size: 15px;">　　另外在unity2.0配置中alias节点下的生命管理周期配置并不需要了，比如我们创建一个单例注册类型，只需要配置下面就可以了：</span></p>
<div class="cnblogs_code"><div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div>
<pre><span style="color: #008080;">1</span>   <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">containers</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">2</span>     <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">container </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="defaultContainer"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">3</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">register </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="UnityContainerDemo.IPeople, UnityContainerDemo"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="UnityContainerDemo.VillagePeople01, UnityContainerDemo"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">4</span>         <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">lifetime </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="singleton"</span> <span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">5</span>       <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">register</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">6</span>       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">register </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="UnityContainerDemo.IWaterTool, UnityContainerDemo"</span><span style="color: #ff0000;"> mapTo</span><span style="color: #0000ff;">="UnityContainerDemo.PressWater, UnityContainerDemo"</span><span style="color: #0000ff;">/&gt;</span>
<span style="color: #008080;">7</span>     <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">container</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">8</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">containers</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #008080;">9</span>   <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">unity</span><span style="color: #0000ff;">&gt;</span></pre>
<div class="cnblogs_code_toolbar"><span class="cnblogs_code_copy"><a href="javascript:void(0);" onclick="copyCnblogsCode(this)" title="复制代码"><img src="./Unity依赖注入使用详解_files/copycode.gif" alt="复制代码"></a></span></div></div>
<p><span style="font-size: 15px;">　　并不需要再像<span>unity1.2中创建下面节点：</span></span></p>
<div class="cnblogs_code">
<pre><span style="color: #008080;">1</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">typeAlias </span><span style="color: #ff0000;">alias</span><span style="color: #0000ff;">="singleton"</span><span style="color: #ff0000;"> type</span><span style="color: #0000ff;">="Microsoft.Practices.Unity.ContainerControlledLifetimeManager,Microsoft.Practices.Unity"</span> <span style="color: #0000ff;">/&gt;</span></pre>
</div>
<h2 id="xishuai_h9">后记</h2>
<p><span style="font-size: 1.5em; line-height: 1.5;"><span style="font-size: 15px;"><span>　　本篇中的代码稍微整理了下，有兴趣的朋友可以下载看看，地址：</span><a href="http://pan.baidu.com/s/1pJAtdoR" target="_blank">http://pan.baidu.com/s/1pJAtdoR</a></span></span></p>
<p><span style="font-size: 1.5em; line-height: 1.5;"><span style="font-size: 15px;">　　关于Unity依赖注入其实还有很多的东西，看一下MSDN目录就知道了：</span></span></p>
<p><span style="font-size: 1.5em; line-height: 1.5;"><span style="font-size: 15px;"><img src="./Unity依赖注入使用详解_files/200040499781159.jpg" alt=""></span></span></p>
<p><span style="font-size: 15px;">　　但都没有中文版本，本文只是抛砖引玉，也希望园友们可以多写一些关于<span>Unity依赖注入的东西，也是扩充<span>Unity的中文资料。</span></span></span></p>
<p><span style="font-size: 15px;"><span><span>　　另外插一句，我在写博客的时候喜欢在草稿箱浏览很多次，不管是内容上或是排版字体上，写一段，浏览一段，修改一段，有点小强迫症哈，但是是对自己负责，也是对别人负责。</span></span></span></p>
<p><img src="./Unity依赖注入使用详解_files/202259486827267.jpg" alt=""></p>
<p><span style="font-size: 15px;">　　<span style="color: #ff0000;">如果你觉得本篇文章对你有所帮助，请点击右下部“推荐”，^_^</span></span></p>
<p>&nbsp;</p></div><div id="MySignature" style="display: block;"><!-- <span style="font-size: 14px">注：如果你对领域驱动设计、微服务、以及MVVM开发感兴趣，欢迎<a href="http://jobs.51job.com/all/co3926692.html" target="_blank">加入我们</a>。:)</span>
<br> -->
<div id="xishuai_qianming">
作者：<a href="http://www.cnblogs.com/xishuai/">田园里的蟋蟀</a>
<br>出处：<a href="http://www.cnblogs.com/xishuai/">http://www.cnblogs.com/xishuai/</a> 
<br>
本文版权归作者和博客园共有，欢迎转载，但未经作者同意必须保留此段声明，且在文章页面明显位置给出原文连接。
</div>

<br>
<!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
	<span class="jiathis_txt">分享到：</span>
	<a class="jiathis_button_qzone" title="分享到QQ空间"><span class="jiathis_txt jiathis_separator jtico jtico_qzone">QQ空间</span></a>
	<a class="jiathis_button_tsina" title="分享到微博"><span class="jiathis_txt jiathis_separator jtico jtico_tsina">新浪微博</span></a>
	<a class="jiathis_button_tqq" title="分享到腾讯微博"><span class="jiathis_txt jiathis_separator jtico jtico_tqq">腾讯微博</span></a>
	<a class="jiathis_button_weixin" title="分享到微信"><span class="jiathis_txt jiathis_separator jtico jtico_weixin">微信</span></a>
	<a class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" href="http://www.jiathis.com/share" target="_blank">更多</a>
	<a class="jiathis_counter_style"><span class="jiathis_button_expanded jiathis_counter jiathis_bubble_style" id="jiathis_counter_76" title="累计分享10次">10</span></a>
</div>

<!-- JiaThis Button END --></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/xishuai/category/572886.html" target="_blank">[06]IoC/DI</a></div>
<div id="EntryTag">标签: <a href="http://www.cnblogs.com/xishuai/tag/%5B16%5D%E5%B0%8F%E8%8F%9C%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B-IoC%2FDI/">[16]小菜学习编程-IoC/DI</a></div>
<div id="blog_post_info"><div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(3670292,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
            <a id="green_channel_follow" href="javascript:void(0);">已关注</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="./Unity依赖注入使用详解_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="./Unity依赖注入使用详解_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/xishuai/" target="_blank"><img src="./Unity依赖注入使用详解_files/20130715165802.png" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="http://home.cnblogs.com/u/xishuai/">田园里的蟋蟀</a><br>
            <a href="http://home.cnblogs.com/u/xishuai/followees">关注 - 122</a><br>
            <a href="http://home.cnblogs.com/u/xishuai/followers">粉丝 - 2589</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                我在关注他 <a href="javascript:void(0);" onclick="unfollow(&#39;3d3b4137-4ae0-e111-aa3f-842b2b196315&#39;);return false;">取消关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(3670292,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">57</span>
    </div>
    <div class="buryit" onclick="votePost(3670292,&#39;Bury&#39;)">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>
</div>
<div class="clear"></div>
<div id="post_next_prev"><a href="http://www.cnblogs.com/xishuai/p/3666276.html" class="p_n_p_prefix">« </a> 上一篇：<a href="http://www.cnblogs.com/xishuai/p/3666276.html" title="发布于2014-04-16 10:08">小菜学习设计模式（五）—控制反转（Ioc）</a><br><a href="http://www.cnblogs.com/xishuai/p/3677388.html" class="p_n_p_prefix">» </a> 下一篇：<a href="http://www.cnblogs.com/xishuai/p/3677388.html" title="发布于2014-04-22 09:12">ASP.NET MVC中使用Unity Ioc Container</a><br></div>
</div>


		</div>
		<div class="postDesc">posted @ <span id="post-date">2014-04-21 09:13</span> <a href="http://www.cnblogs.com/xishuai/">田园里的蟋蟀</a> 阅读(<span id="post_view_count">10270</span>) 评论(<span id="post_comment_count">35</span>)  <a href="https://i.cnblogs.com/EditPosts.aspx?postid=3670292" rel="nofollow">编辑</a> <a href="http://www.cnblogs.com/xishuai/p/3670292.html#" onclick="AddToWz(3670292);return false;">收藏</a></div>
	</div>
	<script type="text/javascript">var allowComments=true,cb_blogId=124657,cb_entryId=3670292,cb_blogApp=currentBlogApp,cb_blogUserGuid='3d3b4137-4ae0-e111-aa3f-842b2b196315',cb_entryCreatedDate='2014/4/21 9:13:00';loadViewCount(cb_entryId);var cb_postType=1;</script>
	
</div><!--end: topics 文章、评论容器-->
</div><a name="!comments"></a><div id="blog-comments-placeholder"><div id="comments_pager_top"></div>
<br>
<div class="feedback_area_title">评论列表</div>
<div class="feedbackNoItems"></div>	

		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2921730,&#39;SGEgbMxvRpVltBSyluMpVEntPtr6xbuV7NTxPNoMue1C2RtqeTGJzg==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2921730,&#39;SGEgbMxvRpVltBSyluMpVEntPtr6xbuV7NTxPNoMue1C2RtqeTGJzg==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2921730" class="layer">#1楼</a><a name="2921730" id="comment_anchor_2921730"></a>  <span class="comment_date">2014-04-21 09:19</span> <a id="a_comment_author_2921730" href="http://www.cnblogs.com/shaozhutong/" target="_blank">月下*独</a> <a href="http://msg.cnblogs.com/send/%E6%9C%88%E4%B8%8B%2A%E7%8B%AC" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2921730" class="blog_comment_body">先收藏一个</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2921730,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2921730,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2921783,&#39;AIV3t1qZSnmIbVyzsJ0JvY+GjKd1F/q3QnI74bD203YUfNoKV6Zy2Q==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2921783,&#39;AIV3t1qZSnmIbVyzsJ0JvY+GjKd1F/q3QnI74bD203YUfNoKV6Zy2Q==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2921783" class="layer">#2楼</a><a name="2921783" id="comment_anchor_2921783"></a>  <span class="comment_date">2014-04-21 09:51</span> <a id="a_comment_author_2921783" href="http://www.cnblogs.com/Alandre/" target="_blank">泥瓦匠BYSocket</a> <a href="http://msg.cnblogs.com/send/%E6%B3%A5%E7%93%A6%E5%8C%A0BYSocket" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2921783" class="blog_comment_body">赞一个</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2921783,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2921783,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2921783_avatar" style="display:none;">http://pic.cnblogs.com/face/509099/20170126011259.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2921808,&#39;Am7dGpw7yAhxuAnRwsEAYg4ryxyagQFHTi+ObIFwbWHJHi/Fkwvh7A==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2921808,&#39;Am7dGpw7yAhxuAnRwsEAYg4ryxyagQFHTi+ObIFwbWHJHi/Fkwvh7A==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2921808" class="layer">#3楼</a><a name="2921808" id="comment_anchor_2921808"></a>  <span class="comment_date">2014-04-21 10:09</span> <a id="a_comment_author_2921808" href="http://www.cnblogs.com/fit/" target="_blank">我不清楚是谁</a> <a href="http://msg.cnblogs.com/send/%E6%88%91%E4%B8%8D%E6%B8%85%E6%A5%9A%E6%98%AF%E8%B0%81" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2921808" class="blog_comment_body">cool!</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2921808,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2921808,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2921890,&#39;g2jH9tz6Hp1NHee3TgC+720ydGOkpJVw3FV80+SLxH2XVLtKwf4ExA==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2921890,&#39;g2jH9tz6Hp1NHee3TgC+720ydGOkpJVw3FV80+SLxH2XVLtKwf4ExA==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2921890" class="layer">#4楼</a><a name="2921890" id="comment_anchor_2921890"></a>  <span class="comment_date">2014-04-21 11:11</span> <a id="a_comment_author_2921890" href="http://www.cnblogs.com/yahue/" target="_blank">Arthur.Wang</a> <a href="http://msg.cnblogs.com/send/Arthur.Wang" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2921890" class="blog_comment_body">good</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2921890,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2921890,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2921890_avatar" style="display:none;">http://pic.cnblogs.com/face/u423829.jpg?id=03221153</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2921911,&#39;ruqpvbwSsakS5h+QzczOr+7c6cEC5nkefhSBaJRjDcEKaQelEOCBSA==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2921911,&#39;ruqpvbwSsakS5h+QzczOr+7c6cEC5nkefhSBaJRjDcEKaQelEOCBSA==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2921911" class="layer">#5楼</a><a name="2921911" id="comment_anchor_2921911"></a>  <span class="comment_date">2014-04-21 11:23</span> <a id="a_comment_author_2921911" href="http://www.cnblogs.com/heyuquan/" target="_blank">滴答的雨</a> <a href="http://msg.cnblogs.com/send/%E6%BB%B4%E7%AD%94%E7%9A%84%E9%9B%A8" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2921911" class="blog_comment_body">先赞再看，我也正在研究微软的依赖注入！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2921911,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2921911,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2921911_avatar" style="display:none;">http://pic.cnblogs.com/face/u106337.jpg?id=13140010</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2921954,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2921954,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2921954" class="layer">#6楼</a><a name="2921954" id="comment_anchor_2921954"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-04-21 11:53</span> <a id="a_comment_author_2921954" href="http://www.cnblogs.com/xishuai/" target="_blank">田园里的蟋蟀</a> <a href="http://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2921954" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2921890" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2921890);">@</a>
Arthur9119<br>@阿超－<br>感谢支持。:)</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2921954,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2921954,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2921954_avatar" style="display:none;">http://pic.cnblogs.com/face/435188/20130715165802.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2921956,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2921956,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2921956" class="layer">#7楼</a><a name="2921956" id="comment_anchor_2921956"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-04-21 11:54</span> <a id="a_comment_author_2921956" href="http://www.cnblogs.com/xishuai/" target="_blank">田园里的蟋蟀</a> <a href="http://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2921956" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2921911" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2921911);">@</a>
滴答的雨（何雨泉）<br><fieldset class="comment_quote"><legend><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2921911" title="查看引用原文">引用</a></legend>先赞再看，我也正在研究微软的依赖注入！</fieldset><br>共同学习。:)</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2921956,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2921956,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2921956_avatar" style="display:none;">http://pic.cnblogs.com/face/435188/20130715165802.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2922135,&#39;BdO1rPxHw/dmikTmGPAKe4RJLp0vwy1e6I61/lEqg9Xe3AC+ig6WzQ==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2922135,&#39;BdO1rPxHw/dmikTmGPAKe4RJLp0vwy1e6I61/lEqg9Xe3AC+ig6WzQ==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2922135" class="layer">#8楼</a><a name="2922135" id="comment_anchor_2922135"></a>  <span class="comment_date">2014-04-21 14:54</span> <a id="a_comment_author_2922135" href="http://www.cnblogs.com/dekins/" target="_blank">dekins</a> <a href="http://msg.cnblogs.com/send/dekins" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2922135" class="blog_comment_body">不错，楼主辛苦</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2922135,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2922135,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2922135_avatar" style="display:none;">http://pic.cnblogs.com/face/u391407.jpg?id=24174750</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2922136,&#39;BdO1rPxHw/dmikTmGPAKe4RJLp0vwy1e6I61/lEqg9Xe3AC+ig6WzQ==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2922136,&#39;BdO1rPxHw/dmikTmGPAKe4RJLp0vwy1e6I61/lEqg9Xe3AC+ig6WzQ==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2922136" class="layer">#9楼</a><a name="2922136" id="comment_anchor_2922136"></a>  <span class="comment_date">2014-04-21 14:55</span> <a id="a_comment_author_2922136" href="http://www.cnblogs.com/dekins/" target="_blank">dekins</a> <a href="http://msg.cnblogs.com/send/dekins" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2922136" class="blog_comment_body">LZ，有编辑工具的，不用写一段看一段</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2922136,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2922136,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2922136_avatar" style="display:none;">http://pic.cnblogs.com/face/u391407.jpg?id=24174750</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2922137,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2922137,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2922137" class="layer">#10楼</a><a name="2922137" id="comment_anchor_2922137"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-04-21 14:57</span> <a id="a_comment_author_2922137" href="http://www.cnblogs.com/xishuai/" target="_blank">田园里的蟋蟀</a> <a href="http://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2922137" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2922136" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2922136);">@</a>
dekins<br><fieldset class="comment_quote"><legend><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2922136" title="查看引用原文">引用</a></legend>LZ，有编辑工具的，不用写一段看一段</fieldset><br>兄台说的是什么编辑工具？？？我使用的那个博客园编辑器，插入一段代码或是上传一个图片，浏览后有时候会莫名其妙多出许多换行，@dudu不忙的时候可以看下。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2922137,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2922137,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2922137_avatar" style="display:none;">http://pic.cnblogs.com/face/435188/20130715165802.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2933918,&#39;MMgG0WVgqtgUxPYY7jsbnfChI6Zt3ZN9P24e27dNuGLyw6N1arg/vw==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2933918,&#39;MMgG0WVgqtgUxPYY7jsbnfChI6Zt3ZN9P24e27dNuGLyw6N1arg/vw==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2933918" class="layer">#11楼</a><a name="2933918" id="comment_anchor_2933918"></a>  <span class="comment_date">2014-05-07 15:27</span> <a id="a_comment_author_2933918" href="http://www.cnblogs.com/candyzkn/" target="_blank">CandyZkn</a> <a href="http://msg.cnblogs.com/send/CandyZkn" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2933918" class="blog_comment_body">楼主辛苦！刚接触Unity，帮助很大！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2933918,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2933918,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2933918_avatar" style="display:none;">http://pic.cnblogs.com/face/511644/20170911175818.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2933922,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2933922,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2933922" class="layer">#12楼</a><a name="2933922" id="comment_anchor_2933922"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-05-07 15:29</span> <a id="a_comment_author_2933922" href="http://www.cnblogs.com/xishuai/" target="_blank">田园里的蟋蟀</a> <a href="http://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2933922" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2933918" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2933918);">@</a>
编码小匠<br><fieldset class="comment_quote"><legend><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2933918" title="查看引用原文">引用</a></legend>楼主辛苦！刚接触Unity，帮助很大！</fieldset><br>共同学习。:)</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2933922,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2933922,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2933922_avatar" style="display:none;">http://pic.cnblogs.com/face/435188/20130715165802.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2936712,&#39;LMKtg/Tq5/b+UYWSqvo2iw5HnUsWvBVWG7sdC/ls4KECv6n8aQJINw==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2936712,&#39;LMKtg/Tq5/b+UYWSqvo2iw5HnUsWvBVWG7sdC/ls4KECv6n8aQJINw==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2936712" class="layer">#13楼</a><a name="2936712" id="comment_anchor_2936712"></a>  <span class="comment_date">2014-05-12 09:29</span> <a id="a_comment_author_2936712" href="http://www.cnblogs.com/foryoule/" target="_blank">foryoule</a> <a href="http://msg.cnblogs.com/send/foryoule" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2936712" class="blog_comment_body">学习。赞一个</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2936712,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2936712,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2936713,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2936713,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2936713" class="layer">#14楼</a><a name="2936713" id="comment_anchor_2936713"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-05-12 09:30</span> <a id="a_comment_author_2936713" href="http://www.cnblogs.com/xishuai/" target="_blank">田园里的蟋蟀</a> <a href="http://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2936713" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2936712" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2936712);">@</a>
foryoule<br><fieldset class="comment_quote"><legend><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2936712" title="查看引用原文">引用</a></legend>学习。赞一个</fieldset><br>多谢兄台支持。:)</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2936713,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2936713,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2936713_avatar" style="display:none;">http://pic.cnblogs.com/face/435188/20130715165802.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2955956,&#39;82dKbn/kGgzoHCcIjllGZjS3ZgljUDxVjj8qf/MLX+s64oybOiAetw==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2955956,&#39;82dKbn/kGgzoHCcIjllGZjS3ZgljUDxVjj8qf/MLX+s64oybOiAetw==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955956" class="layer">#15楼</a><a name="2955956" id="comment_anchor_2955956"></a>  <span class="comment_date">2014-06-01 22:33</span> <a id="a_comment_author_2955956" href="http://www.cnblogs.com/wywnet/" target="_blank">YoMe</a> <a href="http://msg.cnblogs.com/send/YoMe" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2955956" class="blog_comment_body">container.RegisterType&lt;Test01.IWaterTool, Test01.PressWater&gt;();//注册依赖对象<br>5             Test01.IPeople people = container.Resolve&lt;Test01.VillagePeople&gt;();//返回调用者<br>6             people.DrinkWater();//喝水<br><br>请问楼主：我们用Unity是为了解除对象之间的依赖，Unity容器会自动找到调用者需要依赖的对象吗？如果是那么我如果我注册了两个对象，比如：<br>container.RegisterType&lt;Test01.IWaterTool, Test01.AutoWater&gt;();(这里AutoWater代表自来水，继承IWater)，<br><br>那么在调用Resolve方法的时候，Unity会自动应用哪个依赖对象呢？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2955956,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2955956,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2955956_avatar" style="display:none;">http://pic.cnblogs.com/face/500178/20150402170029.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2955957,&#39;82dKbn/kGgzoHCcIjllGZjS3ZgljUDxVjj8qf/MLX+s64oybOiAetw==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2955957,&#39;82dKbn/kGgzoHCcIjllGZjS3ZgljUDxVjj8qf/MLX+s64oybOiAetw==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955957" class="layer">#16楼</a><a name="2955957" id="comment_anchor_2955957"></a>  <span class="comment_date">2014-06-01 22:36</span> <a id="a_comment_author_2955957" href="http://www.cnblogs.com/wywnet/" target="_blank">YoMe</a> <a href="http://msg.cnblogs.com/send/YoMe" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2955957" class="blog_comment_body">container.RegisterType&lt;Test01.IWaterTool, Test01.PressWater&gt;();/<br>container.RegisterType&lt;Test01.IWaterTool, Test01.AutoWater&gt;();(<br>我试了一下，Unity会使用我们最后一个注册的依赖对象，不知道这样理解对不读，，还希望楼主有时间答复一下</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2955957,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2955957,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2955957_avatar" style="display:none;">http://pic.cnblogs.com/face/500178/20150402170029.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2955958,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2955958,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955958" class="layer">#17楼</a><a name="2955958" id="comment_anchor_2955958"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-06-01 22:39</span> <a id="a_comment_author_2955958" href="http://www.cnblogs.com/xishuai/" target="_blank">田园里的蟋蟀</a> <a href="http://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2955958" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955956" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2955956);">@</a>
Yowe<br><fieldset class="comment_quote"><legend><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955956" title="查看引用原文">引用</a></legend>container.RegisterType&lt;Test01.IWaterTool, Test01.PressWater&gt;();//注册依赖对象<br>5             Test01.IPeople people = container.Resolve&lt;Test01.VillagePeople&gt;();//返回调用者<br>6             people.DrinkWater();//喝水<br><br>请问楼主：我们用Unity是为了解除对象之间的依赖，Unity容器会自动找到调用者需要依赖的对象吗？如果是那么我如果我注册了两个对象，比如：<br>container.Registe...</fieldset><br>是会自动注册类型映射，你说的抽象：Test01.IWaterTool和具象：Test01.AutoWater，这两个不是一个概念啊，一个是抽象工具，一个是水的具象，只有抽象的具象才可以进行类型映射。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2955958,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2955958,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2955958_avatar" style="display:none;">http://pic.cnblogs.com/face/435188/20130715165802.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2955960,&#39;82dKbn/kGgzoHCcIjllGZjS3ZgljUDxVjj8qf/MLX+s64oybOiAetw==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2955960,&#39;82dKbn/kGgzoHCcIjllGZjS3ZgljUDxVjj8qf/MLX+s64oybOiAetw==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955960" class="layer">#18楼</a><a name="2955960" id="comment_anchor_2955960"></a>  <span class="comment_date">2014-06-01 22:44</span> <a id="a_comment_author_2955960" href="http://www.cnblogs.com/wywnet/" target="_blank">YoMe</a> <a href="http://msg.cnblogs.com/send/YoMe" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2955960" class="blog_comment_body">我说的AutoWater是继承IWaterTool的，不是水的具象，是一个工具类<br>那如果我这样注册了两个类型映射container.RegisterType&lt;Test01.IWaterTool, Test01.PressWater&gt;();/<br>container.RegisterType&lt;Test01.IWaterTool, Test01.AutoWater&gt;();<br>那第一个就被覆盖掉了吗？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2955960,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2955960,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2955960_avatar" style="display:none;">http://pic.cnblogs.com/face/500178/20150402170029.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2955961,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2955961,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955961" class="layer">#19楼</a><a name="2955961" id="comment_anchor_2955961"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-06-01 22:48</span> <a id="a_comment_author_2955961" href="http://www.cnblogs.com/xishuai/" target="_blank">田园里的蟋蟀</a> <a href="http://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2955961" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955960" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2955960);">@</a>
Yowe<br><fieldset class="comment_quote"><legend><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955960" title="查看引用原文">引用</a></legend>我说的AutoWater是继承IWaterTool的，不是水的具象，是一个工具类<br>那如果我这样注册了两个类型映射container.RegisterType&lt;Test01.IWaterTool, Test01.PressWater&gt;();/<br>container.RegisterType&lt;Test01.IWaterTool, Test01.AutoWater&gt;();<br>那第一个就被覆盖掉了吗？</fieldset><br>恩，是我理解错误了。我没试过，应该会覆盖掉，毕竟抽象只可以注册一种具象。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2955961,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2955961,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2955961_avatar" style="display:none;">http://pic.cnblogs.com/face/435188/20130715165802.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2955964,&#39;82dKbn/kGgzoHCcIjllGZjS3ZgljUDxVjj8qf/MLX+s64oybOiAetw==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2955964,&#39;82dKbn/kGgzoHCcIjllGZjS3ZgljUDxVjj8qf/MLX+s64oybOiAetw==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955964" class="layer">#20楼</a><a name="2955964" id="comment_anchor_2955964"></a>  <span class="comment_date">2014-06-01 22:52</span> <a id="a_comment_author_2955964" href="http://www.cnblogs.com/wywnet/" target="_blank">YoMe</a> <a href="http://msg.cnblogs.com/send/YoMe" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2955964" class="blog_comment_body">container.RegisterType&lt;Test01.IWaterTool, Test01.AutoWater&gt;(“Auto”);如果这样写句没问题了，我加了一个参数，这样的话就不会覆盖了，不知道楼主有没有用过</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2955964,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2955964,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2955964_avatar" style="display:none;">http://pic.cnblogs.com/face/500178/20150402170029.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2955965,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2955965,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955965" class="layer">#21楼</a><a name="2955965" id="comment_anchor_2955965"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-06-01 22:54</span> <a id="a_comment_author_2955965" href="http://www.cnblogs.com/xishuai/" target="_blank">田园里的蟋蟀</a> <a href="http://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2955965" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955964" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2955964);">@</a>
Yowe<br><fieldset class="comment_quote"><legend><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955964" title="查看引用原文">引用</a></legend>container.RegisterType&lt;Test01.IWaterTool, Test01.AutoWater&gt;(“Auto”);如果这样写句没问题了，我加了一个参数，这样的话就不会覆盖了，不知道楼主有没有用过</fieldset><br>是的，http://www.cnblogs.com/xishuai/p/3670292.html#xishuai_h5，也就是标识键。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2955965,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2955965,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2955965_avatar" style="display:none;">http://pic.cnblogs.com/face/435188/20130715165802.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2955967,&#39;82dKbn/kGgzoHCcIjllGZjS3ZgljUDxVjj8qf/MLX+s64oybOiAetw==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2955967,&#39;82dKbn/kGgzoHCcIjllGZjS3ZgljUDxVjj8qf/MLX+s64oybOiAetw==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2955967" class="layer">#22楼</a><a name="2955967" id="comment_anchor_2955967"></a>  <span class="comment_date">2014-06-01 22:56</span> <a id="a_comment_author_2955967" href="http://www.cnblogs.com/wywnet/" target="_blank">YoMe</a> <a href="http://msg.cnblogs.com/send/YoMe" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2955967" class="blog_comment_body">多谢多谢！！1</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2955967,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2955967,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2955967_avatar" style="display:none;">http://pic.cnblogs.com/face/500178/20150402170029.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2983632,&#39;Rymd5ZAyaEiaI93YxR548O+VPvbdSEaY4KYDFfMYNlSBAk+jQvYkWg==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2983632,&#39;Rymd5ZAyaEiaI93YxR548O+VPvbdSEaY4KYDFfMYNlSBAk+jQvYkWg==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2983632" class="layer">#23楼</a><a name="2983632" id="comment_anchor_2983632"></a>  <span class="comment_date">2014-07-14 13:52</span> <a id="a_comment_author_2983632" href="http://www.cnblogs.com/9527y/" target="_blank">佯林</a> <a href="http://msg.cnblogs.com/send/%E4%BD%AF%E6%9E%97" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2983632" class="blog_comment_body">文章不错。。~~<br><br>“UnityContainerDemo”程序集无效  检查一下程序集名，类名，命名空间这些.</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2983632,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2983632,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2983632_avatar" style="display:none;">http://pic.cnblogs.com/face/571952/20131004150412.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2983699,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2983699,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2983699" class="layer">#24楼</a><a name="2983699" id="comment_anchor_2983699"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2014-07-14 13:58</span> <a id="a_comment_author_2983699" href="http://www.cnblogs.com/xishuai/" target="_blank">田园里的蟋蟀</a> <a href="http://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2983699" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2983632" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2983632);">@</a>
佯林<br><a href="http://pan.baidu.com/s/1pJAtdoR" target="_blank">http://pan.baidu.com/s/1pJAtdoR</a></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2983699,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2983699,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2983699_avatar" style="display:none;">http://pic.cnblogs.com/face/435188/20130715165802.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(2983994,&#39;Rymd5ZAyaEiaI93YxR548O+VPvbdSEaY4KYDFfMYNlSBAk+jQvYkWg==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(2983994,&#39;Rymd5ZAyaEiaI93YxR548O+VPvbdSEaY4KYDFfMYNlSBAk+jQvYkWg==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#2983994" class="layer">#25楼</a><a name="2983994" id="comment_anchor_2983994"></a>  <span class="comment_date">2014-07-14 14:01</span> <a id="a_comment_author_2983994" href="http://www.cnblogs.com/9527y/" target="_blank">佯林</a> <a href="http://msg.cnblogs.com/send/%E4%BD%AF%E6%9E%97" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_2983994" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#2983699" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,2983699);">@</a>
田园里的蟋蟀<br>嗯，好文，激动了，没看完就回复了。。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(2983994,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(2983994,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_2983994_avatar" style="display:none;">http://pic.cnblogs.com/face/571952/20131004150412.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(3045178,&#39;VSDoLFUXu2H3pbQj3EyNLVFAQxkgtgL8j6jIHbN5IAG8HhR2arVz5w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(3045178,&#39;VSDoLFUXu2H3pbQj3EyNLVFAQxkgtgL8j6jIHbN5IAG8HhR2arVz5w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#3045178" class="layer">#26楼</a><a name="3045178" id="comment_anchor_3045178"></a>  <span class="comment_date">2014-10-16 17:24</span> <a id="a_comment_author_3045178" href="http://www.cnblogs.com/gangtienanzi/" target="_blank">钢铁男子XO</a> <a href="http://msg.cnblogs.com/send/%E9%92%A2%E9%93%81%E7%94%B7%E5%AD%90XO" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3045178" class="blog_comment_body">非常不错，必须得顶</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3045178,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3045178,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3045178_avatar" style="display:none;">http://pic.cnblogs.com/face/u434870.jpg?id=06143808</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(3137806,&#39;f1V+vOTUyAtUAAn/h4ZxQCA/SC57Njw27XXQusPIIsg+X07yFwBLSQ==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(3137806,&#39;f1V+vOTUyAtUAAn/h4ZxQCA/SC57Njw27XXQusPIIsg+X07yFwBLSQ==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#3137806" class="layer">#27楼</a><a name="3137806" id="comment_anchor_3137806"></a>  <span class="comment_date">2015-03-09 18:35</span> <a id="a_comment_author_3137806" href="http://home.cnblogs.com/u/631596/" target="_blank">绾绾晚晚</a> <a href="http://msg.cnblogs.com/send/%E7%BB%BE%E7%BB%BE%E6%99%9A%E6%99%9A" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3137806" class="blog_comment_body">先收藏了，慢慢研究</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3137806,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3137806,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(3229733,&#39;XtHlI5+iy/wnHwmx5V7h2nfzEw3gdfsFxbOEkozWcYE9uSsM1DqTqg==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(3229733,&#39;XtHlI5+iy/wnHwmx5V7h2nfzEw3gdfsFxbOEkozWcYE9uSsM1DqTqg==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#3229733" class="layer">#28楼</a><a name="3229733" id="comment_anchor_3229733"></a>  <span class="comment_date">2015-07-17 11:29</span> <a id="a_comment_author_3229733" href="http://www.cnblogs.com/zlzly/" target="_blank">程序新青年</a> <a href="http://msg.cnblogs.com/send/%E7%A8%8B%E5%BA%8F%E6%96%B0%E9%9D%92%E5%B9%B4" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3229733" class="blog_comment_body">依赖注入，控制反转有什么好处，我觉得他把程序复杂化了。有必要这么弄么</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3229733,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3229733,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3229733_avatar" style="display:none;">http://pic.cnblogs.com/face/119336/20150518164107.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(3229737,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(3229737,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#3229737" class="layer">#29楼</a><a name="3229737" id="comment_anchor_3229737"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2015-07-17 11:32</span> <a id="a_comment_author_3229737" href="http://www.cnblogs.com/xishuai/" target="_blank">田园里的蟋蟀</a> <a href="http://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3229737" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#3229733" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3229733);">@</a>
程序新青年<br>解耦。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3229737,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3229737,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3229737_avatar" style="display:none;">http://pic.cnblogs.com/face/435188/20130715165802.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(3251049,&#39;PWuDzCDSK9IYRwAbiPAzrNdCKYwjkItazISzS1fhEQ0XbUWnE2IN0A==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(3251049,&#39;PWuDzCDSK9IYRwAbiPAzrNdCKYwjkItazISzS1fhEQ0XbUWnE2IN0A==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#3251049" class="layer">#30楼</a><a name="3251049" id="comment_anchor_3251049"></a>  <span class="comment_date">2015-08-20 17:21</span> <a id="a_comment_author_3251049" href="http://www.cnblogs.com/zyrmb/" target="_blank">可可甜心</a> <a href="http://msg.cnblogs.com/send/%E5%8F%AF%E5%8F%AF%E7%94%9C%E5%BF%83" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3251049" class="blog_comment_body">@田园里的蟋蟀  unity依赖注入 支持范型接口嘛！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3251049,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3251049,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(3280214,&#39;tH8G/xiWVWqWHlLEcfY53176wKC3PvLaMnECHwy0psnMTfYRNjubDw==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(3280214,&#39;tH8G/xiWVWqWHlLEcfY53176wKC3PvLaMnECHwy0psnMTfYRNjubDw==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#3280214" class="layer">#31楼</a><a name="3280214" id="comment_anchor_3280214"></a>  <span class="comment_date">2015-10-08 15:41</span> <a id="a_comment_author_3280214" href="http://www.cnblogs.com/muniuliuma/" target="_blank">木木牛流马</a> <a href="http://msg.cnblogs.com/send/%E6%9C%A8%E6%9C%A8%E7%89%9B%E6%B5%81%E9%A9%AC" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3280214" class="blog_comment_body">为什么在获取var configuration = (UnityConfigurationSection)ConfigurationManager.GetSection(UnityConfigurationSection.SectionName);的时候configuration总是为null，网上找了半天也没找到原因，配置是按照你的那种配置来的，好纠结</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3280214,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3280214,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3280214_avatar" style="display:none;">http://pic.cnblogs.com/face/634147/20150701122926.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(3280226,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(3280226,&#39;4cSClyE4Z6kwNllN6UYZQAuSzhXIet9CpCcqTJYsSIRKVf8yi4eu0w==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#3280226" class="layer">#32楼</a><a name="3280226" id="comment_anchor_3280226"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2015-10-08 15:47</span> <a id="a_comment_author_3280226" href="http://www.cnblogs.com/xishuai/" target="_blank">田园里的蟋蟀</a> <a href="http://msg.cnblogs.com/send/%E7%94%B0%E5%9B%AD%E9%87%8C%E7%9A%84%E8%9F%8B%E8%9F%80" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3280226" class="blog_comment_body"><a href="http://www.cnblogs.com/xishuai/p/3670292.html#3280214" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3280214);">@</a>
木木牛流马<br>文中有示例demo，你下载运行看看。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3280226,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3280226,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3280226_avatar" style="display:none;">http://pic.cnblogs.com/face/435188/20130715165802.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(3529378,&#39;20b9SgSiHjdk0QWGrvFFUHYEtw8g/We1iVuPxosoepWbO+l/QGbSGw==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(3529378,&#39;20b9SgSiHjdk0QWGrvFFUHYEtw8g/We1iVuPxosoepWbO+l/QGbSGw==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#3529378" class="layer">#33楼</a><a name="3529378" id="comment_anchor_3529378"></a>  <span class="comment_date">2016-10-12 17:03</span> <a id="a_comment_author_3529378" href="http://www.cnblogs.com/xiao99/" target="_blank">xiao99</a> <a href="http://msg.cnblogs.com/send/xiao99" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3529378" class="blog_comment_body">我还是喜欢在代码里面写，配置项总是感觉很麻烦，也不直观。多台服务器部署的时候也不方便。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3529378,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3529378,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3529378_avatar" style="display:none;">http://pic.cnblogs.com/face/u243886.jpg?id=04222635</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(3734521,&#39;O0as0z51273lCWkcyEj0CsGtZjus3Z/Y+AlRrDRGZX2TSKRFOiRYDw==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(3734521,&#39;O0as0z51273lCWkcyEj0CsGtZjus3Z/Y+AlRrDRGZX2TSKRFOiRYDw==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#3734521" class="layer">#34楼</a><a name="3734521" id="comment_anchor_3734521"></a>  <span class="comment_date">2017-07-13 15:37</span> <a id="a_comment_author_3734521" href="http://www.cnblogs.com/kungge/" target="_blank">kungge</a> <a href="http://msg.cnblogs.com/send/kungge" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3734521" class="blog_comment_body">因为VillagePeople01也依赖于IPeople，所以在返回调用者的时候，IPeople people = container.Resolve&lt;IPeople&gt;()，当然前面得注册依赖对象container.RegisterType&lt;IPeople, VillagePeople01&gt;()，只要有依赖的都注册</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3734521,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3734521,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"><a href="javascript:void(0);" onclick="return ReplyComment(3848816,&#39;kMXeFDhW2rfpVOaiDwQhKijsJD+wAhvMQ1vpwd5uCz1oOQLma0LRTA==&#39;)">回复</a><a href="javascript:void(0);" onclick="return QuoteComment(3848816,&#39;kMXeFDhW2rfpVOaiDwQhKijsJD+wAhvMQ1vpwd5uCz1oOQLma0LRTA==&#39;)">引用</a></span>
				</div>
				<a href="http://www.cnblogs.com/xishuai/p/3670292.html#3848816" class="layer">#35楼</a><a name="3848816" id="comment_anchor_3848816"></a><span id="comment-maxId" style="display:none;">3848816</span><span id="comment-maxDate" style="display:none;">2017/11/23 21:26:20</span>  <span class="comment_date">2017-11-23 21:26</span> <a id="a_comment_author_3848816" href="http://www.cnblogs.com/kesonkong/" target="_blank">炳淳</a> <a href="http://msg.cnblogs.com/send/%E7%82%B3%E6%B7%B3" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3848816" class="blog_comment_body">谢谢楼主分享，先收藏，好好学习一下</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3848816,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3848816,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3848816_avatar" style="display:none;">http://pic.cnblogs.com/face/1284521/20171121223645.png</span>
			</div>
		</div>
	<div id="comments_pager_bottom"></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
<a name="commentform"></a>
<div id="divCommentShow"></div>
<div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="http://www.cnblogs.com/xishuai/p/3670292.html#" onclick="return RefreshPage();">刷新页面</a><a href="http://www.cnblogs.com/xishuai/p/3670292.html#top">返回顶部</a></div>
<div id="comment_form_container">
<div id="commentform_title">发表评论</div>
<span id="tip_comment" style="color:Red"></span>
<p>
昵称：<input type="text" id="tbCommentAuthor" class="author" disabled="disabled" size="50" value="ZereL">
</p>
<div class="commentbox_main">
<div class="commentbox_title">
<div class="commentbox_title_left">评论内容：</div>
<div class="commentbox_title_right">
<img id="ubb_quote" class="comment_icon" src="./Unity依赖注入使用详解_files/quote.gif" alt="引用" title="添加引用" onclick="insertUBB(&#39;tbCommentBody&#39;,&#39;quote&#39;)">
<img id="ubb_bold" class="comment_icon" src="./Unity依赖注入使用详解_files/b.png" alt="粗体" title="添加粗体" onclick="insertUBB(&#39;tbCommentBody&#39;,&#39;b&#39;)">
<img id="ubb_url" class="comment_icon" src="./Unity依赖注入使用详解_files/lk.png" alt="链接" title="添加链接" onclick="insertUbbUrl(&#39;tbCommentBody&#39;)">
<img id="ubb_indent" class="comment_icon" src="./Unity依赖注入使用详解_files/indent.png" alt="缩进" title="添加首行缩进" onclick="insertIndent(&#39;tbCommentBody&#39;)">
<img id="ubb_code" class="comment_icon" src="./Unity依赖注入使用详解_files/InsertCode.gif" alt="代码" title="添加代码" onclick="insertUbbCode()">
<img id="ubb_img" class="comment_icon" src="./Unity依赖注入使用详解_files/img.gif" alt="图片" title="上传图片" onclick="OpenImageUploadWindow();">
</div>
</div>
<div class="clear"></div>
<textarea id="tbCommentBody" class="comment_textarea"></textarea>
</div>
<p id="commentbox_opt">
<input id="btn_comment_submit" type="button" class="comment_btn" value="提交评论">
<span id="span_comment_canceledit" style="display:none"><a href="javascript:void(0);" onclick="return CancelCommentEdit()">不改了</a></span>
<a href="javascript:void(0);" onclick="return logout();">退出</a>
        <a id="commentbox_opt_sub" href="javascript:void(0);" title="订阅后有新评论时会邮件通知您" onclick="commentManager.Subscribe()">订阅评论</a>
</p>
<div id="tip_comment2" style="color:Red"></div>
<p>
[Ctrl+Enter快捷键提交]
</p>
<div style="display:none">
<span id="comment_edit_id"></span><span id="span_parentcomment_id"></span>
<span id="span_parent_id"></span>
<span id="span_comment_replyto"></span>
<span id="span_comment_posted"></span>
</div>
</div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="ad_t2"></div>
<div id="opt_under_post"></div>
<div id="cnblogs_c1" class="c_ad_block"></div>
<div id="under_post_news"><div class="itnews c_ad_block"><b>最新IT新闻</b>:<br> ·  <a href="https://news.cnblogs.com/n/585063/" target="_blank">百度与中国人寿成立140亿投资基金 主投泛互联网领域</a><br> ·  <a href="https://news.cnblogs.com/n/585067/" target="_blank">让员工参与公司战略，SaaS平台Workboard获微软领投900万美元</a><br> ·  <a href="https://news.cnblogs.com/n/585071/" target="_blank">比特币这么贵的原因可能是机器人，你会成为接盘侠吗</a><br> ·  <a href="https://news.cnblogs.com/n/585072/" target="_blank">这可能是微软秘密研发的Surface Notebook</a><br> ·  <a href="https://news.cnblogs.com/n/585054/" target="_blank">还花一两个小时挑房源？Airbnb将推新技术让你全方位无死角了解房源</a><br>» <a href="http://news.cnblogs.com/" title="IT新闻" target="_blank">更多新闻...</a></div></div>
<div id="cnblogs_c2" class="c_ad_block"></div>
<div id="under_post_kb"><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/531409/" target="_blank">以操作系统的角度述说线程与进程</a><br> ·  <a href="http://kb.cnblogs.com/page/141729/" target="_blank">软件测试转型之路</a><br> ·  <a href="http://kb.cnblogs.com/page/177402/" target="_blank">门内门外看招聘</a><br> ·  <a href="http://kb.cnblogs.com/page/112506/" target="_blank">大道至简，职场上做人做事做管理</a><br> ·  <a href="http://kb.cnblogs.com/page/563790/" target="_blank">关于编程，你的练习是不是有效的？</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
<script type="text/javascript">
    fixPostBody();
    setTimeout(function () { incrementViewCount(cb_entryId); }, 50);
    deliverAdT2();
    deliverAdC1();
    deliverAdC2();    
    loadNewsAndKb();
    loadBlogSignature();
    LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
    GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
    loadOptUnderPost();
    GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);   
</script>
</div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			
<!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	<div id="blog-news"><!--<div style="display: none" id="__document_write_ajax_div-1"></div><script charset="Shift_JIS" >window['__document_write_ajax_callbacks__']['1']();</script>-->

<a target="_blank" title="Microsoft MVP: ASP.NET/IIS" href="https://mvp.microsoft.com/en-us/PublicProfile/5001476?fullName=Zhongxin%20%20Yue">
<img src="./Unity依赖注入使用详解_files/121035578149076.png" style="max-width: 100%;"></a>

<!--<div id="clicki_widget_6830" ></div>-->

<!--jiathis分享代码-->
<div id="profile_block">昵称：<a href="http://home.cnblogs.com/u/xishuai/">田园里的蟋蟀</a><br>园龄：<a href="http://home.cnblogs.com/u/xishuai/" title="入园时间：2012-08-07">5年4个月</a><br>粉丝：<a href="http://home.cnblogs.com/u/xishuai/followers/">2589</a><br>关注：<a href="http://home.cnblogs.com/u/xishuai/followees/">122</a><div id="p_b_follow">已关注 <a href="javascript:void(0);" onclick="unfollow(&#39;3d3b4137-4ae0-e111-aa3f-842b2b196315&#39;)">-取消</a></div></div></div><script type="text/javascript">loadBlogNews();</script>
</div>

			<div id="blog-calendar" style=""><table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="Calendar">
	<tbody><tr><td colspan="7"><table class="CalTitle" cellspacing="0">
		<tbody><tr><td class="CalNextPrev"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2017/11/01&#39;);return false;">&lt;</a></td><td align="center">2017年12月</td><td class="CalNextPrev" align="right"><a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2018/01/01&#39;);return false;">&gt;</a></td></tr>
	</tbody></table></td></tr><tr><th class="CalDayHeader" align="center" abbr="日" scope="col">日</th><th class="CalDayHeader" align="center" abbr="一" scope="col">一</th><th class="CalDayHeader" align="center" abbr="二" scope="col">二</th><th class="CalDayHeader" align="center" abbr="三" scope="col">三</th><th class="CalDayHeader" align="center" abbr="四" scope="col">四</th><th class="CalDayHeader" align="center" abbr="五" scope="col">五</th><th class="CalDayHeader" align="center" abbr="六" scope="col">六</th></tr><tr><td class="CalOtherMonthDay" align="center">26</td><td class="CalOtherMonthDay" align="center">27</td><td class="CalOtherMonthDay" align="center">28</td><td class="CalOtherMonthDay" align="center">29</td><td class="CalOtherMonthDay" align="center">30</td><td align="center">1</td><td class="CalWeekendDay" align="center">2</td></tr><tr><td class="CalWeekendDay" align="center">3</td><td align="center">4</td><td align="center">5</td><td align="center"><a href="http://www.cnblogs.com/xishuai/archive/2017/12/06.html"><u>6</u></a></td><td align="center">7</td><td align="center">8</td><td class="CalWeekendDay" align="center">9</td></tr><tr><td class="CalWeekendDay" align="center">10</td><td align="center">11</td><td align="center">12</td><td align="center">13</td><td align="center">14</td><td align="center">15</td><td class="CalTodayDay" align="center">16</td></tr><tr><td class="CalWeekendDay" align="center">17</td><td align="center">18</td><td align="center">19</td><td align="center">20</td><td align="center">21</td><td align="center">22</td><td class="CalWeekendDay" align="center">23</td></tr><tr><td class="CalWeekendDay" align="center">24</td><td align="center">25</td><td align="center">26</td><td align="center">27</td><td align="center">28</td><td align="center">29</td><td class="CalWeekendDay" align="center">30</td></tr><tr><td class="CalWeekendDay" align="center">31</td><td class="CalOtherMonthDay" align="center">1</td><td class="CalOtherMonthDay" align="center">2</td><td class="CalOtherMonthDay" align="center">3</td><td class="CalOtherMonthDay" align="center">4</td><td class="CalOtherMonthDay" align="center">5</td><td class="CalOtherMonthDay" align="center">6</td></tr>
</tbody></table></div><script type="text/javascript">loadBlogDefaultCalendar();</script>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"><div id="sidebar_search" class="sidebar-block">
<div id="sidebar_search" class="mySearch">
<h3 class="catListTitle">搜索</h3>
<div id="sidebar_search_box">
<div id="widget_my_zzk" class="div_my_zzk"><input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk"></div>

</div>
</div>

</div><div id="sidebar_recentposts" class="sidebar-block">
<div class="catListEssay">
<h3 class="catListTitle">最新随笔</h3>
<ul>
<li><a href="http://www.cnblogs.com/xishuai/p/docker-swarm.html">1. Docker 三剑客之 Docker Swarm</a></li><li><a href="http://www.cnblogs.com/xishuai/p/docker-compose.html">2. Docker 三剑客之 Docker Compose</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ubuntu-docker-consul-fabio-aspnet-core.html">3. Docker &amp; Consul &amp; Fabio &amp; ASP.NET Core 2.0 微服务跨平台实践</a></li><li><a href="http://www.cnblogs.com/xishuai/p/asp-net-core-webapi-json-convert-empty-string-instead-of-null.html">4. ASP.NET Core WebApi 返回统一格式参数（Json 中 Null 替换为空字符串）</a></li><li><a href="http://www.cnblogs.com/xishuai/p/identityserver4-get-user-claims-by-token.html">5. IdentityServer4 通过 AccessToken 获取 UserClaims</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ubuntu-gitlab-ci-docker-aspnet-core-part-2.html">6. Ubuntu &amp; GitLab CI &amp; Docker &amp; ASP.NET Core 2.0 自动化发布和部署（2）</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ubuntu-docker-registry.html">7. Ubuntu Docker Registry 搭建私有仓库</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ubuntu-gitlab-ci-docker-aspnet-core-part-1.html">8. Ubuntu &amp; GitLab CI &amp; Docker &amp; ASP.NET Core 2.0 自动化发布和部署（1）</a></li><li><a href="http://www.cnblogs.com/xishuai/p/7458191.html">9. Ubuntu SSH root 登录 Permission denied 错误</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ubuntu-install-supervisor.html">10. Ubuntu 安装和使用 Supervisor（进程管理）</a></li>
</ul>
</div>
</div><div id="sidebar_toptags" class="sidebar-block">
<div class="catListTag">
<h3 class="catListTitle">我的标签</h3>
<ul>
<li><a href="http://www.cnblogs.com/xishuai/tag/%5B20%5D%E5%B0%8F%E8%8F%9C%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B-ASP.NET%20vNext/">[20]小菜学习编程-ASP.NET vNext</a>(72)</li><li><a href="http://www.cnblogs.com/xishuai/tag/%5B17%5D%E5%B0%8F%E8%8F%9C%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B-DDD/">[17]小菜学习编程-DDD</a>(43)</li><li><a href="http://www.cnblogs.com/xishuai/tag/%5B14%5D%E5%B0%8F%E8%8F%9C%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B-EntityFramework/">[14]小菜学习编程-EntityFramework</a>(42)</li><li><a href="http://www.cnblogs.com/xishuai/tag/%5B15%5D%E5%B0%8F%E8%8F%9C%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B-MVC/">[15]小菜学习编程-MVC</a>(35)</li><li><a href="http://www.cnblogs.com/xishuai/tag/%5B05%5D%E5%B0%8F%E8%8F%9C%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B-.Net/">[05]小菜学习编程-.Net</a>(30)</li><li><a href="http://www.cnblogs.com/xishuai/tag/%5B23%5D%E5%B0%8F%E8%8F%9C%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B-ASP.NET/">[23]小菜学习编程-ASP.NET</a>(27)</li><li><a href="http://www.cnblogs.com/xishuai/tag/%5B12%5D%E5%B0%8F%E8%8F%9C%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B-JavaScript/">[12]小菜学习编程-JavaScript</a>(23)</li><li><a href="http://www.cnblogs.com/xishuai/tag/%5B31%5D%E5%B0%8F%E8%8F%9C%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B-Linux/">[31]小菜学习编程-Linux</a>(16)</li><li><a href="http://www.cnblogs.com/xishuai/tag/%5B24%5D%E5%B0%8F%E8%8F%9C%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B-%E8%90%BD%E7%BD%91/">[24]小菜学习编程-落网</a>(15)</li><li><a href="http://www.cnblogs.com/xishuai/tag/%5B27%5D%E5%B0%8F%E8%8F%9C%E5%AD%A6%E4%B9%A0%E7%BC%96%E7%A8%8B-%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/">[27]小菜学习编程-架构设计</a>(14)</li><li><a href="http://www.cnblogs.com/xishuai/tag/">更多</a></li>
</ul>
</div></div><div id="sidebar_categories">
<div id="sidebar_postcategory" class="catListPostCategory sidebar-block">
<h3 class="catListTitle">随笔分类<span style="font-size:11px;font-weight:normal">(440)</span></h3>

<ul>

<li><a id="CatList_LinkList_0_Link_0" href="http://www.cnblogs.com/xishuai/category/526208.html">[01]C(9)</a> </li>

<li><a id="CatList_LinkList_0_Link_1" href="http://www.cnblogs.com/xishuai/category/477810.html">[02]Java(2)</a> </li>

<li><a id="CatList_LinkList_0_Link_2" href="http://www.cnblogs.com/xishuai/category/540158.html">[03].Net(30)</a> </li>

<li><a id="CatList_LinkList_0_Link_3" href="http://www.cnblogs.com/xishuai/category/558994.html">[04]Git/GitLab(12)</a> </li>

<li><a id="CatList_LinkList_0_Link_4" href="http://www.cnblogs.com/xishuai/category/542186.html">[05]CLR(3)</a> </li>

<li><a id="CatList_LinkList_0_Link_5" href="http://www.cnblogs.com/xishuai/category/572886.html">[06]IoC/DI(4)</a> </li>

<li><a id="CatList_LinkList_0_Link_6" href="http://www.cnblogs.com/xishuai/category/572887.html">[07]DDD(42)</a> </li>

<li><a id="CatList_LinkList_0_Link_7" href="http://www.cnblogs.com/xishuai/category/577114.html">[08]DTO/AutoMapper(8)</a> </li>

<li><a id="CatList_LinkList_0_Link_8" href="http://www.cnblogs.com/xishuai/category/552140.html">[09]CSS/JavaScript(25)</a> </li>

<li><a id="CatList_LinkList_0_Link_9" href="http://www.cnblogs.com/xishuai/category/553676.html">[10]ControlDesign(6)</a> </li>

<li><a id="CatList_LinkList_0_Link_10" href="http://www.cnblogs.com/xishuai/category/610156.html">[11]ASP.NET(26)</a> </li>

<li><a id="CatList_LinkList_0_Link_11" href="http://www.cnblogs.com/xishuai/category/565076.html">[12]ASP.NET MVC(35)</a> </li>

<li><a id="CatList_LinkList_0_Link_12" href="http://www.cnblogs.com/xishuai/category/586918.html">[13]ASP.NET Core(72)</a> </li>

<li><a id="CatList_LinkList_0_Link_13" href="http://www.cnblogs.com/xishuai/category/565075.html">[14]EntityFramework(42)</a> </li>

<li><a id="CatList_LinkList_0_Link_14" href="http://www.cnblogs.com/xishuai/category/540932.html">[15]Winform(10)</a> </li>

<li><a id="CatList_LinkList_0_Link_15" href="http://www.cnblogs.com/xishuai/category/477803.html">[16]DatabaseDesign(14)</a> </li>

<li><a id="CatList_LinkList_0_Link_16" href="http://www.cnblogs.com/xishuai/category/579308.html">[17]UnitTest/NUint/xUnit(4)</a> </li>

<li><a id="CatList_LinkList_0_Link_17" href="http://www.cnblogs.com/xishuai/category/1025768.html">[18]OAuth2.0/IdentityServer4(12)</a> </li>

<li><a id="CatList_LinkList_0_Link_18" href="http://www.cnblogs.com/xishuai/category/587647.html">[19]VisualStudio(11)</a> </li>

<li><a id="CatList_LinkList_0_Link_19" href="http://www.cnblogs.com/xishuai/category/929913.html">[20]Mac OS/Linux(18)</a> </li>

<li><a id="CatList_LinkList_0_Link_20" href="http://www.cnblogs.com/xishuai/category/704413.html">[21]Google(1)</a> </li>

<li><a id="CatList_LinkList_0_Link_21" href="http://www.cnblogs.com/xishuai/category/600779.html">[22]CNBlogs(3)</a> </li>

<li><a id="CatList_LinkList_0_Link_22" href="http://www.cnblogs.com/xishuai/category/906056.html">[23]架构设计(14)</a> </li>

<li><a id="CatList_LinkList_0_Link_23" href="http://www.cnblogs.com/xishuai/category/544557.html">[24]设计模式(5)</a> </li>

<li><a id="CatList_LinkList_0_Link_24" href="http://www.cnblogs.com/xishuai/category/580396.html">[25]建站四部曲(1)</a> </li>

<li><a id="CatList_LinkList_0_Link_25" href="http://www.cnblogs.com/xishuai/category/468999.html">[26]程序人生(11)</a> </li>

<li><a id="CatList_LinkList_0_Link_26" href="http://www.cnblogs.com/xishuai/category/541443.html">[27]杂谈(5)</a> </li>

<li><a id="CatList_LinkList_0_Link_27" href="http://www.cnblogs.com/xishuai/category/701506.html">[28]落网(15)</a> </li>

</ul>

</div>

<div id="sidebar_postarchive" class="catListPostArchive sidebar-block">
<h3 class="catListTitle">随笔档案<span style="font-size:11px;font-weight:normal">(340)</span></h3>

<ul>

<li><a id="CatList_LinkList_1_Link_0" href="http://www.cnblogs.com/xishuai/archive/2017/12.html">2017年12月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_1" href="http://www.cnblogs.com/xishuai/archive/2017/11.html">2017年11月 (3)</a> </li>

<li><a id="CatList_LinkList_1_Link_2" href="http://www.cnblogs.com/xishuai/archive/2017/09.html">2017年9月 (4)</a> </li>

<li><a id="CatList_LinkList_1_Link_3" href="http://www.cnblogs.com/xishuai/archive/2017/08.html">2017年8月 (10)</a> </li>

<li><a id="CatList_LinkList_1_Link_4" href="http://www.cnblogs.com/xishuai/archive/2017/06.html">2017年6月 (8)</a> </li>

<li><a id="CatList_LinkList_1_Link_5" href="http://www.cnblogs.com/xishuai/archive/2017/05.html">2017年5月 (6)</a> </li>

<li><a id="CatList_LinkList_1_Link_6" href="http://www.cnblogs.com/xishuai/archive/2017/04.html">2017年4月 (11)</a> </li>

<li><a id="CatList_LinkList_1_Link_7" href="http://www.cnblogs.com/xishuai/archive/2017/03.html">2017年3月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_8" href="http://www.cnblogs.com/xishuai/archive/2017/01.html">2017年1月 (2)</a> </li>

<li><a id="CatList_LinkList_1_Link_9" href="http://www.cnblogs.com/xishuai/archive/2016/12.html">2016年12月 (9)</a> </li>

<li><a id="CatList_LinkList_1_Link_10" href="http://www.cnblogs.com/xishuai/archive/2016/11.html">2016年11月 (3)</a> </li>

<li><a id="CatList_LinkList_1_Link_11" href="http://www.cnblogs.com/xishuai/archive/2016/10.html">2016年10月 (3)</a> </li>

<li><a id="CatList_LinkList_1_Link_12" href="http://www.cnblogs.com/xishuai/archive/2016/09.html">2016年9月 (3)</a> </li>

<li><a id="CatList_LinkList_1_Link_13" href="http://www.cnblogs.com/xishuai/archive/2016/08.html">2016年8月 (4)</a> </li>

<li><a id="CatList_LinkList_1_Link_14" href="http://www.cnblogs.com/xishuai/archive/2016/07.html">2016年7月 (1)</a> </li>

<li><a id="CatList_LinkList_1_Link_15" href="http://www.cnblogs.com/xishuai/archive/2016/06.html">2016年6月 (3)</a> </li>

<li><a id="CatList_LinkList_1_Link_16" href="http://www.cnblogs.com/xishuai/archive/2016/05.html">2016年5月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_17" href="http://www.cnblogs.com/xishuai/archive/2016/04.html">2016年4月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_18" href="http://www.cnblogs.com/xishuai/archive/2016/03.html">2016年3月 (10)</a> </li>

<li><a id="CatList_LinkList_1_Link_19" href="http://www.cnblogs.com/xishuai/archive/2016/02.html">2016年2月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_20" href="http://www.cnblogs.com/xishuai/archive/2016/01.html">2016年1月 (4)</a> </li>

<li><a id="CatList_LinkList_1_Link_21" href="http://www.cnblogs.com/xishuai/archive/2015/12.html">2015年12月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_22" href="http://www.cnblogs.com/xishuai/archive/2015/11.html">2015年11月 (4)</a> </li>

<li><a id="CatList_LinkList_1_Link_23" href="http://www.cnblogs.com/xishuai/archive/2015/10.html">2015年10月 (7)</a> </li>

<li><a id="CatList_LinkList_1_Link_24" href="http://www.cnblogs.com/xishuai/archive/2015/09.html">2015年9月 (7)</a> </li>

<li><a id="CatList_LinkList_1_Link_25" href="http://www.cnblogs.com/xishuai/archive/2015/08.html">2015年8月 (7)</a> </li>

<li><a id="CatList_LinkList_1_Link_26" href="http://www.cnblogs.com/xishuai/archive/2015/07.html">2015年7月 (7)</a> </li>

<li><a id="CatList_LinkList_1_Link_27" href="http://www.cnblogs.com/xishuai/archive/2015/06.html">2015年6月 (7)</a> </li>

<li><a id="CatList_LinkList_1_Link_28" href="http://www.cnblogs.com/xishuai/archive/2015/05.html">2015年5月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_29" href="http://www.cnblogs.com/xishuai/archive/2015/04.html">2015年4月 (4)</a> </li>

<li><a id="CatList_LinkList_1_Link_30" href="http://www.cnblogs.com/xishuai/archive/2015/03.html">2015年3月 (12)</a> </li>

<li><a id="CatList_LinkList_1_Link_31" href="http://www.cnblogs.com/xishuai/archive/2015/02.html">2015年2月 (5)</a> </li>

<li><a id="CatList_LinkList_1_Link_32" href="http://www.cnblogs.com/xishuai/archive/2015/01.html">2015年1月 (15)</a> </li>

<li><a id="CatList_LinkList_1_Link_33" href="http://www.cnblogs.com/xishuai/archive/2014/12.html">2014年12月 (16)</a> </li>

<li><a id="CatList_LinkList_1_Link_34" href="http://www.cnblogs.com/xishuai/archive/2014/11.html">2014年11月 (13)</a> </li>

<li><a id="CatList_LinkList_1_Link_35" href="http://www.cnblogs.com/xishuai/archive/2014/10.html">2014年10月 (6)</a> </li>

<li><a id="CatList_LinkList_1_Link_36" href="http://www.cnblogs.com/xishuai/archive/2014/09.html">2014年9月 (9)</a> </li>

<li><a id="CatList_LinkList_1_Link_37" href="http://www.cnblogs.com/xishuai/archive/2014/08.html">2014年8月 (15)</a> </li>

<li><a id="CatList_LinkList_1_Link_38" href="http://www.cnblogs.com/xishuai/archive/2014/07.html">2014年7月 (9)</a> </li>

<li><a id="CatList_LinkList_1_Link_39" href="http://www.cnblogs.com/xishuai/archive/2014/06.html">2014年6月 (8)</a> </li>

<li><a id="CatList_LinkList_1_Link_40" href="http://www.cnblogs.com/xishuai/archive/2014/05.html">2014年5月 (8)</a> </li>

<li><a id="CatList_LinkList_1_Link_41" href="http://www.cnblogs.com/xishuai/archive/2014/04.html">2014年4月 (10)</a> </li>

<li><a id="CatList_LinkList_1_Link_42" href="http://www.cnblogs.com/xishuai/archive/2014/03.html">2014年3月 (13)</a> </li>

<li><a id="CatList_LinkList_1_Link_43" href="http://www.cnblogs.com/xishuai/archive/2014/02.html">2014年2月 (11)</a> </li>

<li><a id="CatList_LinkList_1_Link_44" href="http://www.cnblogs.com/xishuai/archive/2014/01.html">2014年1月 (7)</a> </li>

<li><a id="CatList_LinkList_1_Link_45" href="http://www.cnblogs.com/xishuai/archive/2013/12.html">2013年12月 (6)</a> </li>

<li><a id="CatList_LinkList_1_Link_46" href="http://www.cnblogs.com/xishuai/archive/2013/11.html">2013年11月 (6)</a> </li>

<li><a id="CatList_LinkList_1_Link_47" href="http://www.cnblogs.com/xishuai/archive/2013/10.html">2013年10月 (10)</a> </li>

<li><a id="CatList_LinkList_1_Link_48" href="http://www.cnblogs.com/xishuai/archive/2013/07.html">2013年7月 (2)</a> </li>

<li><a id="CatList_LinkList_1_Link_49" href="http://www.cnblogs.com/xishuai/archive/2013/05.html">2013年5月 (3)</a> </li>

<li><a id="CatList_LinkList_1_Link_50" href="http://www.cnblogs.com/xishuai/archive/2013/02.html">2013年2月 (2)</a> </li>

</ul>

</div>

</div><div id="sidebar_recentcomments" class="sidebar-block"><div id="recent_comments_wrap">
<div class="catListComment">
<h3 class="catListTitle">最新评论</h3>

	<div id="RecentCommentsBlock"><ul>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xishuai/p/ddd-repository-iunitofwork-and-idbcontext.html#3864927">1. Re:DDD 领域驱动设计－谈谈 Repository、IUnitOfWork 和 IDbContext 的实践（1）</a></li>
        <li class="recent_comment_body">unitofwork就是包了一层啊，save时提交到数据库。<br>把多个操作视为一个原子级（unit单元）。<br>这个和DDD感觉没啥关联?</li>
        <li class="recent_comment_author">--周德伦</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xishuai/archive/2013/02/27/2921416.html#3862101">2. Re:小菜的程序员道路（二）</a></li>
        <li class="recent_comment_body">很佩服你，跟你同一届毕业的，差距很大啊</li>
        <li class="recent_comment_author">--恋禾梦颖</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xishuai/archive/2013/02/27/2921416.html#3862098">3. Re:小菜的程序员道路（二）</a></li>
        <li class="recent_comment_body">亮剑.NET我大四的时候也在网上淘了一本，看了一遍没动过，现在还在家躺着</li>
        <li class="recent_comment_author">--恋禾梦颖</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xishuai/p/docker-swarm.html#3859318">4. Re:Docker 三剑客之 Docker Swarm</a></li>
        <li class="recent_comment_body">mark一下</li>
        <li class="recent_comment_author">--晓晨Master</li>
        <li class="recent_comment_title"><a href="http://www.cnblogs.com/xishuai/p/docker-swarm.html#3859172">5. Re:Docker 三剑客之 Docker Swarm</a></li>
        <li class="recent_comment_body">@海淀游民啥意思？我是装了VirtualBox软件。...</li>
        <li class="recent_comment_author">--田园里的蟋蟀</li>
</ul>
</div>
</div>
</div></div><div id="sidebar_topviewedposts" class="sidebar-block"><div id="topview_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">阅读排行榜</h3>
	<div id="TopViewPostsBlock"><ul><li><a href="http://www.cnblogs.com/xishuai/p/3625859.html">1. C#开发微信公众平台-就这么简单（附Demo）(60781)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3620327.html">2. 初试JqueryEasyUI（附Demo）(23317)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3554594.html">3. DevExpress控件安装、汉化使用教程(20855)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/gitlab-ci.html">4. 劈荆斩棘：Gitlab 部署 CI 持续集成(19436)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3712361.html">5. 恋爱虽易，相处不易：当EntityFramework爱上AutoMapper(15595)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/mono-dotnetcore.html">6. 魅力 .NET：从 Mono、.NET Core 说起(15194)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/aspnet-webapi-owin-oauth2.html">7. ASP.NET WebApi OWIN 实现 OAuth 2.0(14776)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/visual-studio-2015-preview-asp-net-5-change.html">8. Visual Studio 2015 开发 ASP.NET 5 有何变化？(13446)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ddd_repository.html">9. Repository 仓储，你的归宿究竟在哪？（一）－仓储的概念(13060)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/understand-dotnet-platform-standard.html">10. 理解 .NET Platform Standard(12398)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3762826.html">11. 我的“第一次”，就这样没了：DDD（领域驱动设计）理论结合实践(12320)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3782613.html">12. 分享我对 ASP.NET vNext 的一些感受，也许多年回过头看 So Easy！(11868)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3789335.html">13. POCO Controller 你这么厉害，ASP.NET vNext 知道吗？(10771)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3670292.html">14. Unity依赖注入使用详解(10270)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3651370.html">15. 初试ASP.NET Web API/MVC API（附Demo）(10161)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/Visual-Studio-2015-CTP5-ASP-NET5-Beta2-NET-Framework-4-6.html">16. 升级 Visual Studio 2015 CTP 5 的坑、坑、坑(9910)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3635192.html">17. EasyUI+MVC+EF简单用户管理Demo（问题及解决）(9388)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ef7-develop-note.html">18. EntityFramework 7 开发纪录(9235)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/mvc-mvp-mvvm-angularjs-knockoutjs-backbonejs-reactjs-emberjs-avalonjs.html">19. MVC、MVP、MVVM、Angular.js、Knockout.js、Backbone.js、React.js、Ember.js、Avalon.js、Vue.js 概念摘录(9177)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/restful-webapi-uri-design.html">20. RESTful API URI 设计的一些总结(9175)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topcommentedposts" class="sidebar-block"><div id="topfeedback_posts_wrap">
<div class="catListFeedback">
<h3 class="catListTitle">评论排行榜</h3>
	<div id="TopFeedbackPostsBlock"><ul><li><a href="http://www.cnblogs.com/xishuai/p/3625859.html">1. C#开发微信公众平台-就这么简单（附Demo）(219)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/repository-return-iqueryable-or-ienumerable.html">2. Repository 返回 IQueryable？还是 IEnumerable？(123)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3947897.html">3. Repository 仓储，你的归宿究竟在哪？（三）－SELECT 某某某。。。(113)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ddd_repository.html">4. Repository 仓储，你的归宿究竟在哪？（一）－仓储的概念(105)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3972802.html">5. DDD 领域驱动设计－看我如何应对业务需求变化，愚蠢的应对？(104)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/domain_model_repository.html">6. 设计窘境：来自 Repository 的一丝线索，Domain Model 再重新设计(98)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/mono-dotnetcore.html">7. 魅力 .NET：从 Mono、.NET Core 说起(98)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3656363.html">8. 程序员的人性思考（续）(93)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3564881.html">9. 程序员的人性思考（下）(93)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ef7-code-first-new-platforms-new-data-stores.html">10. EF7 Code First Only－所引发的一些“臆想”(92)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ddd-entity-value-object.html">11. DDD 领域驱动设计－三个问题思考实体和值对象(91)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3820041.html">12. 拨开迷雾，找回自我：DDD 应对具体业务场景，Domain Model 到底如何设计？(88)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3712361.html">13. 恋爱虽易，相处不易：当EntityFramework爱上AutoMapper(86)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3827216.html">14. No zuo no die：DDD 应对具体业务场景，Domain Model 重新设计(81)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/Visual-Studio-2015-CTP5-ASP-NET5-Beta2-NET-Framework-4-6.html">15. 升级 Visual Studio 2015 CTP 5 的坑、坑、坑(78)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3934412.html">16. Repository 仓储，你的归宿究竟在哪？（二）－这样的应用层代码，你能接受吗？(72)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3762826.html">17. 我的“第一次”，就这样没了：DDD（领域驱动设计）理论结合实践(69)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ddd-repository-iunitofwork-and-idbcontext.html">18. DDD 领域驱动设计－谈谈 Repository、IUnitOfWork 和 IDbContext 的实践（1）(64)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/ddd-repository-iunitofwork-and-idbcontext-part-2.html">19. DDD 领域驱动设计－谈谈 Repository、IUnitOfWork 和 IDbContext 的实践（2）(63)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/visual-studio-for-mac.html">20. Visual Studio for Mac 初体验(61)</a></li></ul></div>
</div>
</div></div><div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap">
<div class="catListView">
<h3 class="catListTitle">推荐排行榜</h3>
<div id="TopDiggPostsBlock"><ul><li><a href="http://www.cnblogs.com/xishuai/p/3625859.html">1. C#开发微信公众平台-就这么简单（附Demo）(281)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3656363.html">2. 程序员的人性思考（续）(125)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3712361.html">3. 恋爱虽易，相处不易：当EntityFramework爱上AutoMapper(117)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3782613.html">4. 分享我对 ASP.NET vNext 的一些感受，也许多年回过头看 So Easy！(89)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/mono-dotnetcore.html">5. 魅力 .NET：从 Mono、.NET Core 说起(89)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3564881.html">6. 程序员的人性思考（下）(86)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3762826.html">7. 我的“第一次”，就这样没了：DDD（领域驱动设计）理论结合实践(83)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/4715000.html">8. 2015－写给明年现在的自己(70)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3789335.html">9. POCO Controller 你这么厉害，ASP.NET vNext 知道吗？(67)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3880018.html">10. CNBlogs－博客园，简简单单三个字，对于你的意义是什么？(62)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3620327.html">11. 初试JqueryEasyUI（附Demo）(59)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3670292.html">12. Unity依赖注入使用详解(57)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/visual-studio-2015-preview-asp-net-5-change.html">13. Visual Studio 2015 开发 ASP.NET 5 有何变化？(52)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3564202.html">14. 程序员的人性思考（上）(51)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3820041.html">15. 拨开迷雾，找回自我：DDD 应对具体业务场景，Domain Model 到底如何设计？(48)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/aspnet-webapi-owin-oauth2.html">16. ASP.NET WebApi OWIN 实现 OAuth 2.0(47)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/repository-return-iqueryable-or-ienumerable.html">17. Repository 返回 IQueryable？还是 IEnumerable？(45)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/asp-net-vnext-mac-os.html">18. 让 ASP.NET vNext 在 Mac OS 中飞呀飞。。。(44)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/3800656.html">19. 一缕阳光：DDD（领域驱动设计）应对具体业务场景，如何聚焦 Domain Model（领域模型）？(43)</a></li><li><a href="http://www.cnblogs.com/xishuai/p/microsoft-build-2015.html">20. Microsoft Build 2015 汇总(38)</a></li></ul></div>
</div></div></div></div><script type="text/javascript">loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright ©2017 田园里的蟋蟀
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->
<!--PageEndHtml Block Begin-->
<!--<script type='text/javascript'>
(function() {
    var c = document.createElement('script'); 
    c.type = 'text/javascript';
    c.async = true;
    c.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'noscript.cnitblog.com/boot/50096';
    var h = document.getElementsByTagName('script')[0];
    h.parentNode.insertBefore(c, h);
})();
</script>-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-58935471-1', 'auto');
  ga('send', 'pageview');

</script>
<!--PageEndHtml Block End-->


</body></html>