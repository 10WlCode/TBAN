function goUrl(n){window.location.href=n}function getQueryString(n){var i=new RegExp("(^|&)"+n+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(i);return t!=null?unescape(t[2]):null}function subStringAndEtc(n,t){return n.length>t?n.substr(0,t)+"...":n}function setCookie(n,t,i){var r=new Date,u;r.setDate(r.getDate()+i);u=n+"="+escape(t);i!=null&&(u+=";expires="+r.toGMTString()+"; path=/");document.cookie=u}function getCookie(n){return document.cookie.length>0&&(c_start=document.cookie.indexOf(n+"="),c_start!=-1)?(c_start=c_start+n.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):""}function removeCookie(n){var t=new Date;t.setDate(t.getDate()-10);document.cookie=n+"=v; expires="+t.toGMTString()+"; path=/"}function layerInputAlertMsg(){layerMsg("请核对您的输入。")}function layerMsg(n,t){t!=undefined&&t!=null?layer.msg(n,{time:t}):layer.msg(n,{time:1500})}function layerAlert(n,t){var i=layer.alert(n,{title:!1,closeBtn:!1,shift:_layerShift,success:function(n){$(n).focus();$(n).keypress(function(n){n.keyCode==13?(layer.close(i),t!=undefined&&t!=null&&t()):n.keyCode==27&&(layer.close(i),t!=undefined&&t!=null&&t())})},yes:function(){layer.close(i);t!=undefined&&t!=null&&t()}})}function showValidationErrors(n,t){if($.each(this.successList,function(n,t){$(t).css("background-color","#FFF")}),t.length>0){var i="";$.each(t,function(n,t){$(t.element).css("background-color","#FFD7D7");i+=t.message+"<\/br>"});i!=""&&layerAlert(i.substr(0,i.length-5))}}function hightlightValidationErrors(n,t){$.each(this.successList,function(n,t){$(t).css("background-color","#FFF")});t.length>0&&$.each(t,function(n,t){$(t.element).css("background-color","#FFD7D7")})}function handleApiResult(n){if(!n.Success)switch(n.Reason){case 7001:layerAlert(n.Message,function(){getTopWindow().location.href="/Admin/Home/Login"});break;default:layerAlert(n.Message)}}function heartbeat(){setInterval(function(){$.get("/Api/UserContext/Heartbeat")},6e4)}function getTopWindow(){for(var n=window.parent;n!=null&&n!=n.parent;)n=n.parent;return n}function fitTable(){calculateTbodyWidth("#divTableHeaderContainer","#divTableBodyContainer")}function calculateTbodyWidth(n,t){$(t).find("table").find("tr:eq(0)").each(function(){$(this).find("td").each(function(t){var i=$(n).find("table").find("tr:eq(0)").find("th:eq("+t+")").outerWidth(),r=$(this).outerWidth();console.log(i,r,i>r);r>i?$(n).find("table").find("tr:eq(0)").find("th:eq("+t+")").css({width:r+"px","min-width":r+"px"}):i>r&&($(this).css({width:i+"px","min-width":i+"px"}),$(n).find("table").find("tr:eq(0)").find("th:eq("+t+")").css({width:i+"px","min-width":i+"px"}))})});var i=$(".divDataTable_thead").find("table").outerWidth(),r=$(".divDataTable_tbody").find("table").outerWidth()}var _layerShift=5,_fileService="http://localhost:53627/";Date.prototype.format=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n};String.format=function(){var t,n,i;if(arguments.length==0)return null;for(t=arguments[0],n=1;n<arguments.length;n++)i=new RegExp("\\{"+(n-1)+"\\}","gm"),t=t.replace(i,arguments[n]);return t}