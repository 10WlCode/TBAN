<!DOCTYPE html>
<!-- saved from url=(0061)https://gist.github.com/learncodeacademy/777349747d8382bfb722 -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  <link rel="dns-prefetch" href="https://assets-cdn.github.com/">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com/">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" media="all" integrity="sha512-w3yM/ulIBu9+7ZhQTDccrUeedeTvyUBYxcZBEA0cl8csLlqp3BfjKETY/qSt5fS1oFpOL7Drw/eBTriIVPMUYw==" rel="stylesheet" href="./JS发布订阅模式_files/frameworks-f3552d2cdfd0.css">
  <link crossorigin="anonymous" media="all" integrity="sha512-O97nosgUvGPZ6qxFhPiEDceWUOzdAWC7lh5DPDnxgLRNQBMpjoNVqKYYo63G2MbzWW2LM65ppbgTQA0a6sjKpA==" rel="stylesheet" href="./JS发布订阅模式_files/github-5c258338a847.css">
  
  
  
  

  <meta name="viewport" content="width=device-width">
  
  <title>Basic Javascript PubSub Pattern</title>
    <meta name="description" content="GitHub is where people build software. More than 27 million people use GitHub to discover, fork, and contribute to over 80 million projects.">
  <link rel="search" type="application/opensearchdescription+xml" href="https://gist.github.com/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://gist.github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta property="og:image" content="https://avatars0.githubusercontent.com/u/8009308?s=400&amp;v=4"><meta property="og:site_name" content="Gist"><meta property="og:type" content="object"><meta property="og:title" content="Basic Javascript PubSub Pattern"><meta property="og:url" content="https://gist.github.com/learncodeacademy/777349747d8382bfb722"><meta property="og:description" content="Basic Javascript PubSub Pattern">

  <link rel="assets" href="https://assets-cdn.github.com/">
  <link rel="web-socket" href="wss://live.github.com/_sockets/VjI6MjIwODYyNzk0OjRjZmJhMDk2NmUxNGRhZjkzYTE0NjE4MTRiNmUyYmYyNGJhYmM2MDgzN2IyZDBhYmM0MThmZWM3MmM3MjNjZGQ=--0511c799ca6e3f9dd1e852bce2a9345db74b7f62">
  <meta name="pjax-timeout" content="1000">
  <link rel="sudo-modal" href="https://gist.github.com/sessions/sudo_modal">
  <meta name="request-id" content="283F:3968:940E6B:12238F8:5AA8B214" data-pjax-transient="">
  

  <meta name="selected-link" value="gist_code" data-pjax-transient="">

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
  <meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
  <meta name="google-site-verification" content="GXs5KoUUkNCoaAZn7wPN-t01Pywp9M3sEjnt_3_ZWPc">
    <meta name="google-analytics" content="UA-3769691-4">

<meta name="octolytics-host" content="collector.githubapp.com"><meta name="octolytics-app-id" content="gist"><meta name="octolytics-event-url" content="https://collector.githubapp.com/github-external/browser_event"><meta name="octolytics-dimension-request_id" content="283F:3968:940E6B:12238F8:5AA8B214"><meta name="octolytics-dimension-region_edge" content="iad"><meta name="octolytics-dimension-region_render" content="iad"><meta name="octolytics-actor-id" content="5060870"><meta name="octolytics-actor-login" content="ZereL"><meta name="octolytics-actor-hash" content="b42b6b40ca2223d7ded28d9690ccc0e0f19638259b7234b04fe60857a8341ca4">
<meta name="hydro-events-url" content="https://gist.github.com/hydro_browser_events">
<meta name="analytics-location" content="/&lt;user-name&gt;/&lt;gist-id&gt;" data-pjax-transient="true">




  <meta class="js-ga-set" name="dimension1" content="Logged In">



    <meta name="octolytics-dimension-public" content="true"><meta name="octolytics-dimension-gist_id" content="24768183"><meta name="octolytics-dimension-gist_name" content="777349747d8382bfb722"><meta name="octolytics-dimension-anonymous" content="false"><meta name="octolytics-dimension-owner_id" content="8009308"><meta name="octolytics-dimension-owner_login" content="learncodeacademy"><meta name="octolytics-dimension-forked" content="false">

  <meta class="js-ga-set" name="dimension5" content="public">
  <meta class="js-ga-set" name="dimension6" content="owned">
  <meta class="js-ga-set" name="dimension7" content="javascript">


      <meta name="hostname" content="gist.github.com">
    <meta name="user-login" content="ZereL">

      <meta name="expected-hostname" content="gist.github.com">
    <meta name="js-proxy-site-detection-payload" content="NzZhNWFkMWNkYWMzYWVjZDBkMTQxODczMjgyZjgzZDIyYThhMjA5MzJhOGNkYTZjYzFmMzc5OGUzNmIxZWNmOXx7InJlbW90ZV9hZGRyZXNzIjoiNDkuNTAuMTkzLjEzNiIsInJlcXVlc3RfaWQiOiIyODNGOjM5Njg6OTQwRTZCOjEyMjM4Rjg6NUFBOEIyMTQiLCJ0aW1lc3RhbXAiOjE1MjEwMDUwNzcsImhvc3QiOiJnaXRodWIuY29tIn0=">

    <meta name="enabled-features" content="UNIVERSE_BANNER,FREE_TRIALS,MARKETPLACE_INSIGHTS,MARKETPLACE_INSIGHTS_CONVERSION_PERCENTAGES">

  <meta name="html-safe-nonce" content="6731e2f43259db72730950089d92097e4e511f43">

  <meta http-equiv="x-pjax-version" content="e0c1b6eab86e79554ee120afa2ebb7e7">
  

      <link href="https://gist.github.com/learncodeacademy.atom" rel="alternate" title="atom" type="application/atom+xml">

  <link crossorigin="anonymous" media="all" integrity="sha512-aTfBMeAHRVtVcDfhriqUus2/movjacvNvGzjDzTSQYUrkKgjI3fscevWGlYbgkq5rre1hV2eRAGFQ0eMzuwntA==" rel="stylesheet" href="./JS发布订阅模式_files/gist-94e92bfbe232.css">




  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">


  <meta name="u2f-support" content="true">

<link rel="manifest" href="https://gist.github.com/manifest.json" crossorigin="use-credentials">

  <style type="text/css">:root .footer > #box[style="width:100%;height:100%;position:fixed;top:0"]
{display:none !important;}</style></head>

  <body class="logged-in env-production">
    

  <div class="position-relative js-header-wrapper ">
    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#start-of-content" tabindex="1" class="bg-black text-white p-3 show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    



        <div class="Header gist-header header-logged-in" role="banner">
  <div class="container-lg px-3 clearfix">
    <div class="d-flex flex-justify-between">
      <div class="d-flex">
        <a class="header-logo-wordmark" data-hotkey="g d" aria-label="Gist Homepage" href="https://gist.github.com/">
          <svg width="78" height="28" class="octicon octicon-logo-github" viewBox="0 0 45 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M18.53 12.03h-.02c.009 0 .015.01.024.011h.006l-.01-.01zm.004.011c-.093.001-.327.05-.574.05-.78 0-1.05-.36-1.05-.83V8.13h1.59c.09 0 .16-.08.16-.19v-1.7c0-.09-.08-.17-.16-.17h-1.59V3.96c0-.08-.05-.13-.14-.13h-2.16c-.09 0-.14.05-.14.13v2.17s-1.09.27-1.16.28c-.08.02-.13.09-.13.17v1.36c0 .11.08.19.17.19h1.11v3.28c0 2.44 1.7 2.69 2.86 2.69.53 0 1.17-.17 1.27-.22.06-.02.09-.09.09-.16v-1.5a.177.177 0 0 0-.146-.18zm23.696-2.2c0-1.81-.73-2.05-1.5-1.97-.6.04-1.08.34-1.08.34v3.52s.49.34 1.22.36c1.03.03 1.36-.34 1.36-2.25zm2.43-.16c0 3.43-1.11 4.41-3.05 4.41-1.64 0-2.52-.83-2.52-.83s-.04.46-.09.52c-.03.06-.08.08-.14.08h-1.48c-.1 0-.19-.08-.19-.17l.02-11.11c0-.09.08-.17.17-.17h2.13c.09 0 .17.08.17.17v3.77s.82-.53 2.02-.53l-.01-.02c1.2 0 2.97.45 2.97 3.88zm-8.72-3.61H33.84c-.11 0-.17.08-.17.19v5.44s-.55.39-1.3.39-.97-.34-.97-1.09V6.25c0-.09-.08-.17-.17-.17h-2.14c-.09 0-.17.08-.17.17v5.11c0 2.2 1.23 2.75 2.92 2.75 1.39 0 2.52-.77 2.52-.77s.05.39.08.45c.02.05.09.09.16.09h1.34c.11 0 .17-.08.17-.17l.02-7.47c0-.09-.08-.17-.19-.17zm-23.7-.01h-2.13c-.09 0-.17.09-.17.2v7.34c0 .2.13.27.3.27h1.92c.2 0 .25-.09.25-.27V6.23c0-.09-.08-.17-.17-.17zm-1.05-3.38c-.77 0-1.38.61-1.38 1.38 0 .77.61 1.38 1.38 1.38.75 0 1.36-.61 1.36-1.38 0-.77-.61-1.38-1.36-1.38zm16.49-.25h-2.11c-.09 0-.17.08-.17.17v4.09h-3.31V2.6c0-.09-.08-.17-.17-.17h-2.13c-.09 0-.17.08-.17.17v11.11c0 .09.09.17.17.17h2.13c.09 0 .17-.08.17-.17V8.96h3.31l-.02 4.75c0 .09.08.17.17.17h2.13c.09 0 .17-.08.17-.17V2.6c0-.09-.08-.17-.17-.17zM8.81 7.35v5.74c0 .04-.01.11-.06.13 0 0-1.25.89-3.31.89-2.49 0-5.44-.78-5.44-5.92S2.58 1.99 5.1 2c2.18 0 3.06.49 3.2.58.04.05.06.09.06.14L7.94 4.5c0 .09-.09.2-.2.17-.36-.11-.9-.33-2.17-.33-1.47 0-3.05.42-3.05 3.73s1.5 3.7 2.58 3.7c.92 0 1.25-.11 1.25-.11v-2.3H4.88c-.11 0-.19-.08-.19-.17V7.35c0-.09.08-.17.19-.17h3.74c.11 0 .19.08.19.17z"></path></svg>
          <svg width="40" height="28" class="octicon octicon-logo-gist" viewBox="0 0 25 16" version="1.1" aria-hidden="true"><path fill-rule="evenodd" d="M4.7 8.73h2.45v4.02c-.55.27-1.64.34-2.53.34-2.56 0-3.47-2.2-3.47-5.05 0-2.85.91-5.06 3.48-5.06 1.28 0 2.06.23 3.28.73V2.66C7.27 2.33 6.25 2 4.63 2 1.13 2 0 4.69 0 8.03c0 3.34 1.11 6.03 4.63 6.03 1.64 0 2.81-.27 3.59-.64V7.73H4.7v1zm6.39 3.72V6.06h-1.05v6.28c0 1.25.58 1.72 1.72 1.72v-.89c-.48 0-.67-.16-.67-.7v-.02zm.25-8.72c0-.44-.33-.78-.78-.78s-.77.34-.77.78.33.78.77.78.78-.34.78-.78zm4.34 5.69c-1.5-.13-1.78-.48-1.78-1.17 0-.77.33-1.34 1.88-1.34 1.05 0 1.66.16 2.27.36v-.94c-.69-.3-1.52-.39-2.25-.39-2.2 0-2.92 1.2-2.92 2.31 0 1.08.47 1.88 2.73 2.08 1.55.13 1.77.63 1.77 1.34 0 .73-.44 1.42-2.06 1.42-1.11 0-1.86-.19-2.33-.36v.94c.5.2 1.58.39 2.33.39 2.38 0 3.14-1.2 3.14-2.41 0-1.28-.53-2.03-2.75-2.23h-.03zm8.58-2.47v-.86h-2.42v-2.5l-1.08.31v2.11l-1.56.44v.48h1.56v5c0 1.53 1.19 2.13 2.5 2.13.19 0 .52-.02.69-.05v-.89c-.19.03-.41.03-.61.03-.97 0-1.5-.39-1.5-1.34V6.94h2.42v.02-.01z"></path></svg>
</a>
        <div class="site-search js-site-search" role="search">
            <div class="header-search" role="search">

<!-- '"` --><!-- </textarea></xmp> --><form class="position-relative js-quicksearch-form" action="https://gist.github.com/search" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="✓">
  <label class="header-search-wrapper form-control js-chromeless-input-container">
    <input type="text" class="form-control js-site-search-focus header-search-input js-navigation-enable js-quicksearch-field" data-hotkey="s" name="q" placeholder="Search…" tabindex="1" autocorrect="off" autocomplete="off" autocapitalize="off">
  </label>

    <div class="gist-quicksearch-results js-quicksearch-results js-navigation-container" data-quicksearch-url="/search/quick"></div>
</form></div>

        </div>

        <ul class="list-style-none d-flex flex-items-center text-bold pl-2" role="navigation">
          <li><a class="HeaderNavlink px-2" data-ga-click="Header, go to all gists, text:all gists" href="https://gist.github.com/discover">All gists</a></li>
          <li><a class="HeaderNavlink px-2" data-ga-click="Header, go to GitHub, text:GitHub" href="https://github.com/">GitHub</a></li>
        </ul>
      </div>

        <ul class="user-nav d-flex flex-items-center list-style-none" id="user-links">
          <li><a class="HeaderNavlink text-bold pr-3" data-ga-click="Header, go to new gist, text:new gist" href="https://gist.github.com/">New gist</a></li>
          <li class="dropdown js-menu-container">
            <button class="btn-link HeaderNavlink name tooltipped tooltipped-sw js-menu-target" type="button" aria-label="View profile and more" aria-expanded="false" aria-haspopup="true" data-ga-click="Header, show menu, icon:avatar">
              <img class="avatar" src="./JS发布订阅模式_files/5060870" width="20" height="20" alt="@ZereL">
              <span class="dropdown-caret"></span>
            </button>

            <div class="dropdown-menu-content js-menu-content">
              <div class="dropdown-menu dropdown-menu-sw">
                <div class="dropdown-header header-nav-current-user css-truncate">
                  Signed in as <strong class="css-truncate-target">ZereL</strong>
                </div>
                <div class="dropdown-divider"></div>

                <a class="dropdown-item" href="https://gist.github.com/ZereL" data-ga-click="Header, go to your gists, text:your gists">
                  Your gists
                </a>

                <a class="dropdown-item" href="https://gist.github.com/ZereL/starred" data-ga-click="Header, go to starred gists, text:starred gists">
                  Starred gists
                </a>

                <a class="dropdown-item" href="https://help.github.com/" data-ga-click="Header, go to help, text:help">
                  Help
                </a>

                <div class="dropdown-divider"></div>

                <a class="dropdown-item" href="https://github.com/ZereL" data-ga-click="Header, go to profile, text:your profile">
                  Your GitHub profile
                </a>

                <!-- '"` --><!-- </textarea></xmp> --><form class="logout-form" action="https://gist.github.com/auth/github/logout" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="VSjNhjXIsNmvjAEyCJO6hw2IFFui/Q8hpWB1zLYNYylTuCEd93eBFAdowPqkfxOFkPRUKi3WTOo1GAiydBJ2xQ==">
                  <button type="submit" class="dropdown-item dropdown-signout" data-ga-click="Header, sign out, icon:logout">
                    Sign out
                  </button>
</form>              </div>
            </div>
          </li>
        </ul>
    </div>
  </div>
</div>



      

  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">
</div>



  <div role="main" class="application-main ">
        <div itemscope="" itemtype="http://schema.org/Code">
    <div id="gist-pjax-container" class="gist-content-wrapper" data-pjax-container="">
      




<div class="gisthead pagehead repohead instapaper_ignore readability-menu experiment-repo-nav mb-4">
  <div class="container">
    
  
<div class="container repohead-details-container">

  <ul class="pagehead-actions">


    <li>
        
  <div class="js-toggler-container js-social-container starring-container ">
    <!-- '"` --><!-- </textarea></xmp> --><form class="starred js-social-form" action="https://gist.github.com/learncodeacademy/777349747d8382bfb722/unstar" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="j5oNI9nv80mTYMWlb747IDUh7zjL9CzP9FzClkFdFdlF5LY5HA7PzZ18qPVPOxcd1ILb1fjvbyxzBrhLHb/hUw==">
      <input type="hidden" name="context" value="gist">
      <button type="submit" class="btn btn-sm btn-with-count js-toggler-target" aria-label="Unstar this gist" title="Unstar learncodeacademy/777349747d8382bfb722" data-ga-click="Repository, click unstar button, action:gists/gists#show; text:Unstar">
        <svg class="octicon octicon-star" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"></path></svg>
        Unstar
      </button>
        <a class="social-count js-social-count" href="https://gist.github.com/learncodeacademy/777349747d8382bfb722/stargazers" aria-label="128 users starred this repository">
          128
        </a>
</form>
    <!-- '"` --><!-- </textarea></xmp> --><form class="unstarred js-social-form" action="https://gist.github.com/learncodeacademy/777349747d8382bfb722/star" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="vz7OT0d7KwaIFj6DvFQCZnJe37rOOfGB7bjzq/uG4I+RaecXxgjz3jEX6xSlSJIh1GqfB7nQpDXw/2tcxnbfzQ==">
      <input type="hidden" name="context" value="gist">
      <button type="submit" class="btn btn-sm btn-with-count js-toggler-target" aria-label="Star this gist" title="Star learncodeacademy/777349747d8382bfb722" data-ga-click="Repository, click star button, action:gists/gists#show; text:Star">
        <svg class="octicon octicon-star" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"></path></svg>
        Star
      </button>
        <a class="social-count js-social-count" href="https://gist.github.com/learncodeacademy/777349747d8382bfb722/stargazers" aria-label="128 users starred this repository">
          128
        </a>
</form>  </div>


    </li>

      <li>
          <!-- '"` --><!-- </textarea></xmp> --><form action="https://gist.github.com/learncodeacademy/777349747d8382bfb722/fork" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="AqldCv9go81CnaqYPZbf39ceTbJguVxu4Q2cbaywmFYta5xBmNywDBF7hfTBmbHXZJBE1ZXj8j8+Ko8znoKb1g==">
    <button class="btn btn-sm btn-with-count" type="submit">
      <svg class="octicon octicon-repo-forked" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
      Fork
    </button>
      <a class="social-count js-social-count" href="https://gist.github.com/learncodeacademy/777349747d8382bfb722/forks" aria-label="57 users forked this gist">
        57
      </a>
</form>
      </li>
  </ul>

  <h1 class="public css-truncate">
    <img class="avatar gist-avatar" src="./JS发布订阅模式_files/8009308" width="26" height="26" alt="@learncodeacademy">
    <span class="author"><a rel="author" class="url fn" href="https://gist.github.com/learncodeacademy"><span itemprop="author">learncodeacademy</span></a></span><!--
        --><span class="path-divider">/</span><!--
        --><strong itemprop="name" class="gist-header-title css-truncate-target"><a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722">pubsub.js</a></strong>

    <div class="d-block text-small text-gray">
      Created <time-ago datetime="2015-07-29T02:54:54Z" title="2015年7月29日 GMT+12 下午2:54">3 years ago</time-ago>
        •
        <!-- '"` --><!-- </textarea></xmp> --><form class="inline-form" method="post" action="https://gist.github.com/learncodeacademy/777349747d8382bfb722/report"><input class="btn-link text-red" aria-label="Report gist as abuse" data-confirm="Do you want to report the contents of this gist as abuse?" type="submit" value="Report gist"><input type="hidden" name="authenticity_token" value="uJDSlzEZg8sCoxN1tw35ElJiBGFjFqwJfF+iPQ1zOUR4YMikx/2PIcUK4sc9BGRFKL8ubmpCcO+MARvHREJf/w=="></form>
    </div>
  </h1>
</div>

<div class="container gist-file-navigation">
  <div class="float-right file-navigation-options" data-multiple="">

    <div class="file-navigation-option">
  <input type="hidden" name="protocol_type" value="clone">

  <div class="select-menu js-menu-container js-select-menu">
    <div class="input-group js-select-button js-zeroclipboard-container">
      <div class="input-group-button">
  <button type="button" class="btn btn-sm select-menu-button js-menu-target" data-ga-click="Repository, clone Embed, location:repo overview" aria-expanded="false" aria-haspopup="true">
    Embed
  </button>
</div>
<input type="text" class="form-control input-monospace input-sm js-zeroclipboard-target js-url-field" value="&lt;script src=&quot;https://gist.github.com/learncodeacademy/777349747d8382bfb722.js&quot;&gt;&lt;/script&gt;" aria-label="Clone this repository at &lt;script src=&quot;https://gist.github.com/learncodeacademy/777349747d8382bfb722.js&quot;&gt;&lt;/script&gt;" readonly="">
<div class="input-group-button">
  <button class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" type="button" aria-label="Copy to clipboard" data-copied-hint="Copied!"><svg class="octicon octicon-clippy" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"></path></svg></button>
</div>

    </div>

    <div class="select-menu-modal-holder">
      <div class="select-menu-modal js-menu-content">
        <div class="select-menu-header">
          <svg class="octicon octicon-x js-menu-close" role="img" aria-label="Close" viewBox="0 0 12 16" version="1.1" width="12" height="16"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
          <span class="select-menu-title">What would you like to do?</span>
        </div>

        <div class="select-menu-list js-navigation-container" role="menu">
            <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <div class="select-menu-item-text">
                <input type="radio" name="protocol_selector" value="embed" checked="">
                <span class="select-menu-item-heading">
                  
                  Embed
                </span>
                  <span class="description">
                    Embed this gist in your website.
                  </span>
                <span class="js-select-button-text hidden-select-button-text">
                  <div class="input-group-button">
  <button type="button" class="btn btn-sm select-menu-button js-menu-target" data-ga-click="Repository, clone Embed, location:repo overview" aria-expanded="false" aria-haspopup="true">
    Embed
  </button>
</div>
<input type="text" class="form-control input-monospace input-sm js-zeroclipboard-target js-url-field" value="&lt;script src=&quot;https://gist.github.com/learncodeacademy/777349747d8382bfb722.js&quot;&gt;&lt;/script&gt;" aria-label="Clone this repository at &lt;script src=&quot;https://gist.github.com/learncodeacademy/777349747d8382bfb722.js&quot;&gt;&lt;/script&gt;" readonly="">
<div class="input-group-button">
  <button class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" type="button" aria-label="Copy to clipboard" data-copied-hint="Copied!"><svg class="octicon octicon-clippy" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"></path></svg></button>
</div>

                </span>
              </div>
            </div>
            <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <div class="select-menu-item-text">
                <input type="radio" name="protocol_selector" value="share">
                <span class="select-menu-item-heading">
                  
                  Share
                </span>
                  <span class="description">
                    Copy sharable URL for this gist.
                  </span>
                <span class="js-select-button-text hidden-select-button-text">
                  <div class="input-group-button">
  <button type="button" class="btn btn-sm select-menu-button js-menu-target" data-ga-click="Repository, clone Share, location:repo overview" aria-expanded="false" aria-haspopup="true">
    Share
  </button>
</div>
<input type="text" class="form-control input-monospace input-sm js-zeroclipboard-target js-url-field" value="https://gist.github.com/learncodeacademy/777349747d8382bfb722" aria-label="Clone this repository at https://gist.github.com/learncodeacademy/777349747d8382bfb722" readonly="">
<div class="input-group-button">
  <button class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" type="button" aria-label="Copy to clipboard" data-copied-hint="Copied!"><svg class="octicon octicon-clippy" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"></path></svg></button>
</div>

                </span>
              </div>
            </div>
            <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <div class="select-menu-item-text">
                <input type="radio" name="protocol_selector" value="http">
                <span class="select-menu-item-heading">
                  Clone via
                  HTTPS
                </span>
                  <span class="description">
                    Clone with Git or checkout with SVN using the repository's web address.
                  </span>
                <span class="js-select-button-text hidden-select-button-text">
                  <div class="input-group-button">
  <button type="button" class="btn btn-sm select-menu-button js-menu-target" data-ga-click="Repository, clone HTTPS, location:repo overview" aria-expanded="false" aria-haspopup="true">
    HTTPS
  </button>
</div>
<input type="text" class="form-control input-monospace input-sm js-zeroclipboard-target js-url-field" value="https://gist.github.com/777349747d8382bfb722.git" aria-label="Clone this repository at https://gist.github.com/777349747d8382bfb722.git" readonly="">
<div class="input-group-button">
  <button class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" type="button" aria-label="Copy to clipboard" data-copied-hint="Copied!"><svg class="octicon octicon-clippy" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"></path></svg></button>
</div>

                </span>
              </div>
            </div>
            <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
              <svg class="octicon octicon-check select-menu-item-icon" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"></path></svg>
              <div class="select-menu-item-text">
                <input type="radio" name="protocol_selector" value="ssh">
                <span class="select-menu-item-heading">
                  Clone via
                  SSH
                </span>
                  <span class="description">
                    Clone with an SSH key and passphrase from your GitHub settings.
                  </span>
                <span class="js-select-button-text hidden-select-button-text">
                  <div class="input-group-button">
  <button type="button" class="btn btn-sm select-menu-button js-menu-target" data-ga-click="Repository, clone SSH, location:repo overview" aria-expanded="false" aria-haspopup="true">
    SSH
  </button>
</div>
<input type="text" class="form-control input-monospace input-sm js-zeroclipboard-target js-url-field" value="git@gist.github.com:777349747d8382bfb722.git" aria-label="Clone this repository at git@gist.github.com:777349747d8382bfb722.git" readonly="">
<div class="input-group-button">
  <button class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" type="button" aria-label="Copy to clipboard" data-copied-hint="Copied!"><svg class="octicon octicon-clippy" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"></path></svg></button>
</div>

                </span>
              </div>
            </div>
        </div>
        <div class="select-menu-list" role="menu">
          <a class="select-menu-item select-menu-action" href="https://help.github.com/articles/which-remote-url-should-i-use" target="_blank">
            <svg class="octicon octicon-question select-menu-item-icon" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 10h2v2H6v-2zm4-3.5C10 8.64 8 9 8 9H6c0-.55.45-1 1-1h.5c.28 0 .5-.22.5-.5v-1c0-.28-.22-.5-.5-.5h-1c-.28 0-.5.22-.5.5V7H4c0-1.5 1.5-3 3-3s3 1 3 2.5zM7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7z"></path></svg>
            <div class="select-menu-item-text">
              Learn more about clone URLs
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>


    <div class="file-navigation-option">
    <div class="select-menu js-menu-container select-menu-modal-right js-select-menu">
      <button type="button" class="btn btn-sm select-menu-button icon-only js-menu-target" aria-expanded="false">
        <svg class="octicon octicon-desktop-download" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 6h3V0h2v6h3l-4 4-4-4zm11-4h-4v1h4v8H1V3h4V2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1z"></path></svg>
      </button>
      <div class="select-menu-modal-holder">
        <div class="select-menu-modal select-menu-modal-narrow js-menu-content">
          <div class="select-menu-header">
            <svg class="octicon octicon-x js-menu-close" role="img" aria-label="Close" viewBox="0 0 12 16" version="1.1" width="12" height="16"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
            <span class="select-menu-title">Open repository with…</span>
          </div>
          <div class="select-menu-list js-navigation-container" role="menu">
            <a class="select-menu-item js-navigation-item" href="x-github-client://openRepo/https://gist.github.com/777349747d8382bfb722" role="menuitem" tabindex="0">
              <span class="select-menu-item-text">
                GitHub Desktop
              </span>
            </a>
            <a class="select-menu-item js-navigation-item" href="git-client://clone?repo=https%3A%2F%2Fgist.github.com%2Flearncodeacademy%2F777349747d8382bfb722" role="menuitem" tabindex="0">
              <span class="select-menu-item-text">
                Visual Studio
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
</div>


    <div class="file-navigation-option">
      <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722/archive/306fb9b22bde9c670b2b96935d8c0bb59ccf97e4.zip" class="btn btn-sm" rel="nofollow" data-ga-click="Gist, download zip, location:gist overview">
        Download ZIP
      </a>
    </div>
  </div>

  <div class="float-left">
    <nav class="reponav js-repo-nav js-sidenav-container-pjax" role="navigation" data-pjax="#gist-pjax-container">

  <a class="js-selected-navigation-item selected reponav-item" aria-label="Code" data-pjax="true" data-hotkey="g c" data-selected-links="gist_code /learncodeacademy/777349747d8382bfb722" href="https://gist.github.com/learncodeacademy/777349747d8382bfb722">
    <svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path></svg>
    Code
</a>
    <a class="js-selected-navigation-item reponav-item" aria-label="Revisions" data-pjax="true" data-hotkey="g r" data-selected-links="gist_revisions /learncodeacademy/777349747d8382bfb722/revisions" href="https://gist.github.com/learncodeacademy/777349747d8382bfb722/revisions">
      <svg class="octicon octicon-git-commit" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
      Revisions
      <span class="Counter">1</span>
</a>
    <a class="js-selected-navigation-item reponav-item" aria-label="Stars" data-pjax="true" data-hotkey="g s" data-selected-links="gist_stars /learncodeacademy/777349747d8382bfb722/stargazers" href="https://gist.github.com/learncodeacademy/777349747d8382bfb722/stargazers">
      <svg class="octicon octicon-star" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"></path></svg>
      Stars
      <span class="Counter">128</span>
</a>
    <a class="js-selected-navigation-item reponav-item" aria-label="Forks" data-pjax="true" data-hotkey="g f" data-selected-links="gist_forks /learncodeacademy/777349747d8382bfb722/forks" href="https://gist.github.com/learncodeacademy/777349747d8382bfb722/forks">
      <svg class="octicon octicon-git-branch" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10 5c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v.3c-.02.52-.23.98-.63 1.38-.4.4-.86.61-1.38.63-.83.02-1.48.16-2 .45V4.72a1.993 1.993 0 0 0-1-3.72C.88 1 0 1.89 0 3a2 2 0 0 0 1 1.72v6.56c-.59.35-1 .99-1 1.72 0 1.11.89 2 2 2 1.11 0 2-.89 2-2 0-.53-.2-1-.53-1.36.09-.06.48-.41.59-.47.25-.11.56-.17.94-.17 1.05-.05 1.95-.45 2.75-1.25S8.95 7.77 9 6.73h-.02C9.59 6.37 10 5.73 10 5zM2 1.8c.66 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2C1.35 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2zm0 12.41c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm6-8c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
      Forks
      <span class="Counter">57</span>
</a></nav>

  </div>
</div>


  </div>
</div>

<div class="container new-discussion-timeline experiment-repo-nav">
  <div class="repository-content gist-content">
    
  <div>
    <div class="repository-meta js-details-container Details">
  <div class="repository-meta-content" itemprop="about">
    Basic Javascript PubSub Pattern
  </div>
</div>


        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-pubsub-js" class="file">
      <div class="file-header">
        <div class="file-actions">

          <a class="btn btn-sm " href="https://gist.github.com/learncodeacademy/777349747d8382bfb722/raw/306fb9b22bde9c670b2b96935d8c0bb59ccf97e4/pubsub.js">Raw</a>
        </div>
        <div class="file-info">
          <span class="icon">
            <svg class="octicon octicon-gist" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"></path></svg>
          </span>
          <a class="tooltipped tooltipped-s css-truncate" aria-label="Permalink" href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#file-pubsub-js">
            <strong class="user-select-contain gist-blob-name css-truncate-target">
              pubsub.js
            </strong>
          </a>
        </div>
      </div>
    

  <div itemprop="text" class="blob-wrapper data type-javascript">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-pubsub-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-pubsub-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>events - a super-basic Javascript (publish subscribe) pattern</span></td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-pubsub-js-LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-pubsub-js-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> events <span class="pl-k">=</span> {</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-pubsub-js-LC4" class="blob-code blob-code-inner js-file-line">  events<span class="pl-k">:</span> {},</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-pubsub-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-en">on</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">eventName</span>, <span class="pl-smi">fn</span>) {</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-pubsub-js-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName] <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName] <span class="pl-k">||</span> [];</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-pubsub-js-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">push</span>(fn);</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-pubsub-js-LC8" class="blob-code blob-code-inner js-file-line">  },</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-pubsub-js-LC9" class="blob-code blob-code-inner js-file-line">  <span class="pl-en">off</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">fn</span>) {</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-pubsub-js-LC10" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName]) {</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-pubsub-js-LC11" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">for</span> (<span class="pl-k">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">length</span>; i<span class="pl-k">++</span>) {</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-pubsub-js-LC12" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName][i] <span class="pl-k">===</span> fn) {</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-pubsub-js-LC13" class="blob-code blob-code-inner js-file-line">          <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">splice</span>(i, <span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-pubsub-js-LC14" class="blob-code blob-code-inner js-file-line">          <span class="pl-k">break</span>;</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-pubsub-js-LC15" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-pubsub-js-LC16" class="blob-code blob-code-inner js-file-line">      };</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-pubsub-js-LC17" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-pubsub-js-LC18" class="blob-code blob-code-inner js-file-line">  },</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-pubsub-js-LC19" class="blob-code blob-code-inner js-file-line">  <span class="pl-en">emit</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">eventName</span>, <span class="pl-smi">data</span>) {</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-pubsub-js-LC20" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName]) {</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-pubsub-js-LC21" class="blob-code blob-code-inner js-file-line">      <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">forEach</span>(<span class="pl-k">function</span>(<span class="pl-smi">fn</span>) {</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-pubsub-js-LC22" class="blob-code blob-code-inner js-file-line">        <span class="pl-en">fn</span>(data);</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-pubsub-js-LC23" class="blob-code blob-code-inner js-file-line">      });</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-pubsub-js-LC24" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-pubsub-js-LC25" class="blob-code blob-code-inner js-file-line">  }</td>
      </tr>
      <tr>
        <td id="file-pubsub-js-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-pubsub-js-LC26" class="blob-code blob-code-inner js-file-line">};</td>
      </tr>
</tbody></table>


  </div>

  </div>
  
</div>


    <a name="comments"></a>
    <div class="discussion-timeline gist-discussion-timeline js-quote-selection-container ">
      <div class="js-discussion js-socket-channel" data-channel="marked-as-read:gist:24768183">
        

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <a href="https://gist.github.com/akmur">
      <img alt="@akmur" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/957841">
    </a>

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="9645bbd4db984ec19b2d8c53e0597e10">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/akmur">
              <img src="./JS发布订阅模式_files/957841(1)" width="28" height="28" alt="@akmur" class="avatar">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/akmur" class="author text-inherit">akmur</a>
  

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2015-08-29T07:41:13Z" title="2015年8月29日 GMT+12 下午7:41">on 29 Aug 2015</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <p>Hello, what does exactly this bit do?</p>
<pre><code>this.events[eventName] = this.events[eventName] || [];
</code></pre>
<p>If what it's doing is to check if the event already exist, why are we then pushing the function? What if it already exists? Thanks</p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-1562526" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="9645bbd4db984ec19b2d8c53e0597e10">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/akmur" class="author text-inherit">akmur</a>
  

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-1562526" class="timestamp"><relative-time datetime="2015-08-29T07:41:13Z" title="2015年8月29日 GMT+12 下午7:41">on 29 Aug 2015</relative-time></a>


  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p>Hello, what does exactly this bit do?</p>
<pre><code>this.events[eventName] = this.events[eventName] || [];
</code></pre>
<p>If what it's doing is to check if the event already exist, why are we then pushing the function? What if it already exists? Thanks</p>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <a href="https://gist.github.com/MrJadaml">
      <img alt="@MrJadaml" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/5067571">
    </a>

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="22528861ead4157768b1b837788740f2">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/MrJadaml">
              <img src="./JS发布订阅模式_files/5067571(1)" width="28" height="28" alt="@MrJadaml" class="avatar">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/MrJadaml" class="author text-inherit">MrJadaml</a>
  

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2015-08-31T15:03:59Z" title="2015年9月1日 GMT+12 上午3:03">on 1 Sep 2015</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <p><a href="https://github.com/alemur" class="user-mention">@alemur</a> an event can have multiple listeners, and those listeners may run different functions when that event occurs. If the event already exists it's corresponding function will be added to the array of that list, otherwise it will create a new item in the  events object. He is storing all of the functions to be run when that event occurs in an array. Then on <code>emit</code> when that event is triggered it will iterate though that array and run all of the functions belonging to that event.</p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-1563619" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="22528861ead4157768b1b837788740f2">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/MrJadaml" class="author text-inherit">MrJadaml</a>
  

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-1563619" class="timestamp"><relative-time datetime="2015-08-31T15:03:59Z" title="2015年9月1日 GMT+12 上午3:03">on 1 Sep 2015</relative-time></a>


  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p><a href="https://github.com/alemur" class="user-mention">@alemur</a> an event can have multiple listeners, and those listeners may run different functions when that event occurs. If the event already exists it's corresponding function will be added to the array of that list, otherwise it will create a new item in the  events object. He is storing all of the functions to be run when that event occurs in an array. Then on <code>emit</code> when that event is triggered it will iterate though that array and run all of the functions belonging to that event.</p>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <img alt="@ghost" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/10137">

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="0da1b59e4fe77338b54434e8aa77fb00">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/ghost">
              <img class="avatar" src="./JS发布订阅模式_files/10137(1)" width="28" height="28" alt="@ghost">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/ghost" class="author">ghost</a>

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2015-10-06T14:56:52Z" title="2015年10月7日 GMT+13 上午3:56">on 7 Oct 2015</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <p>This looks great! The only change I would make is removing the unnecessary semicolon at the end of the <code>for</code> loop (line 16).</p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-1589766" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="0da1b59e4fe77338b54434e8aa77fb00">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/ghost" class="author">ghost</a>

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-1589766" class="timestamp"><relative-time datetime="2015-10-06T14:56:52Z" title="2015年10月7日 GMT+13 上午3:56">on 7 Oct 2015</relative-time></a>


  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p>This looks great! The only change I would make is removing the unnecessary semicolon at the end of the <code>for</code> loop (line 16).</p>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <a href="https://gist.github.com/giladv">
      <img alt="@giladv" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/319044">
    </a>

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="b7f8fb8b2f07de689e48a038253810a8">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/giladv">
              <img src="./JS发布订阅模式_files/319044(1)" width="28" height="28" alt="@giladv" class="avatar">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/giladv" class="author text-inherit">giladv</a>
  

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2016-01-13T09:31:19Z" title="2016年1月13日 GMT+13 下午10:31">on 13 Jan 2016</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <p>es2015 'yfied</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span>events - a super-basic Javascript (publish subscribe) pattern</span>

<span class="pl-k">class</span> <span class="pl-en">Event</span>{

    <span class="pl-en">constructor</span>(){
        <span class="pl-c1">this</span>.<span class="pl-smi">events</span> <span class="pl-k">=</span> {};
    }

    <span class="pl-en">on</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">fn</span>) {

        <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName] <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName] <span class="pl-k">||</span> [];
        <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">push</span>(fn);
    }

    <span class="pl-en">off</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">fn</span>) {

        <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName]) {
            <span class="pl-k">for</span> (<span class="pl-k">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">length</span>; i<span class="pl-k">++</span>) {
                <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName][i] <span class="pl-k">===</span> fn) {
                    <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">splice</span>(i, <span class="pl-c1">1</span>);
                    <span class="pl-k">break</span>;
                }
            };
        }
    }

    <span class="pl-en">trigger</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">data</span>) {

        <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName]) {
            <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">forEach</span>(<span class="pl-k">function</span>(<span class="pl-smi">fn</span>) {
                <span class="pl-en">fn</span>(data);
            });
        }
    }

}
</pre></div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-1668931" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="b7f8fb8b2f07de689e48a038253810a8">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/giladv" class="author text-inherit">giladv</a>
  

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-1668931" class="timestamp"><relative-time datetime="2016-01-13T09:31:19Z" title="2016年1月13日 GMT+13 下午10:31">on 13 Jan 2016</relative-time></a>


  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p>es2015 'yfied</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span>events - a super-basic Javascript (publish subscribe) pattern</span>

<span class="pl-k">class</span> <span class="pl-en">Event</span>{

    <span class="pl-en">constructor</span>(){
        <span class="pl-c1">this</span>.<span class="pl-smi">events</span> <span class="pl-k">=</span> {};
    }

    <span class="pl-en">on</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">fn</span>) {

        <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName] <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName] <span class="pl-k">||</span> [];
        <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">push</span>(fn);
    }

    <span class="pl-en">off</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">fn</span>) {

        <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName]) {
            <span class="pl-k">for</span> (<span class="pl-k">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">length</span>; i<span class="pl-k">++</span>) {
                <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName][i] <span class="pl-k">===</span> fn) {
                    <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">splice</span>(i, <span class="pl-c1">1</span>);
                    <span class="pl-k">break</span>;
                }
            };
        }
    }

    <span class="pl-en">trigger</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">data</span>) {

        <span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName]) {
            <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">forEach</span>(<span class="pl-k">function</span>(<span class="pl-smi">fn</span>) {
                <span class="pl-en">fn</span>(data);
            });
        }
    }

}
</pre></div>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <a href="https://gist.github.com/asifhk78">
      <img alt="@asifhk78" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/1598216">
    </a>

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="076b7944a4e323c534608bc3d8651a5f">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/asifhk78">
              <img src="./JS发布订阅模式_files/1598216(1)" width="28" height="28" alt="@asifhk78" class="avatar">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/asifhk78" class="author text-inherit">asifhk78</a>
  

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2016-04-26T10:46:09Z" title="2016年4月26日 GMT+12 下午10:46">on 26 Apr 2016</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> events <span class="pl-k">=</span> (<span class="pl-k">function</span>() {

    <span class="pl-k">var</span> events <span class="pl-k">=</span> {};

    <span class="pl-k">function</span> <span class="pl-en">on</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">fn</span>) {
        events[eventName] <span class="pl-k">=</span> events[eventName] <span class="pl-k">||</span> [];
        events[eventName].<span class="pl-c1">push</span>(fn);
    }

    <span class="pl-k">function</span> <span class="pl-en">off</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">fn</span>) {
        <span class="pl-k">if</span> (events[eventName]) {
            <span class="pl-k">for</span> (<span class="pl-k">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> events[eventName].<span class="pl-c1">length</span>; i<span class="pl-k">++</span>) {
                <span class="pl-k">if</span>( events[eventName][i] <span class="pl-k">===</span> fn ) {
                    events[eventName].<span class="pl-c1">splice</span>(i, <span class="pl-c1">1</span>);
                    <span class="pl-k">break</span>;
                }
            }
        }
    }

    <span class="pl-k">function</span> <span class="pl-en">emit</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">data</span>) {
        <span class="pl-k">if</span> (events[eventName]) {
            events[eventName].<span class="pl-c1">forEach</span>(<span class="pl-k">function</span>(<span class="pl-smi">fn</span>) {
                <span class="pl-en">fn</span>(data);
            });
        }
    }

    <span class="pl-k">return</span> {
        on<span class="pl-k">:</span> on,
        off<span class="pl-k">:</span> off,
        emit<span class="pl-k">:</span> emit
    };

})();</pre></div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-1761912" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="076b7944a4e323c534608bc3d8651a5f">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/asifhk78" class="author text-inherit">asifhk78</a>
  

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-1761912" class="timestamp"><relative-time datetime="2016-04-26T10:46:09Z" title="2016年4月26日 GMT+12 下午10:46">on 26 Apr 2016</relative-time></a>


  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> events <span class="pl-k">=</span> (<span class="pl-k">function</span>() {

    <span class="pl-k">var</span> events <span class="pl-k">=</span> {};

    <span class="pl-k">function</span> <span class="pl-en">on</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">fn</span>) {
        events[eventName] <span class="pl-k">=</span> events[eventName] <span class="pl-k">||</span> [];
        events[eventName].<span class="pl-c1">push</span>(fn);
    }

    <span class="pl-k">function</span> <span class="pl-en">off</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">fn</span>) {
        <span class="pl-k">if</span> (events[eventName]) {
            <span class="pl-k">for</span> (<span class="pl-k">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> events[eventName].<span class="pl-c1">length</span>; i<span class="pl-k">++</span>) {
                <span class="pl-k">if</span>( events[eventName][i] <span class="pl-k">===</span> fn ) {
                    events[eventName].<span class="pl-c1">splice</span>(i, <span class="pl-c1">1</span>);
                    <span class="pl-k">break</span>;
                }
            }
        }
    }

    <span class="pl-k">function</span> <span class="pl-en">emit</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">data</span>) {
        <span class="pl-k">if</span> (events[eventName]) {
            events[eventName].<span class="pl-c1">forEach</span>(<span class="pl-k">function</span>(<span class="pl-smi">fn</span>) {
                <span class="pl-en">fn</span>(data);
            });
        }
    }

    <span class="pl-k">return</span> {
        on<span class="pl-k">:</span> on,
        off<span class="pl-k">:</span> off,
        emit<span class="pl-k">:</span> emit
    };

})();</pre></div>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <a href="https://gist.github.com/Skhmt">
      <img alt="@Skhmt" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/15588102">
    </a>

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="03017e955de08bc9ff775094e4488750">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/Skhmt">
              <img src="./JS发布订阅模式_files/15588102(1)" width="28" height="28" alt="@Skhmt" class="avatar">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/Skhmt" class="author text-inherit">Skhmt</a>
  

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2016-07-07T22:12:48Z" title="2016年7月8日 GMT+12 上午10:12">on 8 Jul 2016</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <p>This fails if you have an event named 'toString' or 'hasOwnProperty' or 'valueOf' or other Object.prototype methods.</p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-1820948" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="03017e955de08bc9ff775094e4488750">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/Skhmt" class="author text-inherit">Skhmt</a>
  

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-1820948" class="timestamp"><relative-time datetime="2016-07-07T22:12:48Z" title="2016年7月8日 GMT+12 上午10:12">on 8 Jul 2016</relative-time></a>


  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p>This fails if you have an event named 'toString' or 'hasOwnProperty' or 'valueOf' or other Object.prototype methods.</p>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <a href="https://gist.github.com/eddiedane">
      <img alt="@eddiedane" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/17054632">
    </a>

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="233681c5a1101a58a962ec609cb08e30">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/eddiedane">
              <img src="./JS发布订阅模式_files/17054632(1)" width="28" height="28" alt="@eddiedane" class="avatar">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/eddiedane" class="author text-inherit">eddiedane</a>
  

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2016-12-11T12:43:40Z" title="2016年12月12日 GMT+13 上午1:43">on 12 Dec 2016</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <p><a href="https://github.com/akmur" class="user-mention">@akmur</a> its kind of a shorter version to this</p>
<p><code>this.events[eventName] = (this.events[eventName] === undefined) ? [] : this.events[eventName]/* || []*/</code></p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-1943471" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="233681c5a1101a58a962ec609cb08e30">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/eddiedane" class="author text-inherit">eddiedane</a>
  

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-1943471" class="timestamp"><relative-time datetime="2016-12-11T12:43:40Z" title="2016年12月12日 GMT+13 上午1:43">on 12 Dec 2016</relative-time></a>


  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p><a href="https://github.com/akmur" class="user-mention">@akmur</a> its kind of a shorter version to this</p>
<p><code>this.events[eventName] = (this.events[eventName] === undefined) ? [] : this.events[eventName]/* || []*/</code></p>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <a href="https://gist.github.com/frufin">
      <img alt="@frufin" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/17597383">
    </a>

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="beec425b4a9dd02268dda943a733505a">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/frufin">
              <img src="./JS发布订阅模式_files/17597383(1)" width="28" height="28" alt="@frufin" class="avatar">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/frufin" class="author text-inherit">frufin</a>
  

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2017-05-19T19:22:44Z" title="2017年5月20日 GMT+12 上午7:22">on 20 May 2017</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <p>Pub/sub is a great pattern, but we often have to create publishers/listeners in opposite directions as we may expect replies.<br>
Starting from another implementation, i added bidirectionalilty with silent, temporary reverse pub/sub, to avoid useless hard-coding :<br>
<a href="https://github.com/frufin/js-bidirectional-pubsub">https://github.com/frufin/js-bidirectional-pubsub</a></p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-2100475" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="beec425b4a9dd02268dda943a733505a">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/frufin" class="author text-inherit">frufin</a>
  

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-2100475" class="timestamp"><relative-time datetime="2017-05-19T19:22:44Z" title="2017年5月20日 GMT+12 上午7:22">on 20 May 2017</relative-time></a>


  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p>Pub/sub is a great pattern, but we often have to create publishers/listeners in opposite directions as we may expect replies.<br>
Starting from another implementation, i added bidirectionalilty with silent, temporary reverse pub/sub, to avoid useless hard-coding :<br>
<a href="https://github.com/frufin/js-bidirectional-pubsub">https://github.com/frufin/js-bidirectional-pubsub</a></p>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <a href="https://gist.github.com/golopot">
      <img alt="@golopot" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/16285118">
    </a>

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="66f7b1b9866def5aa4adf0fee7055ecc">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/golopot">
              <img src="./JS发布订阅模式_files/16285118(1)" width="28" height="28" alt="@golopot" class="avatar">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/golopot" class="author text-inherit">golopot</a>
  

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2017-05-26T01:00:27Z" title="2017年5月26日 GMT+12 下午1:00">on 26 May 2017</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <p>This gist is exactly the same as event programming. What's the difference between publisher-subscriber and event programming?</p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-2106819" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="66f7b1b9866def5aa4adf0fee7055ecc">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/golopot" class="author text-inherit">golopot</a>
  

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-2106819" class="timestamp"><relative-time datetime="2017-05-26T01:00:27Z" title="2017年5月26日 GMT+12 下午1:00">on 26 May 2017</relative-time></a>


  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p>This gist is exactly the same as event programming. What's the difference between publisher-subscriber and event programming?</p>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <a href="https://gist.github.com/camilacanhete">
      <img alt="@camilacanhete" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/8093058">
    </a>

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="15c7ba5a1f8aedbd65393f08f5118068">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/camilacanhete">
              <img src="./JS发布订阅模式_files/8093058(1)" width="28" height="28" alt="@camilacanhete" class="avatar">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/camilacanhete" class="author text-inherit">camilacanhete</a>
  

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2017-06-13T02:12:08Z" title="2017年6月13日 GMT+12 下午2:12">on 13 Jun 2017</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <p>It's not good to compare functions on javascript. My callbacks were not being unsubscribed<br>
A more safe way is to pass the caller object. Code below:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> events <span class="pl-k">=</span> {
                events<span class="pl-k">:</span> {},
		<span class="pl-en">subscribe</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">eventName</span>, <span class="pl-smi">object</span>, <span class="pl-smi">callback</span>) {
			<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName] <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName] <span class="pl-k">||</span> [];
			<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">push</span>({object<span class="pl-k">:</span> object, callback<span class="pl-k">:</span> callback});
		},
		<span class="pl-en">unsubscribe</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">object</span>, <span class="pl-smi">callback</span>) {
			<span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName]) {
				<span class="pl-k">for</span> (<span class="pl-k">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">length</span>; i<span class="pl-k">++</span>) {
					<span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName][i].<span class="pl-c1">object</span> <span class="pl-k">===</span> object) {
					  <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">splice</span>(i, <span class="pl-c1">1</span>);
					  <span class="pl-k">break</span>;
					}
				};
			}
		},
		<span class="pl-en">publish</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">eventName</span>, <span class="pl-smi">data</span>) {
			<span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName]) {
				<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">forEach</span>(<span class="pl-k">function</span>(<span class="pl-smi">instance</span>) {
					<span class="pl-smi">instance</span>.<span class="pl-en">callback</span>(data);
				});
			}
		}
};</pre></div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-2121807" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="15c7ba5a1f8aedbd65393f08f5118068">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/camilacanhete" class="author text-inherit">camilacanhete</a>
  

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-2121807" class="timestamp"><relative-time datetime="2017-06-13T02:12:08Z" title="2017年6月13日 GMT+12 下午2:12">on 13 Jun 2017</relative-time></a>


      
  <span class="d-inline-block text-gray-light">•</span>


  <div class="d-inline-block dropdown js-menu-container js-select-menu">
    <button class="btn-link no-underline text-gray dropdown-toggle js-menu-target" type="button" aria-expanded="false" aria-haspopup="true">
        edited
        <svg height="11" class="octicon octicon-triangle-down v-align-middle" viewBox="0 0 12 16" version="1.1" width="8" aria-hidden="true"><path fill-rule="evenodd" d="M0 5l6 6 6-6z"></path></svg>
    </button>

    <div class="dropdown-menu-content anim-scale-in js-menu-content">
      <div class="dropdown-menu dropdown-menu-se py-0 overflow-hidden" style="width:272px">
        <div class="dropdown-header px-3 py-2 border-bottom">Edited 1 time</div>
        <ul class="bg-gray-light" style="overflow-y:auto; max-height:250px">
          <li class="d-flex flex-justify-between border-bottom px-3 py-2 f6 css-truncate">
              <a href="https://github.com/camilacanhete" class="text-inherit no-underline">
                <img src="./JS发布订阅模式_files/8093058(2)" width="20" height="20" class="avatar avatar-small v-align-middle" alt="@camilacanhete">
                <span class="css-truncate-target v-align-middle text-bold text-gray-dark">camilacanhete </span>
              </a>
            <div><relative-time datetime="2017-06-13T02:13:40Z" title="2017年6月13日 GMT+12 下午2:13">on 13 Jun 2017</relative-time></div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p>It's not good to compare functions on javascript. My callbacks were not being unsubscribed<br>
A more safe way is to pass the caller object. Code below:</p>
<div class="highlight highlight-source-js"><pre><span class="pl-k">var</span> events <span class="pl-k">=</span> {
                events<span class="pl-k">:</span> {},
		<span class="pl-en">subscribe</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">eventName</span>, <span class="pl-smi">object</span>, <span class="pl-smi">callback</span>) {
			<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName] <span class="pl-k">=</span> <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName] <span class="pl-k">||</span> [];
			<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">push</span>({object<span class="pl-k">:</span> object, callback<span class="pl-k">:</span> callback});
		},
		<span class="pl-en">unsubscribe</span><span class="pl-k">:</span> <span class="pl-k">function</span>(<span class="pl-smi">eventName</span>, <span class="pl-smi">object</span>, <span class="pl-smi">callback</span>) {
			<span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName]) {
				<span class="pl-k">for</span> (<span class="pl-k">var</span> i <span class="pl-k">=</span> <span class="pl-c1">0</span>; i <span class="pl-k">&lt;</span> <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">length</span>; i<span class="pl-k">++</span>) {
					<span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName][i].<span class="pl-c1">object</span> <span class="pl-k">===</span> object) {
					  <span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">splice</span>(i, <span class="pl-c1">1</span>);
					  <span class="pl-k">break</span>;
					}
				};
			}
		},
		<span class="pl-en">publish</span><span class="pl-k">:</span> <span class="pl-k">function</span> (<span class="pl-smi">eventName</span>, <span class="pl-smi">data</span>) {
			<span class="pl-k">if</span> (<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName]) {
				<span class="pl-c1">this</span>.<span class="pl-smi">events</span>[eventName].<span class="pl-c1">forEach</span>(<span class="pl-k">function</span>(<span class="pl-smi">instance</span>) {
					<span class="pl-smi">instance</span>.<span class="pl-en">callback</span>(data);
				});
			}
		}
};</pre></div>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <a href="https://gist.github.com/robinpokorny">
      <img alt="@robinpokorny" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/68341">
    </a>

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="ddf6c933d3759934bfccdc976ae99cf7">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/robinpokorny">
              <img src="./JS发布订阅模式_files/68341(1)" width="28" height="28" alt="@robinpokorny" class="avatar">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/robinpokorny" class="author text-inherit">robinpokorny</a>
  

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2017-11-14T09:40:26Z" title="2017年11月14日 GMT+13 下午10:40">on 14 Nov 2017</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <p>Some time ago I was playing with pubsub, too. In the end, I used Set and Map from ES6 to avoid many pitfalls with objects and arrays.</p>
<p>For example, the code above allows multiple insertions of the same function but then only removes one instance. Set takes care of it, plus adding/removing is faster.</p>
<p>The problems with <code>toString</code> et al. can be avoided with Map.</p>
<p>Here is just the pubsub part (no named events):</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> pubsub.js</span>
<span class="pl-c1">module</span>.<span class="pl-en">exports</span> <span class="pl-k">=</span> () <span class="pl-k">=&gt;</span> {
  <span class="pl-k">const</span> <span class="pl-c1">subscribers</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Set</span>()

  <span class="pl-k">const</span> <span class="pl-c1">sub</span> <span class="pl-k">=</span> (<span class="pl-smi">fn</span>) <span class="pl-k">=&gt;</span> {
    <span class="pl-smi">subscribers</span>.<span class="pl-c1">add</span>(fn)

    <span class="pl-k">return</span> () <span class="pl-k">=&gt;</span> <span class="pl-smi">subscribers</span>.<span class="pl-c1">delete</span>(fn)
  }

  <span class="pl-k">const</span> <span class="pl-c1">pub</span> <span class="pl-k">=</span> (<span class="pl-smi">data</span>) <span class="pl-k">=&gt;</span> <span class="pl-smi">subscribers</span>.<span class="pl-c1">forEach</span>((<span class="pl-smi">fn</span>) <span class="pl-k">=&gt;</span> <span class="pl-en">fn</span>(data))

  <span class="pl-k">return</span> <span class="pl-c1">Object</span>.<span class="pl-en">freeze</span>({ pub, sub })
}</pre></div>
<p>If you are interested, the code can be found here: <a href="https://github.com/robinpokorny/dead-simple">https://github.com/robinpokorny/dead-simple</a></p>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-2257363" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="ddf6c933d3759934bfccdc976ae99cf7">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/robinpokorny" class="author text-inherit">robinpokorny</a>
  

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-2257363" class="timestamp"><relative-time datetime="2017-11-14T09:40:26Z" title="2017年11月14日 GMT+13 下午10:40">on 14 Nov 2017</relative-time></a>


  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p>Some time ago I was playing with pubsub, too. In the end, I used Set and Map from ES6 to avoid many pitfalls with objects and arrays.</p>
<p>For example, the code above allows multiple insertions of the same function but then only removes one instance. Set takes care of it, plus adding/removing is faster.</p>
<p>The problems with <code>toString</code> et al. can be avoided with Map.</p>
<p>Here is just the pubsub part (no named events):</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> pubsub.js</span>
<span class="pl-c1">module</span>.<span class="pl-en">exports</span> <span class="pl-k">=</span> () <span class="pl-k">=&gt;</span> {
  <span class="pl-k">const</span> <span class="pl-c1">subscribers</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Set</span>()

  <span class="pl-k">const</span> <span class="pl-c1">sub</span> <span class="pl-k">=</span> (<span class="pl-smi">fn</span>) <span class="pl-k">=&gt;</span> {
    <span class="pl-smi">subscribers</span>.<span class="pl-c1">add</span>(fn)

    <span class="pl-k">return</span> () <span class="pl-k">=&gt;</span> <span class="pl-smi">subscribers</span>.<span class="pl-c1">delete</span>(fn)
  }

  <span class="pl-k">const</span> <span class="pl-c1">pub</span> <span class="pl-k">=</span> (<span class="pl-smi">data</span>) <span class="pl-k">=&gt;</span> <span class="pl-smi">subscribers</span>.<span class="pl-c1">forEach</span>((<span class="pl-smi">fn</span>) <span class="pl-k">=&gt;</span> <span class="pl-en">fn</span>(data))

  <span class="pl-k">return</span> <span class="pl-c1">Object</span>.<span class="pl-en">freeze</span>({ pub, sub })
}</pre></div>
<p>If you are interested, the code can be found here: <a href="https://github.com/robinpokorny/dead-simple">https://github.com/robinpokorny/dead-simple</a></p>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>

  
  <div class="timeline-comment-wrapper js-comment-container">


        


<div class="avatar-parent-child timeline-comment-avatar">
    <a href="https://gist.github.com/DaniGithub">
      <img alt="@DaniGithub" width="44" height="44" class="avatar rounded-1" src="./JS发布订阅模式_files/9342005">
    </a>

</div>


      
<div class="js-minimizable-comment-group">
    <div class="minimized-comment d-none">
      

  <details class="Details-element details-reset border rounded-1 bg-white" data-body-version="36565089f35e3965c4f6bf1b127ea9c8">
    <summary class="bg-gray border-bottom-0 py-0 px-2">
      <div class="d-flex flex-justify-between flex-items-center">
        <h3 class="timeline-comment-header-text f5 text-gray text-normal text-italic">
              This comment has been minimized.

        </h3>
        <span class="Details-content--closed text-gray f6"><svg class="octicon octicon-unfold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.5 7.5L14 10c0 .55-.45 1-1 1H9v-1h3.5l-2-2h-7l-2 2H5v1H1c-.55 0-1-.45-1-1l2.5-2.5L0 5c0-.55.45-1 1-1h4v1H1.5l2 2h7l2-2H9V4h4c.55 0 1 .45 1 1l-2.5 2.5zM6 6h2V3h2L7 0 4 3h2v3zm2 3H6v3H4l3 3 3-3H8V9z"></path></svg>Show comment</span>
        <span class="Details-content--open text-gray f6"><svg class="octicon octicon-fold position-relative mr-1" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7 9l3 3H8v3H6v-3H4l3-3zm3-6H8V0H6v3H4l3 3 3-3zm4 2c0-.55-.45-1-1-1h-2.5l-1 1h3l-2 2h-7l-2-2h3l-1-1H1c-.55 0-1 .45-1 1l2.5 2.5L0 10c0 .55.45 1 1 1h2.5l1-1h-3l2-2h7l2 2h-3l1 1H13c.55 0 1-.45 1-1l-2.5-2.5L14 5z"></path></svg>Hide comment</span>
      </div>
    </summary>
    <div class="border-top">
      <div class="review-comment  previewable-edit js-comment js-task-list-container js-reorderable-task-lists reorderable-task-lists">
        <div class="edit-comment-hide">
          <div class="timeline-comment-actions">


          </div>
            <a class="float-left mt-1" href="https://gist.github.com/DaniGithub">
              <img src="./JS发布订阅模式_files/9342005(1)" width="28" height="28" alt="@DaniGithub" class="avatar">
            </a>
          <div class="review-comment-contents">
            <h4 class="f5 text-normal d-inline text-gray-dark">
              <strong class="text-gray">
                

  <a href="https://gist.github.com/DaniGithub" class="author text-inherit">DaniGithub</a>
  

              </strong>
              <span class="text-gray">
                  <relative-time datetime="2017-12-21T23:23:08Z" title="2017年12月22日 GMT+13 下午12:23">on 22 Dec 2017</relative-time>
              </span>
            </h4>
            

            <div class="comment-body markdown-body p-0 pt-1 js-comment-body">
                <p>My take on the pubsub pattern</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> PubSub Pattern</span>

<span class="pl-k">let</span> pubSub <span class="pl-k">=</span> {
  subscribers<span class="pl-k">:</span> <span class="pl-k">new</span> <span class="pl-en">Map</span>(),
  <span class="pl-en">subscribe</span>(<span class="pl-smi">name</span>, <span class="pl-smi">fn</span>) {
    <span class="pl-k">if</span>(<span class="pl-k">typeof</span> fn <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">"</span>function<span class="pl-pds">"</span></span>) 
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">"</span>Second parameter must be a function<span class="pl-pds">"</span></span>);
    <span class="pl-k">if</span>(<span class="pl-k">typeof</span> name <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>) 
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">"</span>First parameter must be a string<span class="pl-pds">"</span></span>);
    
    <span class="pl-k">if</span> (<span class="pl-k">!</span><span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">has</span>(name)) {
      <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">set</span>(name, <span class="pl-k">new</span> <span class="pl-en">Map</span>());
    }
    <span class="pl-k">if</span>(<span class="pl-smi">fn</span>.<span class="pl-c1">name</span> <span class="pl-k">===</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>) {
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">'</span>Function cannot be annonymous<span class="pl-pds">'</span></span>)
    } <span class="pl-k">else</span> {
      <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">get</span>(name).<span class="pl-c1">set</span>(<span class="pl-smi">fn</span>.<span class="pl-c1">name</span>, fn)
    }
  },
  <span class="pl-en">unsubscribe</span>(<span class="pl-smi">name</span>, <span class="pl-smi">fnName</span>) {
    <span class="pl-k">if</span>(<span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">has</span>(name)) {
      <span class="pl-k">if</span>(<span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">get</span>(name).<span class="pl-c1">get</span>(fnName)) {
        <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">get</span>(name).<span class="pl-c1">delete</span>(fnName);
        <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">get</span>(name).<span class="pl-c1">size</span> <span class="pl-k">===</span> <span class="pl-c1">0</span> <span class="pl-k">?</span> <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">delete</span>(name) <span class="pl-k">:</span> <span class="pl-c1">null</span>;
      } <span class="pl-k">else</span> {
        <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">`</span>Subscriber "<span class="pl-s1"><span class="pl-pse">${</span>fnName<span class="pl-pse">}</span></span>" not found<span class="pl-pds">`</span></span>);
      }
    } <span class="pl-k">else</span> {
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">`</span>Publisher "<span class="pl-s1"><span class="pl-pse">${</span>name<span class="pl-pse">}</span></span>" not found<span class="pl-pds">`</span></span>)
    }
  },
  <span class="pl-en">publish</span>(<span class="pl-smi">name</span>) {
    <span class="pl-k">if</span>(<span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">has</span>(name)) {
      <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">get</span>(name).<span class="pl-c1">forEach</span>(<span class="pl-smi">fn</span> <span class="pl-k">=&gt;</span> <span class="pl-en">fn</span>());
    } <span class="pl-k">else</span> {
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">`</span>Publisher "<span class="pl-s1"><span class="pl-pse">${</span>name<span class="pl-pse">}</span></span>" not found<span class="pl-pds">`</span></span>)
    }
  }
};

<span class="pl-smi">pubSub</span>.<span class="pl-en">subscribe</span>(<span class="pl-s"><span class="pl-pds">'</span>activate<span class="pl-pds">'</span></span>, <span class="pl-en">sayHi</span> <span class="pl-k">=</span> () <span class="pl-k">=&gt;</span> {<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>hi<span class="pl-pds">'</span></span>)});
<span class="pl-smi">pubSub</span>.<span class="pl-en">subscribe</span>(<span class="pl-s"><span class="pl-pds">'</span>activate<span class="pl-pds">'</span></span>, <span class="pl-en">sayWorld</span> <span class="pl-k">=</span> () <span class="pl-k">=&gt;</span> {<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>world<span class="pl-pds">'</span></span>)});
<span class="pl-smi">pubSub</span>.<span class="pl-en">subscribe</span>(<span class="pl-s"><span class="pl-pds">'</span>activate<span class="pl-pds">'</span></span>, <span class="pl-en">sayHeizenberg</span> <span class="pl-k">=</span> () <span class="pl-k">=&gt;</span> {<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>Heizenberg<span class="pl-pds">'</span></span>)});

<span class="pl-smi">pubSub</span>.<span class="pl-en">publish</span>(<span class="pl-s"><span class="pl-pds">'</span>activate<span class="pl-pds">'</span></span>)
</pre></div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </details>

    </div>
  <div id="gistcomment-2301947" class="unminimized-comment comment previewable-edit js-comment js-task-list-container timeline-comment js-reorderable-task-lists reorderable-task-lists " data-body-version="36565089f35e3965c4f6bf1b127ea9c8">

    
<div class="timeline-comment-header clearfix">
  <div class="timeline-comment-actions">
    







<!-- Closes div if we are showing the kebab menu -->

  </div>

    



  <h3 class="timeline-comment-header-text f5 text-normal">

    <strong>
      

  <a href="https://gist.github.com/DaniGithub" class="author text-inherit">DaniGithub</a>
  

    </strong>

    commented

    <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722#gistcomment-2301947" class="timestamp"><relative-time datetime="2017-12-21T23:23:08Z" title="2017年12月22日 GMT+13 下午12:23">on 22 Dec 2017</relative-time></a>


  </h3>
</div>


    <div class="edit-comment-hide">

      
<table class="d-block">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p>My take on the pubsub pattern</p>
<div class="highlight highlight-source-js"><pre><span class="pl-c"><span class="pl-c">//</span> PubSub Pattern</span>

<span class="pl-k">let</span> pubSub <span class="pl-k">=</span> {
  subscribers<span class="pl-k">:</span> <span class="pl-k">new</span> <span class="pl-en">Map</span>(),
  <span class="pl-en">subscribe</span>(<span class="pl-smi">name</span>, <span class="pl-smi">fn</span>) {
    <span class="pl-k">if</span>(<span class="pl-k">typeof</span> fn <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">"</span>function<span class="pl-pds">"</span></span>) 
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">"</span>Second parameter must be a function<span class="pl-pds">"</span></span>);
    <span class="pl-k">if</span>(<span class="pl-k">typeof</span> name <span class="pl-k">!==</span> <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>) 
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">"</span>First parameter must be a string<span class="pl-pds">"</span></span>);
    
    <span class="pl-k">if</span> (<span class="pl-k">!</span><span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">has</span>(name)) {
      <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">set</span>(name, <span class="pl-k">new</span> <span class="pl-en">Map</span>());
    }
    <span class="pl-k">if</span>(<span class="pl-smi">fn</span>.<span class="pl-c1">name</span> <span class="pl-k">===</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>) {
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">'</span>Function cannot be annonymous<span class="pl-pds">'</span></span>)
    } <span class="pl-k">else</span> {
      <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">get</span>(name).<span class="pl-c1">set</span>(<span class="pl-smi">fn</span>.<span class="pl-c1">name</span>, fn)
    }
  },
  <span class="pl-en">unsubscribe</span>(<span class="pl-smi">name</span>, <span class="pl-smi">fnName</span>) {
    <span class="pl-k">if</span>(<span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">has</span>(name)) {
      <span class="pl-k">if</span>(<span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">get</span>(name).<span class="pl-c1">get</span>(fnName)) {
        <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">get</span>(name).<span class="pl-c1">delete</span>(fnName);
        <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">get</span>(name).<span class="pl-c1">size</span> <span class="pl-k">===</span> <span class="pl-c1">0</span> <span class="pl-k">?</span> <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">delete</span>(name) <span class="pl-k">:</span> <span class="pl-c1">null</span>;
      } <span class="pl-k">else</span> {
        <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">`</span>Subscriber "<span class="pl-s1"><span class="pl-pse">${</span>fnName<span class="pl-pse">}</span></span>" not found<span class="pl-pds">`</span></span>);
      }
    } <span class="pl-k">else</span> {
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">`</span>Publisher "<span class="pl-s1"><span class="pl-pse">${</span>name<span class="pl-pse">}</span></span>" not found<span class="pl-pds">`</span></span>)
    }
  },
  <span class="pl-en">publish</span>(<span class="pl-smi">name</span>) {
    <span class="pl-k">if</span>(<span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">has</span>(name)) {
      <span class="pl-c1">this</span>.<span class="pl-smi">subscribers</span>.<span class="pl-c1">get</span>(name).<span class="pl-c1">forEach</span>(<span class="pl-smi">fn</span> <span class="pl-k">=&gt;</span> <span class="pl-en">fn</span>());
    } <span class="pl-k">else</span> {
      <span class="pl-k">throw</span> <span class="pl-k">new</span> <span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">`</span>Publisher "<span class="pl-s1"><span class="pl-pse">${</span>name<span class="pl-pse">}</span></span>" not found<span class="pl-pds">`</span></span>)
    }
  }
};

<span class="pl-smi">pubSub</span>.<span class="pl-en">subscribe</span>(<span class="pl-s"><span class="pl-pds">'</span>activate<span class="pl-pds">'</span></span>, <span class="pl-en">sayHi</span> <span class="pl-k">=</span> () <span class="pl-k">=&gt;</span> {<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>hi<span class="pl-pds">'</span></span>)});
<span class="pl-smi">pubSub</span>.<span class="pl-en">subscribe</span>(<span class="pl-s"><span class="pl-pds">'</span>activate<span class="pl-pds">'</span></span>, <span class="pl-en">sayWorld</span> <span class="pl-k">=</span> () <span class="pl-k">=&gt;</span> {<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>world<span class="pl-pds">'</span></span>)});
<span class="pl-smi">pubSub</span>.<span class="pl-en">subscribe</span>(<span class="pl-s"><span class="pl-pds">'</span>activate<span class="pl-pds">'</span></span>, <span class="pl-en">sayHeizenberg</span> <span class="pl-k">=</span> () <span class="pl-k">=&gt;</span> {<span class="pl-en">console</span>.<span class="pl-c1">log</span>(<span class="pl-s"><span class="pl-pds">'</span>Heizenberg<span class="pl-pds">'</span></span>)});

<span class="pl-smi">pubSub</span>.<span class="pl-en">publish</span>(<span class="pl-s"><span class="pl-pds">'</span>activate<span class="pl-pds">'</span></span>)
</pre></div>
      </td>
    </tr>
  </tbody>
</table>


    </div>

  </div>
</div>

  </div>



<!-- Rendered timeline since 2018-03-09 16:59:26 -->
<div id="partial-timeline-marker" class="js-timeline-marker js-updatable-content" data-url="/learncodeacademy/777349747d8382bfb722/show_partial?partial=gist%2Ftimeline_marker&amp;since=1520643566" data-last-modified="Sat, 10 Mar 2018 00:59:26 GMT">
</div>


        <div class="discussion-timeline-actions">
            <div class="timeline-comment-wrapper timeline-new-comment js-comment-container">
  <span class="position-relative timeline-comment-avatar"><a href="https://gist.github.com/ZereL"><img class="avatar" src="./JS发布订阅模式_files/5060870(1)" width="44" height="44" alt="@ZereL"></a></span>

  <!-- '"` --><!-- </textarea></xmp> --><form class="js-new-comment-form js-needs-timeline-marker-header" action="https://gist.github.com/learncodeacademy/777349747d8382bfb722/comments" accept-charset="UTF-8" method="post"><input name="utf8" type="hidden" value="✓"><input type="hidden" name="authenticity_token" value="+jLO9+WT43bYGfED40YYqzyo5iMiyvDNcu3+6mtc809kyN7lqA1gHmeXh2nP46NselksjG/hUGTYptjs8RteHQ==">
    <div class="timeline-comment">
      <div class="js-suggester-container  js-previewable-comment-form previewable-comment-form write-selected" data-preview-url="/preview?markdown_unsupported=false&amp;subject=777349747d8382bfb722&amp;subject_type=Gist" data-preview-authenticity-token="6cF1Q584DWes7KcqB4BqBQJsQEt50KC+RcL/AZJa9BuHDU8SRaE4coct5YBPJrIIKoxRjNe4iTvPsoIpUw1arw==">
  <div class="comment-form-head tabnav">
      <markdown-toolbar for="new_comment_field" data-saved-reply-contents-url="/settings/replies?context=none" class="toolbar-commenting"><svg class="octicon octicon-text-size d-none" viewBox="0 0 18 16" version="1.1" width="18" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.62 9.08L12.1 3.66h-.06l-1.5 5.42h3.08zM5.7 10.13S4.68 6.52 4.53 6.02h-.08l-1.13 4.11H5.7zM17.31 14h-2.25l-.95-3.25h-4.07L9.09 14H6.84l-.69-2.33H2.87L2.17 14H0l3.3-9.59h2.5l2.17 6.34L10.86 2h2.52l3.94 12h-.01z"></path></svg><svg class="octicon octicon-bold d-none" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1 2h3.83c2.48 0 4.3.75 4.3 2.95 0 1.14-.63 2.23-1.67 2.61v.06c1.33.3 2.3 1.23 2.3 2.86 0 2.39-1.97 3.52-4.61 3.52H1V2zm3.66 4.95c1.67 0 2.38-.66 2.38-1.69 0-1.17-.78-1.61-2.34-1.61H3.13v3.3h1.53zm.27 5.39c1.77 0 2.75-.64 2.75-1.98 0-1.27-.95-1.81-2.75-1.81h-1.8v3.8h1.8v-.01z"></path></svg><svg class="octicon octicon-italic d-none" viewBox="0 0 6 16" version="1.1" width="6" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2.81 5h1.98L3 14H1l1.81-9zm.36-2.7c0-.7.58-1.3 1.33-1.3.56 0 1.13.38 1.13 1.03 0 .75-.59 1.3-1.33 1.3-.58 0-1.13-.38-1.13-1.03z"></path></svg><svg class="octicon octicon-quote d-none" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.16 3.5C3.73 5.06 2.55 6.67 2.55 9.36c.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.9 0-2.99-1.52-2.99-4.25 0-3.8 1.75-6.53 5.02-8.42L6.16 3.5zm7 0c-2.43 1.56-3.61 3.17-3.61 5.86.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.89 0-2.98-1.52-2.98-4.25 0-3.8 1.75-6.53 5.02-8.42l1.14 1.84h-.01z"></path></svg><svg class="octicon octicon-code d-none" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path></svg><svg class="octicon octicon-link d-none" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg><svg class="octicon octicon-list-unordered d-none" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 13c0 .59 0 1-.59 1H.59C0 14 0 13.59 0 13c0-.59 0-1 .59-1h.81c.59 0 .59.41.59 1H2zm2.59-9h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1H4.59C4 2 4 2.41 4 3c0 .59 0 1 .59 1zM1.41 7H.59C0 7 0 7.41 0 8c0 .59 0 1 .59 1h.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm0-5H.59C0 2 0 2.41 0 3c0 .59 0 1 .59 1h.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm10 5H4.59C4 7 4 7.41 4 8c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm0 5H4.59C4 12 4 12.41 4 13c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01z"></path></svg><svg class="octicon octicon-list-ordered d-none" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 13c0 .59 0 1-.59 1H4.59C4 14 4 13.59 4 13c0-.59 0-1 .59-1h6.81c.59 0 .59.41.59 1H12zM4.59 4h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1H4.59C4 2 4 2.41 4 3c0 .59 0 1 .59 1zm6.81 3H4.59C4 7 4 7.41 4 8c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1zM2 1h-.72c-.3.19-.58.25-1.03.34V2H1v2.14H.16V5H3v-.86H2V1zm.25 8.13c-.17 0-.45.03-.66.06.53-.56 1.14-1.25 1.14-1.89C2.71 6.52 2.17 6 1.37 6c-.59 0-.97.2-1.38.64l.58.58c.19-.19.38-.38.64-.38.28 0 .48.16.48.52 0 .53-.77 1.2-1.7 2.06V10h3l-.09-.88h-.66l.01.01zm-.08 3.78v-.03c.44-.19.64-.47.64-.86 0-.7-.56-1.11-1.44-1.11-.48 0-.89.19-1.28.52l.55.64c.25-.2.44-.31.69-.31.27 0 .42.13.42.36 0 .27-.2.44-.86.44v.75c.83 0 .98.17.98.47 0 .25-.23.38-.58.38-.28 0-.56-.14-.81-.38l-.48.66c.3.36.77.56 1.41.56.83 0 1.53-.41 1.53-1.16 0-.5-.31-.81-.77-.94v.01z"></path></svg><svg class="octicon octicon-tasklist d-none" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M15.41 9H7.59C7 9 7 8.59 7 8c0-.59 0-1 .59-1h7.81c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM9.59 4C9 4 9 3.59 9 3c0-.59 0-1 .59-1h5.81c.59 0 .59.41.59 1 0 .59 0 1-.59 1H9.59zM0 3.91l1.41-1.3L3 4.2 7.09 0 8.5 1.41 3 6.91l-3-3zM7.59 12h7.81c.59 0 .59.41.59 1 0 .59 0 1-.59 1H7.59C7 14 7 13.59 7 13c0-.59 0-1 .59-1z"></path></svg><svg class="octicon octicon-reply d-none" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 3.5c3.92.44 8 3.125 8 10-2.312-5.062-4.75-6-8-6V11L.5 5.5 6 0v3.5z"></path></svg><svg class="octicon octicon-x js-menu-close d-none" role="img" aria-label="Close" viewBox="0 0 12 16" version="1.1" width="12" height="16"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg><svg class="octicon octicon-octoface d-none" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"></path></svg><svg class="octicon octicon-mention d-none" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.58 15c1.25 0 2.52-.31 3.56-.94l-.42-.94c-.84.52-1.89.83-3.03.83-3.23 0-5.64-2.08-5.64-5.72 0-4.37 3.23-7.18 6.58-7.18 3.45 0 5.22 2.19 5.22 5.2 0 2.39-1.34 3.86-2.5 3.86-1.05 0-1.36-.73-1.05-2.19l.73-3.75H8.98l-.11.72c-.41-.63-.94-.83-1.56-.83-2.19 0-3.66 2.39-3.66 4.38 0 1.67.94 2.61 2.3 2.61.84 0 1.67-.53 2.3-1.25.11.94.94 1.45 1.98 1.45 1.67 0 3.77-1.67 3.77-5C14 2.61 11.59 0 7.83 0 3.66 0 0 3.33 0 8.33 0 12.71 2.92 15 6.58 15zm-.31-5c-.73 0-1.36-.52-1.36-1.67 0-1.45.94-3.22 2.41-3.22.52 0 .84.2 1.25.83l-.52 3.02c-.63.73-1.25 1.05-1.78 1.05V10z"></path></svg><svg class="octicon octicon-bookmark d-none" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
  <div class="toolbar-group">
    <div class="toolbar-item dropdown js-menu-container">
      <button type="button" tabindex="-1" class="js-menu-target menu-target tooltipped tooltipped-n" aria-label="Add header text" aria-expanded="false" aria-haspopup="true">
        <svg class="octicon octicon-text-size" viewBox="0 0 18 16" version="1.1" width="18" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M13.62 9.08L12.1 3.66h-.06l-1.5 5.42h3.08zM5.7 10.13S4.68 6.52 4.53 6.02h-.08l-1.13 4.11H5.7zM17.31 14h-2.25l-.95-3.25h-4.07L9.09 14H6.84l-.69-2.33H2.87L2.17 14H0l3.3-9.59h2.5l2.17 6.34L10.86 2h2.52l3.94 12h-.01z"></path></svg>
        <span class="dropdown-caret"></span>
      </button>

      <div class="dropdown-menu-content js-menu-content">
        <ul class="dropdown-menu dropdown-menu-s">
          <button type="button" class="dropdown-item dropdown-header1" data-prefix="# " data-ga-click="Markdown Toolbar, click, header1">
            Header
          </button>
          <button type="button" class="dropdown-item dropdown-header2" data-prefix="## " data-ga-click="Markdown Toolbar, click, header2">
            Header
          </button>
          <button type="button" class="dropdown-item dropdown-header3" data-prefix="### " data-ga-click="Markdown Toolbar, click, header3">
            Header
          </button>
        </ul>
      </div>
    </div>

    <button type="button" tabindex="-1" class="toolbar-item tooltipped tooltipped-n" aria-label="Add bold text &lt;ctrl+b&gt;" data-prefix="**" data-suffix="**" data-toolbar-hotkey="b" data-ga-click="Markdown Toolbar, click, bold" data-trim-first="">
      <svg class="octicon octicon-bold" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M1 2h3.83c2.48 0 4.3.75 4.3 2.95 0 1.14-.63 2.23-1.67 2.61v.06c1.33.3 2.3 1.23 2.3 2.86 0 2.39-1.97 3.52-4.61 3.52H1V2zm3.66 4.95c1.67 0 2.38-.66 2.38-1.69 0-1.17-.78-1.61-2.34-1.61H3.13v3.3h1.53zm.27 5.39c1.77 0 2.75-.64 2.75-1.98 0-1.27-.95-1.81-2.75-1.81h-1.8v3.8h1.8v-.01z"></path></svg>
    </button>

    <button type="button" tabindex="-1" class="toolbar-item tooltipped tooltipped-n" aria-label="Add italic text &lt;ctrl+i&gt;" data-prefix="_" data-suffix="_" data-toolbar-hotkey="i" data-ga-click="Markdown Toolbar, click, italic" data-trim-first="">
      <svg class="octicon octicon-italic" viewBox="0 0 6 16" version="1.1" width="6" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2.81 5h1.98L3 14H1l1.81-9zm.36-2.7c0-.7.58-1.3 1.33-1.3.56 0 1.13.38 1.13 1.03 0 .75-.59 1.3-1.33 1.3-.58 0-1.13-.38-1.13-1.03z"></path></svg>
    </button>
  </div>

  <div class="toolbar-group">
    <button type="button" tabindex="-1" class="toolbar-item tooltipped tooltipped-n" aria-label="Insert a quote" data-prefix="&gt; " data-multiline="true" data-ga-click="Markdown Toolbar, click, quote" data-surround-with-newlines="">
      <svg class="octicon octicon-quote" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.16 3.5C3.73 5.06 2.55 6.67 2.55 9.36c.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.9 0-2.99-1.52-2.99-4.25 0-3.8 1.75-6.53 5.02-8.42L6.16 3.5zm7 0c-2.43 1.56-3.61 3.17-3.61 5.86.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.89 0-2.98-1.52-2.98-4.25 0-3.8 1.75-6.53 5.02-8.42l1.14 1.84h-.01z"></path></svg>
    </button>

    <button type="button" tabindex="-1" class="toolbar-item tooltipped tooltipped-n" aria-label="Insert code" data-prefix="`" data-suffix="`" data-block-prefix="```" data-block-suffix="```" data-ga-click="Markdown Toolbar, click, code">
      <svg class="octicon octicon-code" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"></path></svg>
    </button>

    <button type="button" tabindex="-1" class="toolbar-item tooltipped tooltipped-n" aria-label="Add a link &lt;ctrl+k&gt;" data-prefix="[" data-suffix="](url)" data-replace-next="url" data-toolbar-hotkey="k" data-scan-for="https?://" data-ga-click="Markdown Toolbar, click, link">
      <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>
    </button>
  </div>

  <div class="toolbar-group">
    <button type="button" tabindex="-1" class="toolbar-item tooltipped tooltipped-n" aria-label="Add a bulleted list" data-multiline="true" data-prefix="- " data-ga-click="Markdown Toolbar, click, unordered list" data-surround-with-newlines="">
      <svg class="octicon octicon-list-unordered" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2 13c0 .59 0 1-.59 1H.59C0 14 0 13.59 0 13c0-.59 0-1 .59-1h.81c.59 0 .59.41.59 1H2zm2.59-9h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1H4.59C4 2 4 2.41 4 3c0 .59 0 1 .59 1zM1.41 7H.59C0 7 0 7.41 0 8c0 .59 0 1 .59 1h.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm0-5H.59C0 2 0 2.41 0 3c0 .59 0 1 .59 1h.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm10 5H4.59C4 7 4 7.41 4 8c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm0 5H4.59C4 12 4 12.41 4 13c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01z"></path></svg>
    </button>
    <button type="button" tabindex="-1" class="toolbar-item tooltipped tooltipped-n" aria-label="Add a numbered list" data-prefix="1. " data-multiline="true" data-ga-click="Markdown Toolbar, click, ordered list" data-ordered-list="">
      <svg class="octicon octicon-list-ordered" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M12 13c0 .59 0 1-.59 1H4.59C4 14 4 13.59 4 13c0-.59 0-1 .59-1h6.81c.59 0 .59.41.59 1H12zM4.59 4h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1H4.59C4 2 4 2.41 4 3c0 .59 0 1 .59 1zm6.81 3H4.59C4 7 4 7.41 4 8c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1zM2 1h-.72c-.3.19-.58.25-1.03.34V2H1v2.14H.16V5H3v-.86H2V1zm.25 8.13c-.17 0-.45.03-.66.06.53-.56 1.14-1.25 1.14-1.89C2.71 6.52 2.17 6 1.37 6c-.59 0-.97.2-1.38.64l.58.58c.19-.19.38-.38.64-.38.28 0 .48.16.48.52 0 .53-.77 1.2-1.7 2.06V10h3l-.09-.88h-.66l.01.01zm-.08 3.78v-.03c.44-.19.64-.47.64-.86 0-.7-.56-1.11-1.44-1.11-.48 0-.89.19-1.28.52l.55.64c.25-.2.44-.31.69-.31.27 0 .42.13.42.36 0 .27-.2.44-.86.44v.75c.83 0 .98.17.98.47 0 .25-.23.38-.58.38-.28 0-.56-.14-.81-.38l-.48.66c.3.36.77.56 1.41.56.83 0 1.53-.41 1.53-1.16 0-.5-.31-.81-.77-.94v.01z"></path></svg>
    </button>

    <button type="button" tabindex="-1" class="toolbar-item tooltipped tooltipped-n" aria-label="Add a task list" data-prefix="- [ ] " data-toolbar-hotkey="L" data-multiline="" data-ga-click="Markdown Toolbar, click, task list" data-surround-with-newlines="">
      <svg class="octicon octicon-tasklist" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M15.41 9H7.59C7 9 7 8.59 7 8c0-.59 0-1 .59-1h7.81c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM9.59 4C9 4 9 3.59 9 3c0-.59 0-1 .59-1h5.81c.59 0 .59.41.59 1 0 .59 0 1-.59 1H9.59zM0 3.91l1.41-1.3L3 4.2 7.09 0 8.5 1.41 3 6.91l-3-3zM7.59 12h7.81c.59 0 .59.41.59 1 0 .59 0 1-.59 1H7.59C7 14 7 13.59 7 13c0-.59 0-1 .59-1z"></path></svg>
    </button>
  </div>

  <div class="toolbar-group">

    <div class="toolbar-item select-menu select-menu-modal-right js-menu-container js-select-menu js-load-contents js-saved-reply-container" data-feature="saved_replies" data-contents-url="/settings/replies?context=none">

      <button type="button" tabindex="-1" class="js-menu-target menu-target tooltipped tooltipped-nw" aria-label="Insert a reply" aria-expanded="false" aria-haspopup="true" data-ga-click="Markdown Toolbar, click, saved reply">
        <svg class="octicon octicon-reply" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6 3.5c3.92.44 8 3.125 8 10-2.312-5.062-4.75-6-8-6V11L.5 5.5 6 0v3.5z"></path></svg>
        <span class="dropdown-caret"></span>
      </button>

      <div class="select-menu-modal-holder js-menu-content js-navigation-container">
        <div class="select-menu-modal">
          <div class="select-menu-header">
            <svg class="octicon octicon-x js-menu-close" role="img" aria-label="Close" viewBox="0 0 12 16" version="1.1" width="12" height="16"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
            <span class="select-menu-title">Select a reply</span>
            <kbd>ctrl .</kbd>
          </div>
          <div class="js-select-menu-deferred-content"></div>
          <div class="select-menu-loading-overlay anim-pulse">
            <svg class="octicon octicon-octoface" height="32" viewBox="0 0 16 16" version="1.1" width="32" aria-hidden="true"><path fill-rule="evenodd" d="M14.7 5.34c.13-.32.55-1.59-.13-3.31 0 0-1.05-.33-3.44 1.3-1-.28-2.07-.32-3.13-.32s-2.13.04-3.13.32c-2.39-1.64-3.44-1.3-3.44-1.3-.68 1.72-.26 2.99-.13 3.31C.49 6.21 0 7.33 0 8.69 0 13.84 3.33 15 7.98 15S16 13.84 16 8.69c0-1.36-.49-2.48-1.3-3.35zM8 14.02c-3.3 0-5.98-.15-5.98-3.35 0-.76.38-1.48 1.02-2.07 1.07-.98 2.9-.46 4.96-.46 2.07 0 3.88-.52 4.96.46.65.59 1.02 1.3 1.02 2.07 0 3.19-2.68 3.35-5.98 3.35zM5.49 9.01c-.66 0-1.2.8-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.54-1.78-1.2-1.78zm5.02 0c-.66 0-1.2.79-1.2 1.78s.54 1.79 1.2 1.79c.66 0 1.2-.8 1.2-1.79s-.53-1.78-1.2-1.78z"></path></svg>
          </div>
        </div>
      </div>
    </div>

    <button type="button" tabindex="-1" class="toolbar-item tooltipped tooltipped-nw" aria-label="Directly mention a user or team" data-prefix="@" data-prefix-space="" data-ga-click="Markdown Toolbar, click, mention">
      <svg class="octicon octicon-mention" viewBox="0 0 14 16" version="1.1" width="14" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M6.58 15c1.25 0 2.52-.31 3.56-.94l-.42-.94c-.84.52-1.89.83-3.03.83-3.23 0-5.64-2.08-5.64-5.72 0-4.37 3.23-7.18 6.58-7.18 3.45 0 5.22 2.19 5.22 5.2 0 2.39-1.34 3.86-2.5 3.86-1.05 0-1.36-.73-1.05-2.19l.73-3.75H8.98l-.11.72c-.41-.63-.94-.83-1.56-.83-2.19 0-3.66 2.39-3.66 4.38 0 1.67.94 2.61 2.3 2.61.84 0 1.67-.53 2.3-1.25.11.94.94 1.45 1.98 1.45 1.67 0 3.77-1.67 3.77-5C14 2.61 11.59 0 7.83 0 3.66 0 0 3.33 0 8.33 0 12.71 2.92 15 6.58 15zm-.31-5c-.73 0-1.36-.52-1.36-1.67 0-1.45.94-3.22 2.41-3.22.52 0 .84.2 1.25.83l-.52 3.02c-.63.73-1.25 1.05-1.78 1.05V10z"></path></svg>
    </button>

    <button type="button" tabindex="-1" class="toolbar-item tooltipped tooltipped-nw" aria-label="Reference an issue or pull request" data-prefix="#" data-prefix-space="" data-ga-click="Markdown Toolbar, click, reference">
      <svg class="octicon octicon-bookmark" viewBox="0 0 10 16" version="1.1" width="10" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M9 0H1C.27 0 0 .27 0 1v15l5-3.09L10 16V1c0-.73-.27-1-1-1zm-.78 4.25L6.36 5.61l.72 2.16c.06.22-.02.28-.2.17L5 6.6 3.12 7.94c-.19.11-.25.05-.2-.17l.72-2.16-1.86-1.36c-.17-.16-.14-.23.09-.23l2.3-.03.7-2.16h.25l.7 2.16 2.3.03c.23 0 .27.08.09.23h.01z"></path></svg>
    </button>
  </div>
</markdown-toolbar>
      <nav class="tabnav-tabs" role="tablist">
        <button type="button" class="btn-link tabnav-tab write-tab js-write-tab selected " role="tab" aria-selected="true">Write</button>
        <button type="button" class="btn-link tabnav-tab preview-tab js-preview-tab " role="tab">Preview</button>
      </nav>
  </div>


  <div class="comment-form-error js-comment-form-error" style="display:none">    There was an error creating your Gist.
</div>
  <div class="write-content js-write-bucket js-uploadable-container js-upload-markdown-image is-default upload-enabled" data-upload-policy-url="/upload/policies/assets" data-upload-policy-authenticity-token="J38yJrqVqFWfAdYXjF6QWzmMvO6DQkGyRah2Pf4QwHIMM9lvpLDdgq3bMXAzM3Rp/XsuLbIc7GjtYX8WdEPsxQ==">

    <input type="hidden" name="saved_reply_id" class="js-saved-reply-id js-resettable-field" value="" data-reset-value="">

    <textarea name="comment[body]" id="new_comment_field" placeholder="Leave a comment" aria-label="Comment body" class="form-control input-contrast comment-form-textarea js-comment-field js-task-list-field js-quick-submit js-size-to-fit js-suggester-field js-quote-selection-target js-session-resumable js-saved-reply-shortcut-comment-field"></textarea>

        <p class="drag-and-drop position-relative">
    <input accept=".gif,.jpeg,.jpg,.png" type="file" multiple="multiple" class="manual-file-chooser top-0 right-0 bottom-0 left-0 width-full ml-0 js-manual-file-chooser" aria-label="Attach files to your comment">
    <span class="default">
        Attach files by dragging &amp; dropping,
        <span class="btn-link manual-file-chooser-text">selecting them</span>, or pasting
        from the clipboard.
    </span>
    <span class="loading">
      <img alt="" width="16" height="16" src="./JS发布订阅模式_files/octocat-spinner-32.gif"> Uploading your files…
    </span>
    <span class="error bad-file">
      We don’t support that file type.
      <span class="drag-and-drop-error-info">
        <button type="button" class="btn-link manual-file-chooser-text">Try again</button> with a
        GIF, JPEG, JPG or PNG.
      </span>
    </span>
    <span class="error bad-permissions">
      Attaching documents requires write permission to this repository.
      <span class="drag-and-drop-error-info">
        <button type="button" class="btn-link manual-file-chooser-text">Try again</button> with a GIF, JPEG, JPG or PNG.
      </span>
    </span>
    <span class="error repository-required">
      We don’t support that file type.
      <span class="drag-and-drop-error-info">
        <button type="button" class="btn-link manual-file-chooser-text">Try again</button> with a GIF, JPEG, JPG or PNG.
      </span>
    </span>
    <span class="error too-big">
      Yowza, that’s a big file
      <span class="drag-and-drop-error-info">
        <button type="button" class="btn-link manual-file-chooser-text">Try again</button> with a file smaller than 10MB.
      </span>
    </span>
    <span class="error empty">
      This file is empty.
      <span class="drag-and-drop-error-info">
        <button type="button" class="btn-link manual-file-chooser-text">Try again</button> with a file that’s not empty.
      </span>
    </span>
    <span class="error hidden-file">
      This file is hidden.
      <span class="drag-and-drop-error-info">
        <button type="button" class="btn-link manual-file-chooser-text">Try again</button> with another file.
      </span>
    </span>
    <span class="error failed-request">
      Something went really wrong, and we can’t process that file.
      <span class="drag-and-drop-error-info">
        <button type="button" class="btn-link manual-file-chooser-text">Try again.</button>
      </span>
    </span>
  </p>


    <div class="suggester-container">
      <div class="suggester js-suggester js-navigation-container" data-url="/learncodeacademy/777349747d8382bfb722/suggestions">
      </div>
    </div>
  </div>

  <div class="preview-content">
    <div class="comment">
  <div class="comment-body markdown-body js-preview-body">
    <p>Nothing to preview</p>
  </div>
</div>

  </div>

  <div class="float-left">
      <a class="tabnav-extra" href="https://guides.github.com/features/mastering-markdown/" target="_blank" data-ga-click="Markdown Toolbar, click, help">
        <svg class="octicon octicon-markdown v-align-bottom" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M14.85 3H1.15C.52 3 0 3.52 0 4.15v7.69C0 12.48.52 13 1.15 13h13.69c.64 0 1.15-.52 1.15-1.15v-7.7C16 3.52 15.48 3 14.85 3zM9 11H7V8L5.5 9.92 4 8v3H2V5h2l1.5 2L7 5h2v6zm2.99.5L9.5 8H11V5h2v3h1.5l-2.51 3.5z"></path></svg>
        Styling with Markdown is supported
      </a>
  </div>


  <div class="comment-form-error comment-form-bottom js-comment-update-error"></div>
</div>


      <div class="form-actions">
        <div id="partial-new-comment-form-actions">
  <button type="submit" class="btn btn-primary" data-disable-with="" data-disable-invalid="">
    Comment
  </button>
</div>

      </div>
    </div>
</form></div>

        </div>
      </div>
    </div>
</div>
  </div>

  <div class="modal-backdrop js-touch-events"></div>
</div><!-- /.container -->

    </div>
  </div>

  </div>

      
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between py-6 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">© 2018 <span title="0.41910s from unicorn-529829159-k29l6">GitHub</span>, Inc.</li>
        <li class="mr-3"><a href="https://help.github.com/articles/github-terms-of-service/" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li class="mr-3"><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li class="mr-3"><a href="https://help.github.com/articles/github-security/" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a data-ga-click="Footer, go to help, text:help" href="https://help.github.com/">Help</a></li>
    </ul>

    <a aria-label="Homepage" title="GitHub" class="footer-octicon" href="https://github.com/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24" aria-hidden="true"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
</a>
    <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a data-ga-click="Footer, go to contact, text:contact" href="https://github.com/contact">Contact GitHub</a></li>
      <li class="mr-3"><a href="https://developer.github.com/" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com/" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li class="mr-3"><a href="https://shop.github.com/" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li class="mr-3"><a data-ga-click="Footer, go to blog, text:blog" href="https://github.com/blog">Blog</a></li>
        <li><a data-ga-click="Footer, go to about, text:about" href="https://github.com/about">About</a></li>

    </ul>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"></path></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
    </button>
    You can't perform that action at this time.
  </div>


    
    <script crossorigin="anonymous" integrity="sha512-opnS0aay2ZbyHDGGXD1rqjVRR+MVTaj7nr5X1kI7LNiySlgjwWgPt1lL175Qrd6U3AV2iZdYBqOLcTW1eKgHQw==" type="application/javascript" src="./JS发布订阅模式_files/frameworks-5666c84bff85.js.下载"></script>
    
    <script crossorigin="anonymous" async="async" integrity="sha512-lzb+USHaHgaht8XIifnC6QJ6z3NNrm6cQh2AA6Ya5pxNHfHf4WlsjAYNRDPteXc35dZyS2/ZZ3lu/8wOXjP4RA==" type="application/javascript" src="./JS发布订阅模式_files/github-098e351fff12.js.下载"></script>
    
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg class="octicon octicon-alert" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"></path></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="https://gist.github.com/learncodeacademy/777349747d8382bfb722">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"></path></svg>
    </button>
  </div>
</div>

  

  


</body></html>